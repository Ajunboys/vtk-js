<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Math | vtk.js</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://kitware.github.io/vtk-js/api/Math.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://kitware.github.io/vtk-js/api/Math.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/vtk-js/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/vtk-js/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/vtk-js/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/vtk-js/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/vtk-js/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/vtk-js/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/vtk-js/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/vtk-js/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/vtk-js/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/vtk-js/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/vtk-js/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/vtk-js/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/vtk-js/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/vtk-js/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/vtk-js/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/vtk-js/atom.xml" title="vtk.js">
  <!-- Open Graph -->
  <meta name="description" content="Pi() : Math.PI;Return PI.
radiansFromDegrees(degree) : radianConvert degrees to radians.
degreesFromRadians(radian) : degreeConvert radians to degrees.
round(float): intSame as Math.round().
floor(flo">
<meta property="og:type" content="website">
<meta property="og:title" content="Math">
<meta property="og:url" content="https://kitware.github.io/vtk-js/api/Math.html">
<meta property="og:site_name" content="vtk.js">
<meta property="og:description" content="Pi() : Math.PI;Return PI.
radiansFromDegrees(degree) : radianConvert degrees to radians.
degreesFromRadians(radian) : degreeConvert radians to degrees.
round(float): intSame as Math.round().
floor(flo">
<meta property="og:updated_time" content="2016-12-09T22:01:05.714Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Math">
<meta name="twitter:description" content="Pi() : Math.PI;Return PI.
radiansFromDegrees(degree) : radianConvert degrees to radians.
degreesFromRadians(radian) : degreeConvert radians to degrees.
round(float): intSame as Math.round().
floor(flo">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90338862-1', 'auto');
  ga('send', 'pageview');
</script>

</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/vtk-js/" id="logo">ParaViewWeb</a>
    </h1>
    <nav id="main-nav">
      <a href="/vtk-js/docs/" class="main-nav-link">Docs</a><a href="/vtk-js/api/" class="main-nav-link">API</a><a href="/vtk-js/examples/" class="main-nav-link">Examples</a>
      <a href="https://github.com/kitware/vtk-js" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Math</h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h3 id="Pi-Math-PI" class="article-heading"><a href="#Pi-Math-PI" class="headerlink" title="Pi() : Math.PI;"></a>Pi() : Math.PI;<a class="article-anchor" href="#Pi-Math-PI" aria-hidden="true"></a></h3><p>Return PI.</p>
<h3 id="radiansFromDegrees-degree-radian" class="article-heading"><a href="#radiansFromDegrees-degree-radian" class="headerlink" title="radiansFromDegrees(degree) : radian"></a>radiansFromDegrees(degree) : radian<a class="article-anchor" href="#radiansFromDegrees-degree-radian" aria-hidden="true"></a></h3><p>Convert degrees to radians.</p>
<h3 id="degreesFromRadians-radian-degree" class="article-heading"><a href="#degreesFromRadians-radian-degree" class="headerlink" title="degreesFromRadians(radian) : degree"></a>degreesFromRadians(radian) : degree<a class="article-anchor" href="#degreesFromRadians-radian-degree" aria-hidden="true"></a></h3><p>Convert radians to degrees.</p>
<h3 id="round-float-int" class="article-heading"><a href="#round-float-int" class="headerlink" title="round(float): int"></a>round(float): int<a class="article-anchor" href="#round-float-int" aria-hidden="true"></a></h3><p>Same as Math.round().</p>
<h3 id="floor-float-int" class="article-heading"><a href="#floor-float-int" class="headerlink" title="floor(float) : int"></a>floor(float) : int<a class="article-anchor" href="#floor-float-int" aria-hidden="true"></a></h3><p>Same as Math.floor().</p>
<h3 id="ceil-float-int" class="article-heading"><a href="#ceil-float-int" class="headerlink" title="ceil(float) : int"></a>ceil(float) : int<a class="article-anchor" href="#ceil-float-int" aria-hidden="true"></a></h3><p>Same as Math.ceil().</p>
<h3 id="ceilLog2" class="article-heading"><a href="#ceilLog2" class="headerlink" title="ceilLog2()"></a>ceilLog2()<a class="article-anchor" href="#ceilLog2" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="min-a-b" class="article-heading"><a href="#min-a-b" class="headerlink" title="min(a, b)"></a>min(a, b)<a class="article-anchor" href="#min-a-b" aria-hidden="true"></a></h3><p>Same as Math.min().</p>
<h3 id="max-a-b" class="article-heading"><a href="#max-a-b" class="headerlink" title="max(a, b)"></a>max(a, b)<a class="article-anchor" href="#max-a-b" aria-hidden="true"></a></h3><p>Same as Math.max().</p>
<h3 id="isPowerOfTwo-number-Boolean" class="article-heading"><a href="#isPowerOfTwo-number-Boolean" class="headerlink" title="isPowerOfTwo(number) : Boolean"></a>isPowerOfTwo(number) : Boolean<a class="article-anchor" href="#isPowerOfTwo-number-Boolean" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="nearestPowerOfTwo-number-int" class="article-heading"><a href="#nearestPowerOfTwo-number-int" class="headerlink" title="nearestPowerOfTwo(number) : int"></a>nearestPowerOfTwo(number) : int<a class="article-anchor" href="#nearestPowerOfTwo-number-int" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="factorial-n-number" class="article-heading"><a href="#factorial-n-number" class="headerlink" title="factorial(n) : number"></a>factorial(n) : number<a class="article-anchor" href="#factorial-n-number" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="binomial-m-n-int" class="article-heading"><a href="#binomial-m-n-int" class="headerlink" title="binomial(m, n) : int"></a>binomial(m, n) : int<a class="article-anchor" href="#binomial-m-n-int" aria-hidden="true"></a></h3><h3 id="beginCombination-m-n-Array-or-null" class="article-heading"><a href="#beginCombination-m-n-Array-or-null" class="headerlink" title="beginCombination(m, n) : Array or null"></a>beginCombination(m, n) : Array or null<a class="article-anchor" href="#beginCombination-m-n-Array-or-null" aria-hidden="true"></a></h3><h3 id="nextCombination-m-n-r-Boolean" class="article-heading"><a href="#nextCombination-m-n-r-Boolean" class="headerlink" title="nextCombination(m, n, r) : Boolean"></a>nextCombination(m, n, r) : Boolean<a class="article-anchor" href="#nextCombination-m-n-r-Boolean" aria-hidden="true"></a></h3><h3 id="randomSeed" class="article-heading"><a href="#randomSeed" class="headerlink" title="randomSeed()"></a>randomSeed()<a class="article-anchor" href="#randomSeed" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="getSeed" class="article-heading"><a href="#getSeed" class="headerlink" title="getSeed()"></a>getSeed()<a class="article-anchor" href="#getSeed" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="random-minValue-0-maxValue-1-Number" class="article-heading"><a href="#random-minValue-0-maxValue-1-Number" class="headerlink" title="random(minValue = 0, maxValue = 1) : Number"></a>random(minValue = 0, maxValue = 1) : Number<a class="article-anchor" href="#random-minValue-0-maxValue-1-Number" aria-hidden="true"></a></h3><h3 id="gaussian" class="article-heading"><a href="#gaussian" class="headerlink" title="gaussian()"></a>gaussian()<a class="article-anchor" href="#gaussian" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="add-a-b-out" class="article-heading"><a href="#add-a-b-out" class="headerlink" title="add(a, b, out)"></a>add(a, b, out)<a class="article-anchor" href="#add-a-b-out" aria-hidden="true"></a></h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">a[<span class="number">3</span>] + b[<span class="number">3</span>] =&gt; out[<span class="number">3</span>]</div></pre></td></tr></table></figure>
<h3 id="subtract-a-b-out" class="article-heading"><a href="#subtract-a-b-out" class="headerlink" title="subtract(a, b, out)"></a>subtract(a, b, out)<a class="article-anchor" href="#subtract-a-b-out" aria-hidden="true"></a></h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">a[<span class="number">3</span>] - b[<span class="number">3</span>] =&gt; out[<span class="number">3</span>]</div></pre></td></tr></table></figure>
<h3 id="multiplyScalar-vec-scalar" class="article-heading"><a href="#multiplyScalar-vec-scalar" class="headerlink" title="multiplyScalar(vec, scalar) {"></a>multiplyScalar(vec, scalar) {<a class="article-anchor" href="#multiplyScalar-vec-scalar" aria-hidden="true"></a></h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">vec[<span class="number">3</span>] * <span class="function"><span class="params">scalar</span> =&gt;</span> vec[<span class="number">3</span>]</div></pre></td></tr></table></figure>
<h3 id="multiplyScalar2D-vec-scalar" class="article-heading"><a href="#multiplyScalar2D-vec-scalar" class="headerlink" title="multiplyScalar2D(vec, scalar)"></a>multiplyScalar2D(vec, scalar)<a class="article-anchor" href="#multiplyScalar2D-vec-scalar" aria-hidden="true"></a></h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">vec[<span class="number">2</span>] * <span class="function"><span class="params">scalar</span> =&gt;</span> vec[<span class="number">2</span>]</div></pre></td></tr></table></figure>
<h3 id="dot-x-y" class="article-heading"><a href="#dot-x-y" class="headerlink" title="dot(x, y)"></a>dot(x, y)<a class="article-anchor" href="#dot-x-y" aria-hidden="true"></a></h3><h3 id="outer-x-y-out-3x3" class="article-heading"><a href="#outer-x-y-out-3x3" class="headerlink" title="outer(x, y, out_3x3)"></a>outer(x, y, out_3x3)<a class="article-anchor" href="#outer-x-y-out-3x3" aria-hidden="true"></a></h3><h3 id="cross-x-y-out" class="article-heading"><a href="#cross-x-y-out" class="headerlink" title="cross(x, y, out)"></a>cross(x, y, out)<a class="article-anchor" href="#cross-x-y-out" aria-hidden="true"></a></h3><h3 id="norm-x-n-3" class="article-heading"><a href="#norm-x-n-3" class="headerlink" title="norm(x, n = 3)"></a>norm(x, n = 3)<a class="article-anchor" href="#norm-x-n-3" aria-hidden="true"></a></h3><h3 id="normalize-x" class="article-heading"><a href="#normalize-x" class="headerlink" title="normalize(x)"></a>normalize(x)<a class="article-anchor" href="#normalize-x" aria-hidden="true"></a></h3><p>Normalize in place</p>
<h3 id="perpendiculars-x-y-z-theta" class="article-heading"><a href="#perpendiculars-x-y-z-theta" class="headerlink" title="perpendiculars(x, y, z, theta)"></a>perpendiculars(x, y, z, theta)<a class="article-anchor" href="#perpendiculars-x-y-z-theta" aria-hidden="true"></a></h3><h3 id="projectVector-a-b-projection" class="article-heading"><a href="#projectVector-a-b-projection" class="headerlink" title="projectVector(a, b, projection)"></a>projectVector(a, b, projection)<a class="article-anchor" href="#projectVector-a-b-projection" aria-hidden="true"></a></h3><h3 id="dot2D-x-y" class="article-heading"><a href="#dot2D-x-y" class="headerlink" title="dot2D(x, y)"></a>dot2D(x, y)<a class="article-anchor" href="#dot2D-x-y" aria-hidden="true"></a></h3><h3 id="projectVector2D-a-b-projection" class="article-heading"><a href="#projectVector2D-a-b-projection" class="headerlink" title="projectVector2D(a, b, projection)"></a>projectVector2D(a, b, projection)<a class="article-anchor" href="#projectVector2D-a-b-projection" aria-hidden="true"></a></h3><h3 id="distance2BetweenPoints-x-y" class="article-heading"><a href="#distance2BetweenPoints-x-y" class="headerlink" title="distance2BetweenPoints(x, y)"></a>distance2BetweenPoints(x, y)<a class="article-anchor" href="#distance2BetweenPoints-x-y" aria-hidden="true"></a></h3><h3 id="angleBetweenVectors-v1-v2" class="article-heading"><a href="#angleBetweenVectors-v1-v2" class="headerlink" title="angleBetweenVectors(v1, v2)"></a>angleBetweenVectors(v1, v2)<a class="article-anchor" href="#angleBetweenVectors-v1-v2" aria-hidden="true"></a></h3><h3 id="gaussianAmplitude-mean-variance-position" class="article-heading"><a href="#gaussianAmplitude-mean-variance-position" class="headerlink" title="gaussianAmplitude(mean, variance, position)"></a>gaussianAmplitude(mean, variance, position)<a class="article-anchor" href="#gaussianAmplitude-mean-variance-position" aria-hidden="true"></a></h3><h3 id="gaussianWeight-mean-variance-position" class="article-heading"><a href="#gaussianWeight-mean-variance-position" class="headerlink" title="gaussianWeight(mean, variance, position)"></a>gaussianWeight(mean, variance, position)<a class="article-anchor" href="#gaussianWeight-mean-variance-position" aria-hidden="true"></a></h3><h3 id="outer2D-x-y-out-2x2" class="article-heading"><a href="#outer2D-x-y-out-2x2" class="headerlink" title="outer2D(x, y, out_2x2)"></a>outer2D(x, y, out_2x2)<a class="article-anchor" href="#outer2D-x-y-out-2x2" aria-hidden="true"></a></h3><h3 id="norm2D-x2D" class="article-heading"><a href="#norm2D-x2D" class="headerlink" title="norm2D(x2D)"></a>norm2D(x2D)<a class="article-anchor" href="#norm2D-x2D" aria-hidden="true"></a></h3><h3 id="normalize2D-x" class="article-heading"><a href="#normalize2D-x" class="headerlink" title="normalize2D(x)"></a>normalize2D(x)<a class="article-anchor" href="#normalize2D-x" aria-hidden="true"></a></h3><h3 id="determinant2x2-c1-c2" class="article-heading"><a href="#determinant2x2-c1-c2" class="headerlink" title="determinant2x2(c1, c2)"></a>determinant2x2(c1, c2)<a class="article-anchor" href="#determinant2x2-c1-c2" aria-hidden="true"></a></h3><h3 id="LUFactor3x3-mat-3x3-index-3" class="article-heading"><a href="#LUFactor3x3-mat-3x3-index-3" class="headerlink" title="LUFactor3x3(mat_3x3, index_3)"></a>LUFactor3x3(mat_3x3, index_3)<a class="article-anchor" href="#LUFactor3x3-mat-3x3-index-3" aria-hidden="true"></a></h3><h3 id="LUSolve3x3-mat-3x3-index-3-x-3" class="article-heading"><a href="#LUSolve3x3-mat-3x3-index-3-x-3" class="headerlink" title="LUSolve3x3(mat_3x3, index_3, x_3)"></a>LUSolve3x3(mat_3x3, index_3, x_3)<a class="article-anchor" href="#LUSolve3x3-mat-3x3-index-3-x-3" aria-hidden="true"></a></h3><h3 id="linearSolve3x3-mat-3x3-x-3-y-3" class="article-heading"><a href="#linearSolve3x3-mat-3x3-x-3-y-3" class="headerlink" title="linearSolve3x3(mat_3x3, x_3, y_3)"></a>linearSolve3x3(mat_3x3, x_3, y_3)<a class="article-anchor" href="#linearSolve3x3-mat-3x3-x-3-y-3" aria-hidden="true"></a></h3><h3 id="multiply3x3-vect3-mat-3x3-in-3-out-3" class="article-heading"><a href="#multiply3x3-vect3-mat-3x3-in-3-out-3" class="headerlink" title="multiply3x3_vect3(mat_3x3, in_3, out_3)"></a>multiply3x3_vect3(mat_3x3, in_3, out_3)<a class="article-anchor" href="#multiply3x3-vect3-mat-3x3-in-3-out-3" aria-hidden="true"></a></h3><h3 id="multiply3x3-mat3-a-3x3-b-3x3-out-3x3" class="article-heading"><a href="#multiply3x3-mat3-a-3x3-b-3x3-out-3x3" class="headerlink" title="multiply3x3_mat3(a_3x3, b_3x3, out_3x3)"></a>multiply3x3_mat3(a_3x3, b_3x3, out_3x3)<a class="article-anchor" href="#multiply3x3-mat3-a-3x3-b-3x3-out-3x3" aria-hidden="true"></a></h3><h3 id="multiplyMatrix-a-b-rowA-colA-rowB-colB-out-rowXcol" class="article-heading"><a href="#multiplyMatrix-a-b-rowA-colA-rowB-colB-out-rowXcol" class="headerlink" title="multiplyMatrix(a, b, rowA, colA, rowB, colB, out_rowXcol)"></a>multiplyMatrix(a, b, rowA, colA, rowB, colB, out_rowXcol)<a class="article-anchor" href="#multiplyMatrix-a-b-rowA-colA-rowB-colB-out-rowXcol" aria-hidden="true"></a></h3><h3 id="transpose3x3-in-3x3-outT-3x3" class="article-heading"><a href="#transpose3x3-in-3x3-outT-3x3" class="headerlink" title="transpose3x3(in_3x3, outT_3x3)"></a>transpose3x3(in_3x3, outT_3x3)<a class="article-anchor" href="#transpose3x3-in-3x3-outT-3x3" aria-hidden="true"></a></h3><h3 id="invert3x3-in-3x3-outI-3x3" class="article-heading"><a href="#invert3x3-in-3x3-outI-3x3" class="headerlink" title="invert3x3(in_3x3, outI_3x3)"></a>invert3x3(in_3x3, outI_3x3)<a class="article-anchor" href="#invert3x3-in-3x3-outI-3x3" aria-hidden="true"></a></h3><h3 id="identity3x3-mat-3x3" class="article-heading"><a href="#identity3x3-mat-3x3" class="headerlink" title="identity3x3(mat_3x3)"></a>identity3x3(mat_3x3)<a class="article-anchor" href="#identity3x3-mat-3x3" aria-hidden="true"></a></h3><h3 id="determinant3x3-mat-3x3" class="article-heading"><a href="#determinant3x3-mat-3x3" class="headerlink" title="determinant3x3(mat_3x3)"></a>determinant3x3(mat_3x3)<a class="article-anchor" href="#determinant3x3-mat-3x3" aria-hidden="true"></a></h3><h3 id="quaternionToMatrix3x3-quat-4-mat-3x3" class="article-heading"><a href="#quaternionToMatrix3x3-quat-4-mat-3x3" class="headerlink" title="quaternionToMatrix3x3(quat_4, mat_3x3)"></a>quaternionToMatrix3x3(quat_4, mat_3x3)<a class="article-anchor" href="#quaternionToMatrix3x3-quat-4-mat-3x3" aria-hidden="true"></a></h3><h3 id="jacobiN-a-n-w-v" class="article-heading"><a href="#jacobiN-a-n-w-v" class="headerlink" title="jacobiN(a, n, w, v)"></a>jacobiN(a, n, w, v)<a class="article-anchor" href="#jacobiN-a-n-w-v" aria-hidden="true"></a></h3><h3 id="matrix3x3ToQuaternion-mat-3x3-quat-4" class="article-heading"><a href="#matrix3x3ToQuaternion-mat-3x3-quat-4" class="headerlink" title="matrix3x3ToQuaternion(mat_3x3, quat_4)"></a>matrix3x3ToQuaternion(mat_3x3, quat_4)<a class="article-anchor" href="#matrix3x3ToQuaternion-mat-3x3-quat-4" aria-hidden="true"></a></h3><h3 id="multiplyQuaternion-quat-1-quat-2-quat-out" class="article-heading"><a href="#multiplyQuaternion-quat-1-quat-2-quat-out" class="headerlink" title="multiplyQuaternion(quat_1, quat_2, quat_out)"></a>multiplyQuaternion(quat_1, quat_2, quat_out)<a class="article-anchor" href="#multiplyQuaternion-quat-1-quat-2-quat-out" aria-hidden="true"></a></h3><h3 id="orthogonalize3x3-a-3x3-out-3x3" class="article-heading"><a href="#orthogonalize3x3-a-3x3-out-3x3" class="headerlink" title="orthogonalize3x3(a_3x3, out_3x3)"></a>orthogonalize3x3(a_3x3, out_3x3)<a class="article-anchor" href="#orthogonalize3x3-a-3x3-out-3x3" aria-hidden="true"></a></h3><h3 id="diagonalize3x3-a-3x3-w-3-v-3x3" class="article-heading"><a href="#diagonalize3x3-a-3x3-w-3-v-3x3" class="headerlink" title="diagonalize3x3(a_3x3, w_3, v_3x3)"></a>diagonalize3x3(a_3x3, w_3, v_3x3)<a class="article-anchor" href="#diagonalize3x3-a-3x3-w-3-v-3x3" aria-hidden="true"></a></h3><h3 id="singularValueDecomposition3x3-a-3x3-u-3x3-w-3-vT-3x3" class="article-heading"><a href="#singularValueDecomposition3x3-a-3x3-u-3x3-w-3-vT-3x3" class="headerlink" title="singularValueDecomposition3x3(a_3x3, u_3x3, w_3, vT_3x3)"></a>singularValueDecomposition3x3(a_3x3, u_3x3, w_3, vT_3x3)<a class="article-anchor" href="#singularValueDecomposition3x3-a-3x3-u-3x3-w-3-vT-3x3" aria-hidden="true"></a></h3><h3 id="luFactorLinearSystem-A-index-size" class="article-heading"><a href="#luFactorLinearSystem-A-index-size" class="headerlink" title="luFactorLinearSystem(A, index, size)"></a>luFactorLinearSystem(A, index, size)<a class="article-anchor" href="#luFactorLinearSystem-A-index-size" aria-hidden="true"></a></h3><h3 id="luSolveLinearSystem-A-index-x-size" class="article-heading"><a href="#luSolveLinearSystem-A-index-x-size" class="headerlink" title="luSolveLinearSystem(A, index, x, size)"></a>luSolveLinearSystem(A, index, x, size)<a class="article-anchor" href="#luSolveLinearSystem-A-index-x-size" aria-hidden="true"></a></h3><h3 id="solveLinearSystem-A-x-size" class="article-heading"><a href="#solveLinearSystem-A-x-size" class="headerlink" title="solveLinearSystem(A, x, size)"></a>solveLinearSystem(A, x, size)<a class="article-anchor" href="#solveLinearSystem-A-x-size" aria-hidden="true"></a></h3><h3 id="invertMatrix-A-AI-size-index-null-column-null" class="article-heading"><a href="#invertMatrix-A-AI-size-index-null-column-null" class="headerlink" title="invertMatrix(A, AI, size, index = null, column = null)"></a>invertMatrix(A, AI, size, index = null, column = null)<a class="article-anchor" href="#invertMatrix-A-AI-size-index-null-column-null" aria-hidden="true"></a></h3><h3 id="estimateMatrixCondition-A-size" class="article-heading"><a href="#estimateMatrixCondition-A-size" class="headerlink" title="estimateMatrixCondition(A, size)"></a>estimateMatrixCondition(A, size)<a class="article-anchor" href="#estimateMatrixCondition-A-size" aria-hidden="true"></a></h3><h3 id="jacobi-a-3x3-w-v" class="article-heading"><a href="#jacobi-a-3x3-w-v" class="headerlink" title="jacobi(a_3x3, w, v)"></a>jacobi(a_3x3, w, v)<a class="article-anchor" href="#jacobi-a-3x3-w-v" aria-hidden="true"></a></h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">jacobiN(a_3x3, <span class="number">3</span>, w, v);</div></pre></td></tr></table></figure>
<h3 id="solveHomogeneousLeastSquares-numberOfSamples-xt-xOrder-mt" class="article-heading"><a href="#solveHomogeneousLeastSquares-numberOfSamples-xt-xOrder-mt" class="headerlink" title="solveHomogeneousLeastSquares(numberOfSamples, xt, xOrder, mt)"></a>solveHomogeneousLeastSquares(numberOfSamples, xt, xOrder, mt)<a class="article-anchor" href="#solveHomogeneousLeastSquares-numberOfSamples-xt-xOrder-mt" aria-hidden="true"></a></h3><h3 id="solveLeastSquares-numberOfSamples-xt-xOrder-yt-yOrder-mt-checkHomogeneous-true" class="article-heading"><a href="#solveLeastSquares-numberOfSamples-xt-xOrder-yt-yOrder-mt-checkHomogeneous-true" class="headerlink" title="solveLeastSquares(numberOfSamples, xt, xOrder, yt, yOrder, mt, checkHomogeneous = true)"></a>solveLeastSquares(numberOfSamples, xt, xOrder, yt, yOrder, mt, checkHomogeneous = true)<a class="article-anchor" href="#solveLeastSquares-numberOfSamples-xt-xOrder-yt-yOrder-mt-checkHomogeneous-true" aria-hidden="true"></a></h3><h3 id="rgb2hsv-rgb-hsv" class="article-heading"><a href="#rgb2hsv-rgb-hsv" class="headerlink" title="rgb2hsv(rgb, hsv)"></a>rgb2hsv(rgb, hsv)<a class="article-anchor" href="#rgb2hsv-rgb-hsv" aria-hidden="true"></a></h3><h3 id="hsv2rgb-hsv-rgb" class="article-heading"><a href="#hsv2rgb-hsv-rgb" class="headerlink" title="hsv2rgb(hsv, rgb)"></a>hsv2rgb(hsv, rgb)<a class="article-anchor" href="#hsv2rgb-hsv-rgb" aria-hidden="true"></a></h3><h3 id="lab2xyz-lab-xyz" class="article-heading"><a href="#lab2xyz-lab-xyz" class="headerlink" title="lab2xyz(lab, xyz)"></a>lab2xyz(lab, xyz)<a class="article-anchor" href="#lab2xyz-lab-xyz" aria-hidden="true"></a></h3><h3 id="xyz2lab-xyz-lab" class="article-heading"><a href="#xyz2lab-xyz-lab" class="headerlink" title="xyz2lab(xyz, lab)"></a>xyz2lab(xyz, lab)<a class="article-anchor" href="#xyz2lab-xyz-lab" aria-hidden="true"></a></h3><h3 id="xyz2rgb-xyz-rgb" class="article-heading"><a href="#xyz2rgb-xyz-rgb" class="headerlink" title="xyz2rgb(xyz, rgb)"></a>xyz2rgb(xyz, rgb)<a class="article-anchor" href="#xyz2rgb-xyz-rgb" aria-hidden="true"></a></h3><h3 id="rgb2xyz-rgb-xyz" class="article-heading"><a href="#rgb2xyz-rgb-xyz" class="headerlink" title="rgb2xyz(rgb, xyz)"></a>rgb2xyz(rgb, xyz)<a class="article-anchor" href="#rgb2xyz-rgb-xyz" aria-hidden="true"></a></h3><h3 id="rgb2lab-rgb-lab" class="article-heading"><a href="#rgb2lab-rgb-lab" class="headerlink" title="rgb2lab(rgb, lab)"></a>rgb2lab(rgb, lab)<a class="article-anchor" href="#rgb2lab-rgb-lab" aria-hidden="true"></a></h3><h3 id="LabToRGB-lab-rgb" class="article-heading"><a href="#LabToRGB-lab-rgb" class="headerlink" title="LabToRGB(lab, rgb)"></a>LabToRGB(lab, rgb)<a class="article-anchor" href="#LabToRGB-lab-rgb" aria-hidden="true"></a></h3><h3 id="uninitializeBounds-bounds" class="article-heading"><a href="#uninitializeBounds-bounds" class="headerlink" title="uninitializeBounds(bounds)"></a>uninitializeBounds(bounds)<a class="article-anchor" href="#uninitializeBounds-bounds" aria-hidden="true"></a></h3><h3 id="areBoundsInitialized-bounds" class="article-heading"><a href="#areBoundsInitialized-bounds" class="headerlink" title="areBoundsInitialized(bounds)"></a>areBoundsInitialized(bounds)<a class="article-anchor" href="#areBoundsInitialized-bounds" aria-hidden="true"></a></h3><h3 id="clampValue-value-minValue-maxValue" class="article-heading"><a href="#clampValue-value-minValue-maxValue" class="headerlink" title="clampValue(value, minValue, maxValue)"></a>clampValue(value, minValue, maxValue)<a class="article-anchor" href="#clampValue-value-minValue-maxValue" aria-hidden="true"></a></h3><h3 id="clampAndNormalizeValue-value-range" class="article-heading"><a href="#clampAndNormalizeValue-value-range" class="headerlink" title="clampAndNormalizeValue(value, range)"></a>clampAndNormalizeValue(value, range)<a class="article-anchor" href="#clampAndNormalizeValue-value-range" aria-hidden="true"></a></h3><h3 id="getScalarTypeFittingRange" class="article-heading"><a href="#getScalarTypeFittingRange" class="headerlink" title="getScalarTypeFittingRange"></a>getScalarTypeFittingRange<a class="article-anchor" href="#getScalarTypeFittingRange" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="getAdjustedScalarRange" class="article-heading"><a href="#getAdjustedScalarRange" class="headerlink" title="getAdjustedScalarRange"></a>getAdjustedScalarRange<a class="article-anchor" href="#getAdjustedScalarRange" aria-hidden="true"></a></h3><p>NOT IMPLEMENTED</p>
<h3 id="extentIsWithinOtherExtent-extent1-extent2" class="article-heading"><a href="#extentIsWithinOtherExtent-extent1-extent2" class="headerlink" title="extentIsWithinOtherExtent(extent1, extent2)"></a>extentIsWithinOtherExtent(extent1, extent2)<a class="article-anchor" href="#extentIsWithinOtherExtent-extent1-extent2" aria-hidden="true"></a></h3><h3 id="boundsIsWithinOtherBounds-bounds1-6-bounds2-6-delta-3" class="article-heading"><a href="#boundsIsWithinOtherBounds-bounds1-6-bounds2-6-delta-3" class="headerlink" title="boundsIsWithinOtherBounds(bounds1_6, bounds2_6, delta_3)"></a>boundsIsWithinOtherBounds(bounds1_6, bounds2_6, delta_3)<a class="article-anchor" href="#boundsIsWithinOtherBounds-bounds1-6-bounds2-6-delta-3" aria-hidden="true"></a></h3><h3 id="pointIsWithinBounds-point-3-bounds-6-delta-3" class="article-heading"><a href="#pointIsWithinBounds-point-3-bounds-6-delta-3" class="headerlink" title="pointIsWithinBounds(point_3, bounds_6, delta_3)"></a>pointIsWithinBounds(point_3, bounds_6, delta_3)<a class="article-anchor" href="#pointIsWithinBounds-point-3-bounds-6-delta-3" aria-hidden="true"></a></h3><h3 id="solve3PointCircle-p1-p2-p3-center" class="article-heading"><a href="#solve3PointCircle-p1-p2-p3-center" class="headerlink" title="solve3PointCircle(p1, p2, p3, center)"></a>solve3PointCircle(p1, p2, p3, center)<a class="article-anchor" href="#solve3PointCircle-p1-p2-p3-center" aria-hidden="true"></a></h3><h3 id="inf" class="article-heading"><a href="#inf" class="headerlink" title="inf()"></a>inf()<a class="article-anchor" href="#inf" aria-hidden="true"></a></h3><h3 id="negInf" class="article-heading"><a href="#negInf" class="headerlink" title="negInf()"></a>negInf()<a class="article-anchor" href="#negInf" aria-hidden="true"></a></h3><h3 id="isInf-number-Boolean" class="article-heading"><a href="#isInf-number-Boolean" class="headerlink" title="isInf(number) : Boolean"></a>isInf(number) : Boolean<a class="article-anchor" href="#isInf-number-Boolean" aria-hidden="true"></a></h3><h3 id="isNan-Boolean" class="article-heading"><a href="#isNan-Boolean" class="headerlink" title="isNan(?) : Boolean"></a>isNan(?) : Boolean<a class="article-anchor" href="#isNan-Boolean" aria-hidden="true"></a></h3><h3 id="isFinite-number-Boolean" class="article-heading"><a href="#isFinite-number-Boolean" class="headerlink" title="isFinite(number) : Boolean"></a>isFinite(number) : Boolean<a class="article-anchor" href="#isFinite-number-Boolean" aria-hidden="true"></a></h3><h3 id="createUninitializedBouds-new-6" class="article-heading"><a href="#createUninitializedBouds-new-6" class="headerlink" title="createUninitializedBouds() : new [6]"></a>createUninitializedBouds() : new [6]<a class="article-anchor" href="#createUninitializedBouds-new-6" aria-hidden="true"></a></h3><h1 id="Source" class="article-heading"><a href="#Source" class="headerlink" title="Source"></a>Source<a class="article-anchor" href="#Source" aria-hidden="true"></a></h1><figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> seedrandom <span class="keyword">from</span> <span class="string">'seedrandom'</span>;</div><div class="line"></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------</span></div><div class="line"><span class="comment">/* eslint-disable camelcase                                                  */</span></div><div class="line"><span class="comment">/* eslint-disable no-cond-assign                                             */</span></div><div class="line"><span class="comment">/* eslint-disable no-bitwise                                                 */</span></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------</span></div><div class="line"><span class="keyword">let</span> randomSeedValue = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> VTK_MAX_ROTATIONS = <span class="number">20</span>;</div><div class="line"><span class="keyword">const</span> VTK_SMALL_NUMBER = <span class="number">1.0e-12</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">notImplemented</span>(<span class="params">method</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">`vtkMath::<span class="subst">$&#123;method&#125;</span> - NOT IMPLEMENTED`</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">vtkSwapVectors3</span>(<span class="params">v1, v2</span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    <span class="keyword">const</span> tmp = v1[i];</div><div class="line">    v1[i] = v2[i];</div><div class="line">    v2[i] = tmp;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArray</span>(<span class="params">size = <span class="number">3</span></span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> array = [];</div><div class="line">  <span class="keyword">while</span> (array.length &lt; size) &#123;</div><div class="line">    array.push(<span class="number">0</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> array;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------</span></div><div class="line"><span class="comment">// Global methods</span></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> Pi = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Math</span>.PI;</div><div class="line"><span class="keyword">const</span> radiansFromDegrees = <span class="function"><span class="params">deg</span> =&gt;</span> deg / <span class="number">180</span> * <span class="built_in">Math</span>.PI;</div><div class="line"><span class="keyword">const</span> degreesFromRadians = <span class="function"><span class="params">rad</span> =&gt;</span> rad * <span class="number">180</span> / <span class="built_in">Math</span>.PI;</div><div class="line"><span class="keyword">const</span> round = <span class="built_in">Math</span>.round;</div><div class="line"><span class="keyword">const</span> floor = <span class="built_in">Math</span>.floor;</div><div class="line"><span class="keyword">const</span> ceil = <span class="built_in">Math</span>.ceil;</div><div class="line"><span class="keyword">const</span> ceilLog2 = notImplemented(<span class="string">'ceilLog2'</span>);</div><div class="line"><span class="keyword">const</span> min = <span class="built_in">Math</span>.min;</div><div class="line"><span class="keyword">const</span> max = <span class="built_in">Math</span>.max;</div><div class="line"><span class="keyword">const</span> isPowerOfTwo = notImplemented(<span class="string">'isPowerOfTwo'</span>);</div><div class="line"><span class="keyword">const</span> nearestPowerOfTwo = notImplemented(<span class="string">'nearestPowerOfTwo'</span>);</div><div class="line"><span class="keyword">const</span> factorial = notImplemented(<span class="string">'factorial'</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">binomial</span>(<span class="params">m, n</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> r = <span class="number">1</span>;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">    r *= (m - i + <span class="number">1</span>) / i;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(r);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">beginCombination</span>(<span class="params">m, n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (m &lt; n) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> r = createArray(n);</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">    r[i] = i;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> r;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">nextCombination</span>(<span class="params">m, n, r</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> status = <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</div><div class="line">    <span class="keyword">if</span> (r[i] &lt; m - n + i) &#123;</div><div class="line">      <span class="keyword">let</span> j = r[i] + <span class="number">1</span>;</div><div class="line">      <span class="keyword">while</span> (i &lt; n) &#123;</div><div class="line">        r[i++] = j++;</div><div class="line">      &#125;</div><div class="line">      status = <span class="number">1</span>;</div><div class="line">      <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> status;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> randomSeed = <span class="function">(<span class="params">seed</span>) =&gt;</span> &#123;</div><div class="line">  seedrandom(<span class="string">`<span class="subst">$&#123;seed&#125;</span>`</span>, &#123; <span class="attr">global</span>: <span class="literal">true</span> &#125;);</div><div class="line">  randomSeedValue = seed;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> getSeed = <span class="function"><span class="params">()</span> =&gt;</span> randomSeedValue;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">minValue = <span class="number">0</span>, maxValue = <span class="number">1</span></span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> delta = maxValue - minValue;</div><div class="line">  <span class="keyword">return</span> minValue + (delta * <span class="built_in">Math</span>.random());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> gaussian = notImplemented(<span class="string">'gaussian'</span>);</div><div class="line"></div><div class="line"><span class="comment">// Vect3 operations</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b, out</span>) </span>&#123;</div><div class="line">  out[<span class="number">0</span>] = a[<span class="number">0</span>] + b[<span class="number">0</span>];</div><div class="line">  out[<span class="number">1</span>] = a[<span class="number">1</span>] + b[<span class="number">1</span>];</div><div class="line">  out[<span class="number">2</span>] = a[<span class="number">2</span>] + b[<span class="number">2</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">subtract</span>(<span class="params">a, b, out</span>) </span>&#123;</div><div class="line">  out[<span class="number">0</span>] = a[<span class="number">0</span>] - b[<span class="number">0</span>];</div><div class="line">  out[<span class="number">1</span>] = a[<span class="number">1</span>] - b[<span class="number">1</span>];</div><div class="line">  out[<span class="number">2</span>] = a[<span class="number">2</span>] - b[<span class="number">2</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiplyScalar</span>(<span class="params">vec, scalar</span>) </span>&#123;</div><div class="line">  vec[<span class="number">0</span>] *= scalar;</div><div class="line">  vec[<span class="number">1</span>] *= scalar;</div><div class="line">  vec[<span class="number">2</span>] *= scalar;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiplyScalar2D</span>(<span class="params">vec, scalar</span>) </span>&#123;</div><div class="line">  vec[<span class="number">0</span>] *= scalar;</div><div class="line">  vec[<span class="number">1</span>] *= scalar;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">dot</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (x[<span class="number">0</span>] * y[<span class="number">0</span>])</div><div class="line">    + (x[<span class="number">1</span>] * y[<span class="number">1</span>])</div><div class="line">    + (x[<span class="number">2</span>] * y[<span class="number">2</span>]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params">x, y, out_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</div><div class="line">      out_3x3[i][j] = x[i] * y[j];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">cross</span>(<span class="params">x, y, out</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> Zx = (x[<span class="number">1</span>] * y[<span class="number">2</span>]) - (x[<span class="number">2</span>] * y[<span class="number">1</span>]);</div><div class="line">  <span class="keyword">const</span> Zy = (x[<span class="number">2</span>] * y[<span class="number">0</span>]) - (x[<span class="number">0</span>] * y[<span class="number">2</span>]);</div><div class="line">  <span class="keyword">const</span> Zz = (x[<span class="number">0</span>] * y[<span class="number">1</span>]) - (x[<span class="number">1</span>] * y[<span class="number">0</span>]);</div><div class="line">  out[<span class="number">0</span>] = Zx;</div><div class="line">  out[<span class="number">1</span>] = Zy;</div><div class="line">  out[<span class="number">2</span>] = Zz;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">norm</span>(<span class="params">x, n = <span class="number">3</span></span>) </span>&#123;</div><div class="line">  <span class="keyword">switch</span> (n) &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.abs(x);</div><div class="line">    <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt((x[<span class="number">0</span>] * x[<span class="number">0</span>]) + (x[<span class="number">1</span>] * x[<span class="number">1</span>]));</div><div class="line">    <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt((x[<span class="number">0</span>] * x[<span class="number">0</span>]) + (x[<span class="number">1</span>] * x[<span class="number">1</span>]) + (x[<span class="number">2</span>] * x[<span class="number">2</span>]));</div><div class="line">    <span class="keyword">default</span>:</div><div class="line">      &#123;</div><div class="line">        <span class="keyword">let</span> sum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">          sum += x[i] * x[i];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(sum);</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalize</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> den = norm(x);</div><div class="line">  <span class="keyword">if</span> (den !== <span class="number">0.0</span>) &#123;</div><div class="line">    x[<span class="number">0</span>] /= den;</div><div class="line">    x[<span class="number">1</span>] /= den;</div><div class="line">    x[<span class="number">2</span>] /= den;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> den;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">perpendiculars</span>(<span class="params">x, y, z, theta</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> x2 = x[<span class="number">0</span>] * x[<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> y2 = x[<span class="number">1</span>] * x[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> z2 = x[<span class="number">2</span>] * x[<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> r = <span class="built_in">Math</span>.sqrt(x2 + y2 + z2);</div><div class="line"></div><div class="line">  <span class="keyword">let</span> dx;</div><div class="line">  <span class="keyword">let</span> dy;</div><div class="line">  <span class="keyword">let</span> dz;</div><div class="line"></div><div class="line">  <span class="comment">// transpose the vector to avoid divide-by-zero error</span></div><div class="line">  <span class="keyword">if</span> (x2 &gt; y2 &amp;&amp; x2 &gt; z2) &#123;</div><div class="line">    dx = <span class="number">0</span>;</div><div class="line">    dy = <span class="number">1</span>;</div><div class="line">    dz = <span class="number">2</span>;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (y2 &gt; z2) &#123;</div><div class="line">    dx = <span class="number">1</span>;</div><div class="line">    dy = <span class="number">2</span>;</div><div class="line">    dz = <span class="number">0</span>;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    dx = <span class="number">2</span>;</div><div class="line">    dy = <span class="number">0</span>;</div><div class="line">    dz = <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> a = x[dx] / r;</div><div class="line">  <span class="keyword">const</span> b = x[dy] / r;</div><div class="line">  <span class="keyword">const</span> c = x[dz] / r;</div><div class="line">  <span class="keyword">const</span> tmp = <span class="built_in">Math</span>.sqrt((a * a) + (c * c));</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (theta !== <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">const</span> sintheta = <span class="built_in">Math</span>.sin(theta);</div><div class="line">    <span class="keyword">const</span> costheta = <span class="built_in">Math</span>.cos(theta);</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (y) &#123;</div><div class="line">      y[dx] = ((c * costheta) - (a * b * sintheta)) / tmp;</div><div class="line">      y[dy] = sintheta * tmp;</div><div class="line">      y[dz] = (-(a * costheta) - (b * c * sintheta)) / tmp;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (z) &#123;</div><div class="line">      z[dx] = (-(c * sintheta) - (a * b * costheta)) / tmp;</div><div class="line">      z[dy] = costheta * tmp;</div><div class="line">      z[dz] = ((a * sintheta) - (b * c * costheta)) / tmp;</div><div class="line">    &#125;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">if</span> (y) &#123;</div><div class="line">      y[dx] = c / tmp;</div><div class="line">      y[dy] = <span class="number">0</span>;</div><div class="line">      y[dz] = -a / tmp;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (z) &#123;</div><div class="line">      z[dx] = -a * b / tmp;</div><div class="line">      z[dy] = tmp;</div><div class="line">      z[dz] = -b * c / tmp;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">projectVector</span>(<span class="params">a, b, projection</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> bSquared = dot(b, b);</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (bSquared === <span class="number">0</span>) &#123;</div><div class="line">    projection[<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">    projection[<span class="number">1</span>] = <span class="number">0</span>;</div><div class="line">    projection[<span class="number">2</span>] = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> scale = dot(a, b) / bSquared;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    projection[i] = b[i];</div><div class="line">  &#125;</div><div class="line">  multiplyScalar(projection, scale);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">dot2D</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (x[<span class="number">0</span>] * y[<span class="number">0</span>]) + (x[<span class="number">1</span>] * y[<span class="number">1</span>]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">projectVector2D</span>(<span class="params">a, b, projection</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> bSquared = dot2D(b, b);</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (bSquared === <span class="number">0</span>) &#123;</div><div class="line">    projection[<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">    projection[<span class="number">1</span>] = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> scale = dot2D(a, b) / bSquared;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</div><div class="line">    projection[i] = b[i];</div><div class="line">  &#125;</div><div class="line">  multiplyScalar2D(projection, scale);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">distance2BetweenPoints</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> ((x[<span class="number">0</span>] - y[<span class="number">0</span>]) * (x[<span class="number">0</span>] - y[<span class="number">0</span>]))</div><div class="line">    + ((x[<span class="number">1</span>] - y[<span class="number">1</span>]) * (x[<span class="number">1</span>] - y[<span class="number">1</span>]))</div><div class="line">    + ((x[<span class="number">2</span>] - y[<span class="number">2</span>]) * (x[<span class="number">2</span>] - y[<span class="number">2</span>]));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">angleBetweenVectors</span>(<span class="params">v1, v2</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> crossVect = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line">  cross(v1, v2, crossVect);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.atan2(norm(cross), dot(v1, v2));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">gaussianAmplitude</span>(<span class="params">mean, variance, position</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> distanceFromMean = <span class="built_in">Math</span>.abs(mean - position);</div><div class="line">  <span class="keyword">return</span> <span class="number">1</span> / (<span class="built_in">Math</span>.sqrt(<span class="number">2</span> * <span class="built_in">Math</span>.PI * variance)) * <span class="built_in">Math</span>.exp(-(<span class="built_in">Math</span>.pow(distanceFromMean, <span class="number">2</span>)) / (<span class="number">2</span> * variance));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">gaussianWeight</span>(<span class="params">mean, variance, position</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> distanceFromMean = <span class="built_in">Math</span>.abs(mean - position);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.exp(-(<span class="built_in">Math</span>.pow(distanceFromMean, <span class="number">2</span>)) / (<span class="number">2</span> * variance));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer2D</span>(<span class="params">x, y, out_2x2</span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</div><div class="line">      out_2x2[i][j] = x[i] * y[j];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">norm2D</span>(<span class="params">x2D</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt((x2D[<span class="number">0</span>] * x2D[<span class="number">0</span>]) + (x2D[<span class="number">1</span>] * x2D[<span class="number">1</span>]));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalize2D</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> den = norm2D(x);</div><div class="line">  <span class="keyword">if</span> (den !== <span class="number">0.0</span>) &#123;</div><div class="line">    x[<span class="number">0</span>] /= den;</div><div class="line">    x[<span class="number">1</span>] /= den;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> den;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">determinant2x2</span>(<span class="params">c1, c2</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> ((c1[<span class="number">0</span>] * c2[<span class="number">1</span>]) - (c2[<span class="number">0</span>] * c1[<span class="number">1</span>]));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">LUFactor3x3</span>(<span class="params">mat_3x3, index_3</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> maxI;</div><div class="line">  <span class="keyword">let</span> tmp;</div><div class="line">  <span class="keyword">let</span> largest;</div><div class="line">  <span class="keyword">const</span> scale = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line"></div><div class="line">  <span class="comment">// Loop over rows to get implicit scaling information</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    largest = <span class="built_in">Math</span>.abs(mat_3x3[i][<span class="number">0</span>]);</div><div class="line">    <span class="keyword">if</span> ((tmp = <span class="built_in">Math</span>.abs(mat_3x3[i][<span class="number">1</span>])) &gt; largest) &#123;</div><div class="line">      largest = tmp;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> ((tmp = <span class="built_in">Math</span>.abs(mat_3x3[i][<span class="number">2</span>])) &gt; largest) &#123;</div><div class="line">      largest = tmp;</div><div class="line">    &#125;</div><div class="line">    scale[i] = <span class="number">1</span> / largest;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Loop over all columns using Crout's method</span></div><div class="line"></div><div class="line">  <span class="comment">// first column</span></div><div class="line">  largest = scale[<span class="number">0</span>] * <span class="built_in">Math</span>.abs(mat_3x3[<span class="number">0</span>][<span class="number">0</span>]);</div><div class="line">  maxI = <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span> ((tmp = scale[<span class="number">1</span>] * <span class="built_in">Math</span>.abs(mat_3x3[<span class="number">1</span>][<span class="number">0</span>])) &gt;= largest) &#123;</div><div class="line">    largest = tmp;</div><div class="line">    maxI = <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> ((tmp = scale[<span class="number">2</span>] * <span class="built_in">Math</span>.abs(mat_3x3[<span class="number">2</span>][<span class="number">0</span>])) &gt;= largest) &#123;</div><div class="line">    maxI = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (maxI !== <span class="number">0</span>) &#123;</div><div class="line">    vtkSwapVectors3(mat_3x3[maxI], mat_3x3[<span class="number">0</span>]);</div><div class="line">    scale[maxI] = scale[<span class="number">0</span>];</div><div class="line">  &#125;</div><div class="line">  index_3[<span class="number">0</span>] = maxI;</div><div class="line"></div><div class="line">  mat_3x3[<span class="number">1</span>][<span class="number">0</span>] /= mat_3x3[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">  mat_3x3[<span class="number">2</span>][<span class="number">0</span>] /= mat_3x3[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line"></div><div class="line">  <span class="comment">// second column</span></div><div class="line">  mat_3x3[<span class="number">1</span>][<span class="number">1</span>] -= mat_3x3[<span class="number">1</span>][<span class="number">0</span>] * mat_3x3[<span class="number">0</span>][<span class="number">1</span>];</div><div class="line">  mat_3x3[<span class="number">2</span>][<span class="number">1</span>] -= mat_3x3[<span class="number">2</span>][<span class="number">0</span>] * mat_3x3[<span class="number">0</span>][<span class="number">1</span>];</div><div class="line">  largest = scale[<span class="number">1</span>] * <span class="built_in">Math</span>.abs(mat_3x3[<span class="number">1</span>][<span class="number">1</span>]);</div><div class="line">  maxI = <span class="number">1</span>;</div><div class="line">  <span class="keyword">if</span> ((tmp = scale[<span class="number">2</span>] * <span class="built_in">Math</span>.abs(mat_3x3[<span class="number">2</span>][<span class="number">1</span>])) &gt;= largest) &#123;</div><div class="line">    maxI = <span class="number">2</span>;</div><div class="line">    vtkSwapVectors3(mat_3x3[<span class="number">2</span>], mat_3x3[<span class="number">1</span>]);</div><div class="line">    scale[<span class="number">2</span>] = scale[<span class="number">1</span>];</div><div class="line">  &#125;</div><div class="line">  index_3[<span class="number">1</span>] = maxI;</div><div class="line">  mat_3x3[<span class="number">2</span>][<span class="number">1</span>] /= mat_3x3[<span class="number">1</span>][<span class="number">1</span>];</div><div class="line"></div><div class="line">  <span class="comment">// third column</span></div><div class="line">  mat_3x3[<span class="number">1</span>][<span class="number">2</span>] -= mat_3x3[<span class="number">1</span>][<span class="number">0</span>] * mat_3x3[<span class="number">0</span>][<span class="number">2</span>];</div><div class="line">  mat_3x3[<span class="number">2</span>][<span class="number">2</span>] -= (mat_3x3[<span class="number">2</span>][<span class="number">0</span>] * mat_3x3[<span class="number">0</span>][<span class="number">2</span>]) + (mat_3x3[<span class="number">2</span>][<span class="number">1</span>] * mat_3x3[<span class="number">1</span>][<span class="number">2</span>]);</div><div class="line">  index_3[<span class="number">2</span>] = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">LUSolve3x3</span>(<span class="params">mat_3x3, index_3, x_3</span>) </span>&#123;</div><div class="line">  <span class="comment">// forward substitution</span></div><div class="line">  <span class="keyword">let</span> sum = x_3[index_3[<span class="number">0</span>]];</div><div class="line">  x_3[index_3[<span class="number">0</span>]] = x_3[<span class="number">0</span>];</div><div class="line">  x_3[<span class="number">0</span>] = sum;</div><div class="line"></div><div class="line">  sum = x_3[index_3[<span class="number">1</span>]];</div><div class="line">  x_3[index_3[<span class="number">1</span>]] = x_3[<span class="number">1</span>];</div><div class="line">  x_3[<span class="number">1</span>] = sum - (mat_3x3[<span class="number">1</span>][<span class="number">0</span>] * x_3[<span class="number">0</span>]);</div><div class="line"></div><div class="line">  sum = x_3[index_3[<span class="number">2</span>]];</div><div class="line">  x_3[index_3[<span class="number">2</span>]] = x_3[<span class="number">2</span>];</div><div class="line">  x_3[<span class="number">2</span>] = sum - (mat_3x3[<span class="number">2</span>][<span class="number">0</span>] * x_3[<span class="number">0</span>]) - (mat_3x3[<span class="number">2</span>][<span class="number">1</span>] * x_3[<span class="number">1</span>]);</div><div class="line"></div><div class="line">  <span class="comment">// back substitution</span></div><div class="line">  x_3[<span class="number">2</span>] /= mat_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line">  x_3[<span class="number">1</span>] = (x_3[<span class="number">1</span>] - (mat_3x3[<span class="number">1</span>][<span class="number">2</span>] * x_3[<span class="number">2</span>])) / mat_3x3[<span class="number">1</span>][<span class="number">1</span>];</div><div class="line">  x_3[<span class="number">0</span>] = (x_3[<span class="number">0</span>] - (mat_3x3[<span class="number">0</span>][<span class="number">1</span>] * x_3[<span class="number">1</span>]) - (mat_3x3[<span class="number">0</span>][<span class="number">2</span>] * x_3[<span class="number">2</span>])) / mat_3x3[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">linearSolve3x3</span>(<span class="params">mat_3x3, x_3, y_3</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> a1 = mat_3x3[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> b1 = mat_3x3[<span class="number">0</span>][<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> c1 = mat_3x3[<span class="number">0</span>][<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> a2 = mat_3x3[<span class="number">1</span>][<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> b2 = mat_3x3[<span class="number">1</span>][<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> c2 = mat_3x3[<span class="number">1</span>][<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> a3 = mat_3x3[<span class="number">2</span>][<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> b3 = mat_3x3[<span class="number">2</span>][<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> c3 = mat_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line"></div><div class="line">  <span class="comment">// Compute the adjoint</span></div><div class="line">  <span class="keyword">const</span> d1 = +determinant2x2(b2, b3, c2, c3);</div><div class="line">  <span class="keyword">const</span> d2 = -determinant2x2(a2, a3, c2, c3);</div><div class="line">  <span class="keyword">const</span> d3 = +determinant2x2(a2, a3, b2, b3);</div><div class="line"></div><div class="line">  <span class="keyword">const</span> e1 = -determinant2x2(b1, b3, c1, c3);</div><div class="line">  <span class="keyword">const</span> e2 = +determinant2x2(a1, a3, c1, c3);</div><div class="line">  <span class="keyword">const</span> e3 = -determinant2x2(a1, a3, b1, b3);</div><div class="line"></div><div class="line">  <span class="keyword">const</span> f1 = +determinant2x2(b1, b2, c1, c2);</div><div class="line">  <span class="keyword">const</span> f2 = -determinant2x2(a1, a2, c1, c2);</div><div class="line">  <span class="keyword">const</span> f3 = +determinant2x2(a1, a2, b1, b2);</div><div class="line"></div><div class="line">  <span class="comment">// Compute the determinant</span></div><div class="line">  <span class="keyword">const</span> det = (a1 * d1) + (b1 * d2) + (c1 * d3);</div><div class="line"></div><div class="line">  <span class="comment">// Multiply by the adjoint</span></div><div class="line">  <span class="keyword">const</span> v1 = (d1 * x_3[<span class="number">0</span>]) + (e1 * x_3[<span class="number">1</span>]) + (f1 * x_3[<span class="number">2</span>]);</div><div class="line">  <span class="keyword">const</span> v2 = (d2 * x_3[<span class="number">0</span>]) + (e2 * x_3[<span class="number">1</span>]) + (f2 * x_3[<span class="number">2</span>]);</div><div class="line">  <span class="keyword">const</span> v3 = (d3 * x_3[<span class="number">0</span>]) + (e3 * x_3[<span class="number">1</span>]) + (f3 * x_3[<span class="number">2</span>]);</div><div class="line"></div><div class="line">  <span class="comment">// Divide by the determinant</span></div><div class="line">  y_3[<span class="number">0</span>] = v1 / det;</div><div class="line">  y_3[<span class="number">1</span>] = v2 / det;</div><div class="line">  y_3[<span class="number">2</span>] = v3 / det;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply3x3_vect3</span>(<span class="params">mat_3x3, in_3, out_3</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> x = (mat_3x3[<span class="number">0</span>][<span class="number">0</span>] * in_3[<span class="number">0</span>]) + (mat_3x3[<span class="number">0</span>][<span class="number">1</span>] * in_3[<span class="number">1</span>]) + (mat_3x3[<span class="number">0</span>][<span class="number">2</span>] * in_3[<span class="number">2</span>]);</div><div class="line">  <span class="keyword">const</span> y = (mat_3x3[<span class="number">1</span>][<span class="number">0</span>] * in_3[<span class="number">0</span>]) + (mat_3x3[<span class="number">1</span>][<span class="number">1</span>] * in_3[<span class="number">1</span>]) + (mat_3x3[<span class="number">1</span>][<span class="number">2</span>] * in_3[<span class="number">2</span>]);</div><div class="line">  <span class="keyword">const</span> z = (mat_3x3[<span class="number">2</span>][<span class="number">0</span>] * in_3[<span class="number">0</span>]) + (mat_3x3[<span class="number">2</span>][<span class="number">1</span>] * in_3[<span class="number">1</span>]) + (mat_3x3[<span class="number">2</span>][<span class="number">2</span>] * in_3[<span class="number">2</span>]);</div><div class="line"></div><div class="line">  out_3[<span class="number">0</span>] = x;</div><div class="line">  out_3[<span class="number">1</span>] = y;</div><div class="line">  out_3[<span class="number">2</span>] = z;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply3x3_mat3</span>(<span class="params">a_3x3, b_3x3, out_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> tmp = [</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">  ];</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    tmp[<span class="number">0</span>][i] = (a_3x3[<span class="number">0</span>][<span class="number">0</span>] * b_3x3[<span class="number">0</span>][i]) + (a_3x3[<span class="number">0</span>][<span class="number">1</span>] * b_3x3[<span class="number">1</span>][i]) + (a_3x3[<span class="number">0</span>][<span class="number">2</span>] * b_3x3[<span class="number">2</span>][i]);</div><div class="line">    tmp[<span class="number">1</span>][i] = (a_3x3[<span class="number">1</span>][<span class="number">0</span>] * b_3x3[<span class="number">0</span>][i]) + (a_3x3[<span class="number">1</span>][<span class="number">1</span>] * b_3x3[<span class="number">1</span>][i]) + (a_3x3[<span class="number">1</span>][<span class="number">2</span>] * b_3x3[<span class="number">2</span>][i]);</div><div class="line">    tmp[<span class="number">2</span>][i] = (a_3x3[<span class="number">2</span>][<span class="number">0</span>] * b_3x3[<span class="number">0</span>][i]) + (a_3x3[<span class="number">2</span>][<span class="number">1</span>] * b_3x3[<span class="number">1</span>][i]) + (a_3x3[<span class="number">2</span>][<span class="number">2</span>] * b_3x3[<span class="number">2</span>][i]);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</div><div class="line">    out_3x3[j][<span class="number">0</span>] = tmp[j][<span class="number">0</span>];</div><div class="line">    out_3x3[j][<span class="number">1</span>] = tmp[j][<span class="number">1</span>];</div><div class="line">    out_3x3[j][<span class="number">2</span>] = tmp[j][<span class="number">2</span>];</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiplyMatrix</span>(<span class="params">a, b, rowA, colA, rowB, colB, out_rowXcol</span>) </span>&#123;</div><div class="line">  <span class="comment">// we need colA == rowB</span></div><div class="line">  <span class="keyword">if</span> (colA !== rowB) &#123;</div><div class="line">    vtkErrorMacro(<span class="string">'Number of columns of A must match number of rows of B.'</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// output matrix is rowA*colB</span></div><div class="line">  <span class="comment">// output row</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; rowA; i++) &#123;</div><div class="line">    <span class="comment">// output col</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; colB; j++) &#123;</div><div class="line">      out_rowXcol[i][j] = <span class="number">0</span>;</div><div class="line">      <span class="comment">// sum for this point</span></div><div class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; colA; k++) &#123;</div><div class="line">        out_rowXcol[i][j] += a[i][k] * b[k][j];</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">transpose3x3</span>(<span class="params">in_3x3, outT_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> tmp;</div><div class="line">  tmp = in_3x3[<span class="number">1</span>][<span class="number">0</span>];</div><div class="line">  outT_3x3[<span class="number">1</span>][<span class="number">0</span>] = in_3x3[<span class="number">0</span>][<span class="number">1</span>];</div><div class="line">  outT_3x3[<span class="number">0</span>][<span class="number">1</span>] = tmp;</div><div class="line">  tmp = in_3x3[<span class="number">2</span>][<span class="number">0</span>];</div><div class="line">  outT_3x3[<span class="number">2</span>][<span class="number">0</span>] = in_3x3[<span class="number">0</span>][<span class="number">2</span>];</div><div class="line">  outT_3x3[<span class="number">0</span>][<span class="number">2</span>] = tmp;</div><div class="line">  tmp = in_3x3[<span class="number">2</span>][<span class="number">1</span>];</div><div class="line">  outT_3x3[<span class="number">2</span>][<span class="number">1</span>] = in_3x3[<span class="number">1</span>][<span class="number">2</span>];</div><div class="line">  outT_3x3[<span class="number">1</span>][<span class="number">2</span>] = tmp;</div><div class="line"></div><div class="line">  outT_3x3[<span class="number">0</span>][<span class="number">0</span>] = in_3x3[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">  outT_3x3[<span class="number">1</span>][<span class="number">1</span>] = in_3x3[<span class="number">1</span>][<span class="number">1</span>];</div><div class="line">  outT_3x3[<span class="number">2</span>][<span class="number">2</span>] = in_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">invert3x3</span>(<span class="params">in_3x3, outI_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> a1 = in_3x3[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> b1 = in_3x3[<span class="number">0</span>][<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> c1 = in_3x3[<span class="number">0</span>][<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> a2 = in_3x3[<span class="number">1</span>][<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> b2 = in_3x3[<span class="number">1</span>][<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> c2 = in_3x3[<span class="number">1</span>][<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> a3 = in_3x3[<span class="number">2</span>][<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> b3 = in_3x3[<span class="number">2</span>][<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> c3 = in_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line"></div><div class="line">  <span class="comment">// Compute the adjoint</span></div><div class="line">  <span class="keyword">const</span> d1 = +determinant2x2(b2, b3, c2, c3);</div><div class="line">  <span class="keyword">const</span> d2 = -determinant2x2(a2, a3, c2, c3);</div><div class="line">  <span class="keyword">const</span> d3 = +determinant2x2(a2, a3, b2, b3);</div><div class="line"></div><div class="line">  <span class="keyword">const</span> e1 = -determinant2x2(b1, b3, c1, c3);</div><div class="line">  <span class="keyword">const</span> e2 = +determinant2x2(a1, a3, c1, c3);</div><div class="line">  <span class="keyword">const</span> e3 = -determinant2x2(a1, a3, b1, b3);</div><div class="line"></div><div class="line">  <span class="keyword">const</span> f1 = +determinant2x2(b1, b2, c1, c2);</div><div class="line">  <span class="keyword">const</span> f2 = -determinant2x2(a1, a2, c1, c2);</div><div class="line">  <span class="keyword">const</span> f3 = +determinant2x2(a1, a2, b1, b2);</div><div class="line"></div><div class="line">  <span class="comment">// Divide by the determinant</span></div><div class="line">  <span class="keyword">const</span> det = (a1 * d1) + (b1 * d2) + (c1 * d3);</div><div class="line"></div><div class="line">  outI_3x3[<span class="number">0</span>][<span class="number">0</span>] = d1 / det;</div><div class="line">  outI_3x3[<span class="number">1</span>][<span class="number">0</span>] = d2 / det;</div><div class="line">  outI_3x3[<span class="number">2</span>][<span class="number">0</span>] = d3 / det;</div><div class="line"></div><div class="line">  outI_3x3[<span class="number">0</span>][<span class="number">1</span>] = e1 / det;</div><div class="line">  outI_3x3[<span class="number">1</span>][<span class="number">1</span>] = e2 / det;</div><div class="line">  outI_3x3[<span class="number">2</span>][<span class="number">1</span>] = e3 / det;</div><div class="line"></div><div class="line">  outI_3x3[<span class="number">0</span>][<span class="number">2</span>] = f1 / det;</div><div class="line">  outI_3x3[<span class="number">1</span>][<span class="number">2</span>] = f2 / det;</div><div class="line">  outI_3x3[<span class="number">2</span>][<span class="number">2</span>] = f3 / det;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity3x3</span>(<span class="params">mat_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    mat_3x3[i][<span class="number">0</span>] = mat_3x3[i][<span class="number">1</span>] = mat_3x3[i][<span class="number">2</span>] = <span class="number">0</span>;</div><div class="line">    mat_3x3[i][i] = <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">determinant3x3</span>(<span class="params">mat_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (mat_3x3[<span class="number">0</span>][<span class="number">0</span>] * mat_3x3[<span class="number">1</span>][<span class="number">1</span>] * mat_3x3[<span class="number">2</span>][<span class="number">2</span>])</div><div class="line">    + (mat_3x3[<span class="number">1</span>][<span class="number">0</span>] * mat_3x3[<span class="number">2</span>][<span class="number">1</span>] * mat_3x3[<span class="number">0</span>][<span class="number">2</span>])</div><div class="line">    + (mat_3x3[<span class="number">2</span>][<span class="number">0</span>] * mat_3x3[<span class="number">0</span>][<span class="number">1</span>] * mat_3x3[<span class="number">1</span>][<span class="number">2</span>])</div><div class="line">    - (mat_3x3[<span class="number">0</span>][<span class="number">0</span>] * mat_3x3[<span class="number">2</span>][<span class="number">1</span>] * mat_3x3[<span class="number">1</span>][<span class="number">2</span>])</div><div class="line">    - (mat_3x3[<span class="number">1</span>][<span class="number">0</span>] * mat_3x3[<span class="number">0</span>][<span class="number">1</span>] * mat_3x3[<span class="number">2</span>][<span class="number">2</span>])</div><div class="line">    - (mat_3x3[<span class="number">2</span>][<span class="number">0</span>] * mat_3x3[<span class="number">1</span>][<span class="number">1</span>] * mat_3x3[<span class="number">0</span>][<span class="number">2</span>]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">quaternionToMatrix3x3</span>(<span class="params">quat_4, mat_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> ww = quat_4[<span class="number">0</span>] * quat_4[<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> wx = quat_4[<span class="number">0</span>] * quat_4[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> wy = quat_4[<span class="number">0</span>] * quat_4[<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> wz = quat_4[<span class="number">0</span>] * quat_4[<span class="number">3</span>];</div><div class="line"></div><div class="line">  <span class="keyword">const</span> xx = quat_4[<span class="number">1</span>] * quat_4[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> yy = quat_4[<span class="number">2</span>] * quat_4[<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> zz = quat_4[<span class="number">3</span>] * quat_4[<span class="number">3</span>];</div><div class="line"></div><div class="line">  <span class="keyword">const</span> xy = quat_4[<span class="number">1</span>] * quat_4[<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> xz = quat_4[<span class="number">1</span>] * quat_4[<span class="number">3</span>];</div><div class="line">  <span class="keyword">const</span> yz = quat_4[<span class="number">2</span>] * quat_4[<span class="number">3</span>];</div><div class="line"></div><div class="line">  <span class="keyword">const</span> rr = xx + yy + zz;</div><div class="line">  <span class="comment">// normalization factor, just in case quaternion was not normalized</span></div><div class="line">  <span class="keyword">let</span> f = <span class="number">1</span> / (ww + rr);</div><div class="line">  <span class="keyword">const</span> s = (ww - rr) * f;</div><div class="line">  f *= <span class="number">2</span>;</div><div class="line"></div><div class="line">  mat_3x3[<span class="number">0</span>][<span class="number">0</span>] = (xx * f) + s;</div><div class="line">  mat_3x3[<span class="number">1</span>][<span class="number">0</span>] = (xy + wz) * f;</div><div class="line">  mat_3x3[<span class="number">2</span>][<span class="number">0</span>] = (xz - wy) * f;</div><div class="line"></div><div class="line">  mat_3x3[<span class="number">0</span>][<span class="number">1</span>] = (xy - wz) * f;</div><div class="line">  mat_3x3[<span class="number">1</span>][<span class="number">1</span>] = (yy * f) + s;</div><div class="line">  mat_3x3[<span class="number">2</span>][<span class="number">1</span>] = (yz + wx) * f;</div><div class="line"></div><div class="line">  mat_3x3[<span class="number">0</span>][<span class="number">2</span>] = (xz + wy) * f;</div><div class="line">  mat_3x3[<span class="number">1</span>][<span class="number">2</span>] = (yz - wx) * f;</div><div class="line">  mat_3x3[<span class="number">2</span>][<span class="number">2</span>] = (zz * f) + s;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">jacobiN</span>(<span class="params">a, n, w, v</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> i;</div><div class="line">  <span class="keyword">let</span> j;</div><div class="line">  <span class="keyword">let</span> k;</div><div class="line">  <span class="keyword">let</span> iq;</div><div class="line">  <span class="keyword">let</span> ip;</div><div class="line">  <span class="keyword">let</span> numPos;</div><div class="line">  <span class="keyword">let</span> tresh;</div><div class="line">  <span class="keyword">let</span> theta;</div><div class="line">  <span class="keyword">let</span> t;</div><div class="line">  <span class="keyword">let</span> tau;</div><div class="line">  <span class="keyword">let</span> sm;</div><div class="line">  <span class="keyword">let</span> s;</div><div class="line">  <span class="keyword">let</span> h;</div><div class="line">  <span class="keyword">let</span> g;</div><div class="line">  <span class="keyword">let</span> c;</div><div class="line">  <span class="keyword">let</span> tmp;</div><div class="line">  <span class="keyword">const</span> b = createArray(n);</div><div class="line">  <span class="keyword">const</span> z = createArray(n);</div><div class="line"></div><div class="line">  <span class="keyword">const</span> vtkROTATE = <span class="function">(<span class="params">aa, ii, jj, kk, ll</span>) =&gt;</span> &#123;</div><div class="line">    g = aa[ii][jj];</div><div class="line">    h = aa[kk][ll];</div><div class="line">    a[ii][jj] = g - (s * (h + (g * tau)));</div><div class="line">    a[kk][ll] = h + (s * (g - (h * tau)));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// initialize</span></div><div class="line">  <span class="keyword">for</span> (ip = <span class="number">0</span>; ip &lt; n; ip++) &#123;</div><div class="line">    <span class="keyword">for</span> (iq = <span class="number">0</span>; iq &lt; n; iq++) &#123;</div><div class="line">      v[ip][iq] = <span class="number">0.0</span>;</div><div class="line">    &#125;</div><div class="line">    v[ip][ip] = <span class="number">1.0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">for</span> (ip = <span class="number">0</span>; ip &lt; n; ip++) &#123;</div><div class="line">    b[ip] = w[ip] = a[ip][ip];</div><div class="line">    z[ip] = <span class="number">0.0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// begin rotation sequence</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; VTK_MAX_ROTATIONS; i++) &#123;</div><div class="line">    sm = <span class="number">0.0</span>;</div><div class="line">    <span class="keyword">for</span> (ip = <span class="number">0</span>; ip &lt; n - <span class="number">1</span>; ip++) &#123;</div><div class="line">      <span class="keyword">for</span> (iq = ip + <span class="number">1</span>; iq &lt; n; iq++) &#123;</div><div class="line">        sm += <span class="built_in">Math</span>.abs(a[ip][iq]);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (sm === <span class="number">0.0</span>) &#123;</div><div class="line">      <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// first 3 sweeps</span></div><div class="line">    <span class="keyword">if</span> (i &lt; <span class="number">3</span>) &#123;</div><div class="line">      tresh = <span class="number">0.2</span> * sm / (n * n);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      tresh = <span class="number">0.0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (ip = <span class="number">0</span>; ip &lt; n - <span class="number">1</span>; ip++) &#123;</div><div class="line">      <span class="keyword">for</span> (iq = ip + <span class="number">1</span>; iq &lt; n; iq++) &#123;</div><div class="line">        g = <span class="number">100.0</span> * <span class="built_in">Math</span>.abs(a[ip][iq]);</div><div class="line"></div><div class="line">        <span class="comment">// after 4 sweeps</span></div><div class="line">        <span class="keyword">if</span> (i &gt; <span class="number">3</span> &amp;&amp; (<span class="built_in">Math</span>.abs(w[ip]) + g) === <span class="built_in">Math</span>.abs(w[ip]) &amp;&amp; (<span class="built_in">Math</span>.abs(w[iq]) + g) === <span class="built_in">Math</span>.abs(w[iq])) &#123;</div><div class="line">          a[ip][iq] = <span class="number">0.0</span>;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(a[ip][iq]) &gt; tresh) &#123;</div><div class="line">          h = w[iq] - w[ip];</div><div class="line">          <span class="keyword">if</span> ((<span class="built_in">Math</span>.abs(h) + g) === <span class="built_in">Math</span>.abs(h)) &#123;</div><div class="line">            t = (a[ip][iq]) / h;</div><div class="line">          &#125; <span class="keyword">else</span> &#123;</div><div class="line">            theta = <span class="number">0.5</span> * h / (a[ip][iq]);</div><div class="line">            t = <span class="number">1.0</span> / (<span class="built_in">Math</span>.abs(theta) + <span class="built_in">Math</span>.sqrt(<span class="number">1.0</span> + (theta * theta)));</div><div class="line">            <span class="keyword">if</span> (theta &lt; <span class="number">0.0</span>) &#123;</div><div class="line">              t = -t;</div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line">          c = <span class="number">1.0</span> / <span class="built_in">Math</span>.sqrt(<span class="number">1</span> + (t * t));</div><div class="line">          s = t * c;</div><div class="line">          tau = s / (<span class="number">1.0</span> + c);</div><div class="line">          h = t * a[ip][iq];</div><div class="line">          z[ip] -= h;</div><div class="line">          z[iq] += h;</div><div class="line">          w[ip] -= h;</div><div class="line">          w[iq] += h;</div><div class="line">          a[ip][iq] = <span class="number">0.0</span>;</div><div class="line"></div><div class="line">          <span class="comment">// ip already shifted left by 1 unit</span></div><div class="line">          <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt;= ip - <span class="number">1</span>; j++) &#123;</div><div class="line">            vtkROTATE(a, j, ip, j, iq);</div><div class="line">          &#125;</div><div class="line">          <span class="comment">// ip and iq already shifted left by 1 unit</span></div><div class="line">          <span class="keyword">for</span> (j = ip + <span class="number">1</span>; j &lt;= iq - <span class="number">1</span>; j++) &#123;</div><div class="line">            vtkROTATE(a, ip, j, j, iq);</div><div class="line">          &#125;</div><div class="line">          <span class="comment">// iq already shifted left by 1 unit</span></div><div class="line">          <span class="keyword">for</span> (j = iq + <span class="number">1</span>; j &lt; n; j++) &#123;</div><div class="line">            vtkROTATE(a, ip, j, iq, j);</div><div class="line">          &#125;</div><div class="line">          <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">            vtkROTATE(v, j, ip, j, iq);</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (ip = <span class="number">0</span>; ip &lt; n; ip++) &#123;</div><div class="line">      b[ip] += z[ip];</div><div class="line">      w[ip] = b[ip];</div><div class="line">      z[ip] = <span class="number">0.0</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// this is NEVER called</span></div><div class="line">  <span class="keyword">if</span> (i &gt;= VTK_MAX_ROTATIONS) &#123;</div><div class="line">    vtkWarningMacro(<span class="string">'vtkMath::Jacobi: Error extracting eigenfunctions'</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// sort eigenfunctions: these changes do not affect accuracy</span></div><div class="line">  <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n - <span class="number">1</span>; j++) &#123;</div><div class="line">    <span class="comment">// boundary incorrect</span></div><div class="line">    k = j;</div><div class="line">    tmp = w[k];</div><div class="line">    <span class="keyword">for</span> (i = j + <span class="number">1</span>; i &lt; n; i++) &#123;</div><div class="line">      <span class="comment">// boundary incorrect, shifted already</span></div><div class="line">      <span class="keyword">if</span> (w[i] &gt;= tmp) &#123;</div><div class="line">        <span class="comment">// why exchange if same?</span></div><div class="line">        k = i;</div><div class="line">        tmp = w[k];</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (k !== j) &#123;</div><div class="line">      w[k] = w[j];</div><div class="line">      w[j] = tmp;</div><div class="line">      <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">        tmp = v[i][j];</div><div class="line">        v[i][j] = v[i][k];</div><div class="line">        v[i][k] = tmp;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// ensure eigenvector consistency (i.e., Jacobi can compute vectors that</span></div><div class="line">  <span class="comment">// are negative of one another (.707,.707,0) and (-.707,-.707,0). This can</span></div><div class="line">  <span class="comment">// reek havoc in hyperstreamline/other stuff. We will select the most</span></div><div class="line">  <span class="comment">// positive eigenvector.</span></div><div class="line">  <span class="keyword">const</span> ceil_half_n = (n &gt;&gt; <span class="number">1</span>) + (n &amp; <span class="number">1</span>);</div><div class="line">  <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">    <span class="keyword">for</span> (numPos = <span class="number">0</span>, i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">      <span class="keyword">if</span> (v[i][j] &gt;= <span class="number">0.0</span>) &#123;</div><div class="line">        numPos++;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//    if ( numPos &lt; ceil(double(n)/double(2.0)) )</span></div><div class="line">    <span class="keyword">if</span> (numPos &lt; ceil_half_n) &#123;</div><div class="line">      <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">        v[i][j] *= <span class="number">-1.0</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">matrix3x3ToQuaternion</span>(<span class="params">mat_3x3, quat_4</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> tmp = [</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">  ];</div><div class="line"></div><div class="line">  <span class="comment">// on-diagonal elements</span></div><div class="line">  tmp[<span class="number">0</span>][<span class="number">0</span>] = mat_3x3[<span class="number">0</span>][<span class="number">0</span>] + mat_3x3[<span class="number">1</span>][<span class="number">1</span>] + mat_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line">  tmp[<span class="number">1</span>][<span class="number">1</span>] = mat_3x3[<span class="number">0</span>][<span class="number">0</span>] - mat_3x3[<span class="number">1</span>][<span class="number">1</span>] - mat_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line">  tmp[<span class="number">2</span>][<span class="number">2</span>] = -mat_3x3[<span class="number">0</span>][<span class="number">0</span>] + mat_3x3[<span class="number">1</span>][<span class="number">1</span>] - mat_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line">  tmp[<span class="number">3</span>][<span class="number">3</span>] = -mat_3x3[<span class="number">0</span>][<span class="number">0</span>] - mat_3x3[<span class="number">1</span>][<span class="number">1</span>] + mat_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line"></div><div class="line">  <span class="comment">// off-diagonal elements</span></div><div class="line">  tmp[<span class="number">0</span>][<span class="number">1</span>] = tmp[<span class="number">1</span>][<span class="number">0</span>] = mat_3x3[<span class="number">2</span>][<span class="number">1</span>] - mat_3x3[<span class="number">1</span>][<span class="number">2</span>];</div><div class="line">  tmp[<span class="number">0</span>][<span class="number">2</span>] = tmp[<span class="number">2</span>][<span class="number">0</span>] = mat_3x3[<span class="number">0</span>][<span class="number">2</span>] - mat_3x3[<span class="number">2</span>][<span class="number">0</span>];</div><div class="line">  tmp[<span class="number">0</span>][<span class="number">3</span>] = tmp[<span class="number">3</span>][<span class="number">0</span>] = mat_3x3[<span class="number">1</span>][<span class="number">0</span>] - mat_3x3[<span class="number">0</span>][<span class="number">1</span>];</div><div class="line"></div><div class="line">  tmp[<span class="number">1</span>][<span class="number">2</span>] = tmp[<span class="number">2</span>][<span class="number">1</span>] = mat_3x3[<span class="number">1</span>][<span class="number">0</span>] + mat_3x3[<span class="number">0</span>][<span class="number">1</span>];</div><div class="line">  tmp[<span class="number">1</span>][<span class="number">3</span>] = tmp[<span class="number">3</span>][<span class="number">1</span>] = mat_3x3[<span class="number">0</span>][<span class="number">2</span>] + mat_3x3[<span class="number">2</span>][<span class="number">0</span>];</div><div class="line">  tmp[<span class="number">2</span>][<span class="number">3</span>] = tmp[<span class="number">3</span>][<span class="number">2</span>] = mat_3x3[<span class="number">2</span>][<span class="number">1</span>] + mat_3x3[<span class="number">1</span>][<span class="number">2</span>];</div><div class="line"></div><div class="line">  <span class="keyword">const</span> eigenvectors = [</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">  ];</div><div class="line">  <span class="keyword">const</span> eigenvalues = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line"></div><div class="line">  <span class="comment">// convert into format that JacobiN can use,</span></div><div class="line">  <span class="comment">// then use Jacobi to find eigenvalues and eigenvectors</span></div><div class="line">  <span class="keyword">const</span> NTemp = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> eigenvectorsTemp = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</div><div class="line">    NTemp[i] = tmp[i];</div><div class="line">    eigenvectorsTemp[i] = eigenvectors[i];</div><div class="line">  &#125;</div><div class="line">  jacobiN(NTemp, <span class="number">4</span>, eigenvalues, eigenvectorsTemp);</div><div class="line"></div><div class="line">  <span class="comment">// the first eigenvector is the one we want</span></div><div class="line">  quat_4[<span class="number">0</span>] = eigenvectors[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">  quat_4[<span class="number">1</span>] = eigenvectors[<span class="number">1</span>][<span class="number">0</span>];</div><div class="line">  quat_4[<span class="number">2</span>] = eigenvectors[<span class="number">2</span>][<span class="number">0</span>];</div><div class="line">  quat_4[<span class="number">3</span>] = eigenvectors[<span class="number">3</span>][<span class="number">0</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiplyQuaternion</span>(<span class="params">quat_1, quat_2, quat_out</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> ww = quat_1[<span class="number">0</span>] * quat_2[<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> wx = quat_1[<span class="number">0</span>] * quat_2[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> wy = quat_1[<span class="number">0</span>] * quat_2[<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> wz = quat_1[<span class="number">0</span>] * quat_2[<span class="number">3</span>];</div><div class="line"></div><div class="line">  <span class="keyword">const</span> xw = quat_1[<span class="number">1</span>] * quat_2[<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> xx = quat_1[<span class="number">1</span>] * quat_2[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> xy = quat_1[<span class="number">1</span>] * quat_2[<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> xz = quat_1[<span class="number">1</span>] * quat_2[<span class="number">3</span>];</div><div class="line"></div><div class="line">  <span class="keyword">const</span> yw = quat_1[<span class="number">2</span>] * quat_2[<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> yx = quat_1[<span class="number">2</span>] * quat_2[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> yy = quat_1[<span class="number">2</span>] * quat_2[<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> yz = quat_1[<span class="number">2</span>] * quat_2[<span class="number">3</span>];</div><div class="line"></div><div class="line">  <span class="keyword">const</span> zw = quat_1[<span class="number">3</span>] * quat_2[<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> zx = quat_1[<span class="number">3</span>] * quat_2[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> zy = quat_1[<span class="number">3</span>] * quat_2[<span class="number">2</span>];</div><div class="line">  <span class="keyword">const</span> zz = quat_1[<span class="number">3</span>] * quat_2[<span class="number">3</span>];</div><div class="line"></div><div class="line">  quat_out[<span class="number">0</span>] = ww - xx - yy - zz;</div><div class="line">  quat_out[<span class="number">1</span>] = wx + xw + yz - zy;</div><div class="line">  quat_out[<span class="number">2</span>] = wy - xz + yw + zx;</div><div class="line">  quat_out[<span class="number">3</span>] = wz + xy - yx + zw;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">orthogonalize3x3</span>(<span class="params">a_3x3, out_3x3</span>) </span>&#123;</div><div class="line">  <span class="comment">// copy the matrix</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    out_3x3[<span class="number">0</span>][i] = a_3x3[<span class="number">0</span>][i];</div><div class="line">    out_3x3[<span class="number">1</span>][i] = a_3x3[<span class="number">1</span>][i];</div><div class="line">    out_3x3[<span class="number">2</span>][i] = a_3x3[<span class="number">2</span>][i];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Pivot the matrix to improve accuracy</span></div><div class="line">  <span class="keyword">const</span> scale = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">const</span> index = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">let</span> largest;</div><div class="line"></div><div class="line">  <span class="comment">// Loop over rows to get implicit scaling information</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    <span class="keyword">const</span> x1 = <span class="built_in">Math</span>.abs(out_3x3[i][<span class="number">0</span>]);</div><div class="line">    <span class="keyword">const</span> x2 = <span class="built_in">Math</span>.abs(out_3x3[i][<span class="number">1</span>]);</div><div class="line">    <span class="keyword">const</span> x3 = <span class="built_in">Math</span>.abs(out_3x3[i][<span class="number">2</span>]);</div><div class="line">    largest = (x2 &gt; x1 ? x2 : x1);</div><div class="line">    largest = (x3 &gt; largest ? x3 : largest);</div><div class="line">    scale[i] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span> (largest !== <span class="number">0</span>) &#123;</div><div class="line">      scale[i] /= largest;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// first column</span></div><div class="line">  <span class="keyword">const</span> x1 = <span class="built_in">Math</span>.abs(out_3x3[<span class="number">0</span>][<span class="number">0</span>]) * scale[<span class="number">0</span>];</div><div class="line">  <span class="keyword">const</span> x2 = <span class="built_in">Math</span>.abs(out_3x3[<span class="number">1</span>][<span class="number">0</span>]) * scale[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> x3 = <span class="built_in">Math</span>.abs(out_3x3[<span class="number">2</span>][<span class="number">0</span>]) * scale[<span class="number">2</span>];</div><div class="line">  index[<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">  largest = x1;</div><div class="line">  <span class="keyword">if</span> (x2 &gt;= largest) &#123;</div><div class="line">    largest = x2;</div><div class="line">    index[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (x3 &gt;= largest) &#123;</div><div class="line">    index[<span class="number">0</span>] = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (index[<span class="number">0</span>] !== <span class="number">0</span>) &#123;</div><div class="line">    vtkSwapVectors3(out_3x3[index[<span class="number">0</span>]], out_3x3[<span class="number">0</span>]);</div><div class="line">    scale[index[<span class="number">0</span>]] = scale[<span class="number">0</span>];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// second column</span></div><div class="line">  <span class="keyword">const</span> y2 = <span class="built_in">Math</span>.abs(out_3x3[<span class="number">1</span>][<span class="number">1</span>]) * scale[<span class="number">1</span>];</div><div class="line">  <span class="keyword">const</span> y3 = <span class="built_in">Math</span>.abs(out_3x3[<span class="number">2</span>][<span class="number">1</span>]) * scale[<span class="number">2</span>];</div><div class="line">  index[<span class="number">1</span>] = <span class="number">1</span>;</div><div class="line">  largest = y2;</div><div class="line">  <span class="keyword">if</span> (y3 &gt;= largest) &#123;</div><div class="line">    index[<span class="number">1</span>] = <span class="number">2</span>;</div><div class="line">    vtkSwapVectors3(out_3x3[<span class="number">2</span>], out_3x3[<span class="number">1</span>]);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// third column</span></div><div class="line">  index[<span class="number">2</span>] = <span class="number">2</span>;</div><div class="line"></div><div class="line">  <span class="comment">// A quaternion can only describe a pure rotation, not</span></div><div class="line">  <span class="comment">// a rotation with a flip, therefore the flip must be</span></div><div class="line">  <span class="comment">// removed before the matrix is converted to a quaternion.</span></div><div class="line">  <span class="keyword">let</span> flip = <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span> (determinant3x3(out_3x3) &lt; <span class="number">0</span>) &#123;</div><div class="line">    flip = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">      out_3x3[<span class="number">0</span>][i] = -out_3x3[<span class="number">0</span>][i];</div><div class="line">      out_3x3[<span class="number">1</span>][i] = -out_3x3[<span class="number">1</span>][i];</div><div class="line">      out_3x3[<span class="number">2</span>][i] = -out_3x3[<span class="number">2</span>][i];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Do orthogonalization using a quaternion intermediate</span></div><div class="line">  <span class="comment">// (this, essentially, does the orthogonalization via</span></div><div class="line">  <span class="comment">// diagonalization of an appropriately constructed symmetric</span></div><div class="line">  <span class="comment">// 4x4 matrix rather than by doing SVD of the 3x3 matrix)</span></div><div class="line">  <span class="keyword">const</span> quat = createArray(<span class="number">4</span>);</div><div class="line">  matrix3x3ToQuaternion(out_3x3, quat);</div><div class="line">  quaternionToMatrix3x3(quat, out_3x3);</div><div class="line"></div><div class="line">  <span class="comment">// Put the flip back into the orthogonalized matrix.</span></div><div class="line">  <span class="keyword">if</span> (flip) &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">      out_3x3[<span class="number">0</span>][i] = -out_3x3[<span class="number">0</span>][i];</div><div class="line">      out_3x3[<span class="number">1</span>][i] = -out_3x3[<span class="number">1</span>][i];</div><div class="line">      out_3x3[<span class="number">2</span>][i] = -out_3x3[<span class="number">2</span>][i];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Undo the pivoting</span></div><div class="line">  <span class="keyword">if</span> (index[<span class="number">1</span>] !== <span class="number">1</span>) &#123;</div><div class="line">    vtkSwapVectors3(out_3x3[index[<span class="number">1</span>]], out_3x3[<span class="number">1</span>]);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (index[<span class="number">0</span>] !== <span class="number">0</span>) &#123;</div><div class="line">    vtkSwapVectors3(out_3x3[index[<span class="number">0</span>]], out_3x3[<span class="number">0</span>]);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">diagonalize3x3</span>(<span class="params">a_3x3, w_3, v_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> i;</div><div class="line">  <span class="keyword">let</span> j;</div><div class="line">  <span class="keyword">let</span> k;</div><div class="line">  <span class="keyword">let</span> maxI;</div><div class="line">  <span class="keyword">let</span> tmp;</div><div class="line">  <span class="keyword">let</span> maxVal;</div><div class="line"></div><div class="line">  <span class="comment">// do the matrix[3][3] to **matrix conversion for Jacobi</span></div><div class="line">  <span class="keyword">const</span> C = [</div><div class="line">    createArray(<span class="number">3</span>),</div><div class="line">    createArray(<span class="number">3</span>),</div><div class="line">    createArray(<span class="number">3</span>),</div><div class="line">  ];</div><div class="line">  <span class="keyword">const</span> ATemp = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">const</span> VTemp = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    C[i][<span class="number">0</span>] = a_3x3[i][<span class="number">0</span>];</div><div class="line">    C[i][<span class="number">1</span>] = a_3x3[i][<span class="number">1</span>];</div><div class="line">    C[i][<span class="number">2</span>] = a_3x3[i][<span class="number">2</span>];</div><div class="line">    ATemp[i] = C[i];</div><div class="line">    VTemp[i] = v_3x3[i];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// diagonalize using Jacobi</span></div><div class="line">  jacobiN(ATemp, <span class="number">3</span>, w_3, VTemp);</div><div class="line"></div><div class="line">  <span class="comment">// if all the eigenvalues are the same, return identity matrix</span></div><div class="line">  <span class="keyword">if</span> (w_3[<span class="number">0</span>] === w_3[<span class="number">1</span>] &amp;&amp; w_3[<span class="number">0</span>] === w_3[<span class="number">2</span>]) &#123;</div><div class="line">    identity3x3(v_3x3);</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// transpose temporarily, it makes it easier to sort the eigenvectors</span></div><div class="line">  transpose3x3(v_3x3, v_3x3);</div><div class="line"></div><div class="line">  <span class="comment">// if two eigenvalues are the same, re-orthogonalize to optimally line</span></div><div class="line">  <span class="comment">// up the eigenvectors with the x, y, and z axes</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    <span class="comment">// two eigenvalues are the same</span></div><div class="line">    <span class="keyword">if</span> (w_3[(i + <span class="number">1</span>) % <span class="number">3</span>] === w_3[(i + <span class="number">2</span>) % <span class="number">3</span>]) &#123;</div><div class="line">      <span class="comment">// find maximum element of the independent eigenvector</span></div><div class="line">      maxVal = <span class="built_in">Math</span>.abs(v_3x3[i][<span class="number">0</span>]);</div><div class="line">      maxI = <span class="number">0</span>;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; <span class="number">3</span>; j++) &#123;</div><div class="line">        <span class="keyword">if</span> (maxVal &lt; (tmp = <span class="built_in">Math</span>.abs(v_3x3[i][j]))) &#123;</div><div class="line">          maxVal = tmp;</div><div class="line">          maxI = j;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// swap the eigenvector into its proper position</span></div><div class="line">      <span class="keyword">if</span> (maxI !== i) &#123;</div><div class="line">        tmp = w_3[maxI];</div><div class="line">        w_3[maxI] = w_3[i];</div><div class="line">        w_3[i] = tmp;</div><div class="line">        vtkSwapVectors3(v_3x3[i], v_3x3[maxI]);</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// maximum element of eigenvector should be positive</span></div><div class="line">      <span class="keyword">if</span> (v_3x3[maxI][maxI] &lt; <span class="number">0</span>) &#123;</div><div class="line">        v_3x3[maxI][<span class="number">0</span>] = -v_3x3[maxI][<span class="number">0</span>];</div><div class="line">        v_3x3[maxI][<span class="number">1</span>] = -v_3x3[maxI][<span class="number">1</span>];</div><div class="line">        v_3x3[maxI][<span class="number">2</span>] = -v_3x3[maxI][<span class="number">2</span>];</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="comment">// re-orthogonalize the other two eigenvectors</span></div><div class="line">      j = (maxI + <span class="number">1</span>) % <span class="number">3</span>;</div><div class="line">      k = (maxI + <span class="number">2</span>) % <span class="number">3</span>;</div><div class="line"></div><div class="line">      v_3x3[j][<span class="number">0</span>] = <span class="number">0.0</span>;</div><div class="line">      v_3x3[j][<span class="number">1</span>] = <span class="number">0.0</span>;</div><div class="line">      v_3x3[j][<span class="number">2</span>] = <span class="number">0.0</span>;</div><div class="line">      v_3x3[j][j] = <span class="number">1.0</span>;</div><div class="line">      cross(v_3x3[maxI], v_3x3[j], v_3x3[k]);</div><div class="line">      normalize(v_3x3[k]);</div><div class="line">      cross(v_3x3[k], v_3x3[maxI], v_3x3[j]);</div><div class="line"></div><div class="line">      <span class="comment">// transpose vectors back to columns</span></div><div class="line">      transpose3x3(v_3x3, v_3x3);</div><div class="line">      <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// the three eigenvalues are different, just sort the eigenvectors</span></div><div class="line">  <span class="comment">// to align them with the x, y, and z axes</span></div><div class="line"></div><div class="line">  <span class="comment">// find the vector with the largest x element, make that vector</span></div><div class="line">  <span class="comment">// the first vector</span></div><div class="line">  maxVal = <span class="built_in">Math</span>.abs(v_3x3[<span class="number">0</span>][<span class="number">0</span>]);</div><div class="line">  maxI = <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (maxVal &lt; (tmp = <span class="built_in">Math</span>.abs(v_3x3[i][<span class="number">0</span>]))) &#123;</div><div class="line">      maxVal = tmp;</div><div class="line">      maxI = i;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// swap eigenvalue and eigenvector</span></div><div class="line">  <span class="keyword">if</span> (maxI !== <span class="number">0</span>) &#123;</div><div class="line">    tmp = w_3[maxI];</div><div class="line">    w_3[maxI] = w_3[<span class="number">0</span>];</div><div class="line">    w_3[<span class="number">0</span>] = tmp;</div><div class="line">    vtkSwapVectors3(v_3x3[maxI], v_3x3[<span class="number">0</span>]);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// do the same for the y element</span></div><div class="line">  <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(v_3x3[<span class="number">1</span>][<span class="number">1</span>]) &lt; <span class="built_in">Math</span>.abs(v_3x3[<span class="number">2</span>][<span class="number">1</span>])) &#123;</div><div class="line">    tmp = w_3[<span class="number">2</span>];</div><div class="line">    w_3[<span class="number">2</span>] = w_3[<span class="number">1</span>];</div><div class="line">    w_3[<span class="number">1</span>] = tmp;</div><div class="line">    vtkSwapVectors3(v_3x3[<span class="number">2</span>], v_3x3[<span class="number">1</span>]);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// ensure that the sign of the eigenvectors is correct</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (v_3x3[i][i] &lt; <span class="number">0</span>) &#123;</div><div class="line">      v_3x3[i][<span class="number">0</span>] = -v_3x3[i][<span class="number">0</span>];</div><div class="line">      v_3x3[i][<span class="number">1</span>] = -v_3x3[i][<span class="number">1</span>];</div><div class="line">      v_3x3[i][<span class="number">2</span>] = -v_3x3[i][<span class="number">2</span>];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// set sign of final eigenvector to ensure that determinant is positive</span></div><div class="line">  <span class="keyword">if</span> (determinant3x3(v_3x3) &lt; <span class="number">0</span>) &#123;</div><div class="line">    v_3x3[<span class="number">2</span>][<span class="number">0</span>] = -v_3x3[<span class="number">2</span>][<span class="number">0</span>];</div><div class="line">    v_3x3[<span class="number">2</span>][<span class="number">1</span>] = -v_3x3[<span class="number">2</span>][<span class="number">1</span>];</div><div class="line">    v_3x3[<span class="number">2</span>][<span class="number">2</span>] = -v_3x3[<span class="number">2</span>][<span class="number">2</span>];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// transpose the eigenvectors back again</span></div><div class="line">  transpose3x3(v_3x3, v_3x3);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">singularValueDecomposition3x3</span>(<span class="params">a_3x3, u_3x3, w_3, vT_3x3</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> i;</div><div class="line">  <span class="keyword">const</span> B = [createArray(<span class="number">3</span>), createArray(<span class="number">3</span>), createArray(<span class="number">3</span>)];</div><div class="line"></div><div class="line">  <span class="comment">// copy so that A can be used for U or VT without risk</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    B[<span class="number">0</span>][i] = a_3x3[<span class="number">0</span>][i];</div><div class="line">    B[<span class="number">1</span>][i] = a_3x3[<span class="number">1</span>][i];</div><div class="line">    B[<span class="number">2</span>][i] = a_3x3[<span class="number">2</span>][i];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// temporarily flip if determinant is negative</span></div><div class="line">  <span class="keyword">const</span> d = determinant3x3(B);</div><div class="line">  <span class="keyword">if</span> (d &lt; <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">      B[<span class="number">0</span>][i] = -B[<span class="number">0</span>][i];</div><div class="line">      B[<span class="number">1</span>][i] = -B[<span class="number">1</span>][i];</div><div class="line">      B[<span class="number">2</span>][i] = -B[<span class="number">2</span>][i];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// orthogonalize, diagonalize, etc.</span></div><div class="line">  orthogonalize3x3(B, u_3x3);</div><div class="line">  transpose3x3(B, B);</div><div class="line">  multiply3x3_mat3(B, u_3x3, vT_3x3);</div><div class="line">  diagonalize3x3(vT_3x3, w_3, vT_3x3);</div><div class="line">  multiply3x3_mat3(u_3x3, vT_3x3, u_3x3);</div><div class="line">  transpose3x3(vT_3x3, vT_3x3);</div><div class="line"></div><div class="line">  <span class="comment">// re-create the flip</span></div><div class="line">  <span class="keyword">if</span> (d &lt; <span class="number">0</span>) &#123;</div><div class="line">    w_3[<span class="number">0</span>] = -w_3[<span class="number">0</span>];</div><div class="line">    w_3[<span class="number">1</span>] = -w_3[<span class="number">1</span>];</div><div class="line">    w_3[<span class="number">2</span>] = -w_3[<span class="number">2</span>];</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">luFactorLinearSystem</span>(<span class="params">A, index, size</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> i;</div><div class="line">  <span class="keyword">let</span> j;</div><div class="line">  <span class="keyword">let</span> k;</div><div class="line">  <span class="keyword">let</span> largest;</div><div class="line">  <span class="keyword">let</span> maxI = <span class="number">0</span>;</div><div class="line">  <span class="keyword">let</span> sum;</div><div class="line">  <span class="keyword">let</span> temp1;</div><div class="line">  <span class="keyword">let</span> temp2;</div><div class="line">  <span class="keyword">const</span> scale = createArray(size);</div><div class="line"></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">// Loop over rows to get implicit scaling information</span></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">    <span class="keyword">for</span> (largest = <span class="number">0.0</span>, j = <span class="number">0</span>; j &lt; size; j++) &#123;</div><div class="line">      <span class="keyword">if</span> ((temp2 = <span class="built_in">Math</span>.abs(A[i][j])) &gt; largest) &#123;</div><div class="line">        largest = temp2;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (largest === <span class="number">0.0</span>) &#123;</div><div class="line">      vtkWarningMacro(<span class="string">'Unable to factor linear system'</span>);</div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    scale[i] = <span class="number">1.0</span> / largest;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">// Loop over all columns using Crout's method</span></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; size; j++) &#123;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; j; i++) &#123;</div><div class="line">      sum = A[i][j];</div><div class="line">      <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; i; k++) &#123;</div><div class="line">        sum -= A[i][k] * A[k][j];</div><div class="line">      &#125;</div><div class="line">      A[i][j] = sum;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Begin search for largest pivot element</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="keyword">for</span> (largest = <span class="number">0.0</span>, i = j; i &lt; size; i++) &#123;</div><div class="line">      sum = A[i][j];</div><div class="line">      <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; j; k++) &#123;</div><div class="line">        sum -= A[i][k] * A[k][j];</div><div class="line">      &#125;</div><div class="line">      A[i][j] = sum;</div><div class="line"></div><div class="line">      <span class="keyword">if</span> ((temp1 = scale[i] * <span class="built_in">Math</span>.abs(sum)) &gt;= largest) &#123;</div><div class="line">        largest = temp1;</div><div class="line">        maxI = i;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Check for row interchange</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="keyword">if</span> (j !== maxI) &#123;</div><div class="line">      <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; size; k++) &#123;</div><div class="line">        temp1 = A[maxI][k];</div><div class="line">        A[maxI][k] = A[j][k];</div><div class="line">        A[j][k] = temp1;</div><div class="line">      &#125;</div><div class="line">      scale[maxI] = scale[j];</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Divide by pivot element and perform elimination</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    index[j] = maxI;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(A[j][j]) &lt;= VTK_SMALL_NUMBER) &#123;</div><div class="line">      vtkWarningMacro(<span class="string">'Unable to factor linear system'</span>);</div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (j !== (size - <span class="number">1</span>)) &#123;</div><div class="line">      temp1 = <span class="number">1.0</span> / A[j][j];</div><div class="line">      <span class="keyword">for</span> (i = j + <span class="number">1</span>; i &lt; size; i++) &#123;</div><div class="line">        A[i][j] *= temp1;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">luSolveLinearSystem</span>(<span class="params">A, index, x, size</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> i;</div><div class="line">  <span class="keyword">let</span> j;</div><div class="line">  <span class="keyword">let</span> ii;</div><div class="line">  <span class="keyword">let</span> idx;</div><div class="line">  <span class="keyword">let</span> sum;</div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">// Proceed with forward and backsubstitution for L and U</span></div><div class="line">  <span class="comment">// matrices.  First, forward substitution.</span></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="keyword">for</span> (ii = <span class="number">-1</span>, i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">    idx = index[i];</div><div class="line">    sum = x[idx];</div><div class="line">    x[idx] = x[i];</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (ii &gt;= <span class="number">0</span>) &#123;</div><div class="line">      <span class="keyword">for</span> (j = ii; j &lt;= (i - <span class="number">1</span>); j++) &#123;</div><div class="line">        sum -= A[i][j] * x[j];</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum !== <span class="number">0.0</span>) &#123;</div><div class="line">      ii = i;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    x[i] = sum;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">// Now, back substitution</span></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="keyword">for</span> (i = size - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">    sum = x[i];</div><div class="line">    <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; size; j++) &#123;</div><div class="line">      sum -= A[i][j] * x[j];</div><div class="line">    &#125;</div><div class="line">    x[i] = sum / A[i][i];</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">solveLinearSystem</span>(<span class="params">A, x, size</span>) </span>&#123;</div><div class="line">  <span class="comment">// if we solving something simple, just solve it</span></div><div class="line">  <span class="keyword">if</span> (size === <span class="number">2</span>) &#123;</div><div class="line">    <span class="keyword">const</span> y = createArray(<span class="number">2</span>);</div><div class="line">    <span class="keyword">const</span> det = determinant2x2(A[<span class="number">0</span>][<span class="number">0</span>], A[<span class="number">0</span>][<span class="number">1</span>], A[<span class="number">1</span>][<span class="number">0</span>], A[<span class="number">1</span>][<span class="number">1</span>]);</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (det === <span class="number">0.0</span>) &#123;</div><div class="line">      <span class="comment">// Unable to solve linear system</span></div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    y[<span class="number">0</span>] = ((A[<span class="number">1</span>][<span class="number">1</span>] * x[<span class="number">0</span>]) - (A[<span class="number">0</span>][<span class="number">1</span>] * x[<span class="number">1</span>])) / det;</div><div class="line">    y[<span class="number">1</span>] = (-(A[<span class="number">1</span>][<span class="number">0</span>] * x[<span class="number">0</span>]) + (A[<span class="number">0</span>][<span class="number">0</span>] * x[<span class="number">1</span>])) / det;</div><div class="line"></div><div class="line">    x[<span class="number">0</span>] = y[<span class="number">0</span>];</div><div class="line">    x[<span class="number">1</span>] = y[<span class="number">1</span>];</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (size === <span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (A[<span class="number">0</span>][<span class="number">0</span>] === <span class="number">0.0</span>) &#123;</div><div class="line">      <span class="comment">// Unable to solve linear system</span></div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    x[<span class="number">0</span>] /= A[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="comment">// System of equations is not trivial, use Crout's method</span></div><div class="line">  <span class="comment">//</span></div><div class="line"></div><div class="line">  <span class="comment">// Check on allocation of working vectors</span></div><div class="line">  <span class="keyword">const</span> index = createArray(size);</div><div class="line"></div><div class="line">  <span class="comment">// Factor and solve matrix</span></div><div class="line">  <span class="keyword">if</span> (luFactorLinearSystem(A, index, size) === <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  luSolveLinearSystem(A, index, x, size);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">invertMatrix</span>(<span class="params">A, AI, size, index = null, column = null</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> tmp1Size = index || createArray(size);</div><div class="line">  <span class="keyword">const</span> tmp2Size = column || createArray(size);</div><div class="line"></div><div class="line">  <span class="comment">// Factor matrix; then begin solving for inverse one column at a time.</span></div><div class="line">  <span class="comment">// Note: tmp1Size returned value is used later, tmp2Size is just working</span></div><div class="line">  <span class="comment">// memory whose values are not used in LUSolveLinearSystem</span></div><div class="line">  <span class="keyword">if</span> (luFactorLinearSystem(A, tmp1Size, size, tmp2Size) === <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; size; j++) &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">      tmp2Size[i] = <span class="number">0.0</span>;</div><div class="line">    &#125;</div><div class="line">    tmp2Size[j] = <span class="number">1.0</span>;</div><div class="line"></div><div class="line">    luSolveLinearSystem(A, tmp1Size, tmp2Size, size);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">      AI[i][j] = tmp2Size[i];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">estimateMatrixCondition</span>(<span class="params">A, size</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> minValue = +<span class="built_in">Number</span>.MAX_VALUE;</div><div class="line">  <span class="keyword">let</span> maxValue = -<span class="built_in">Number</span>.MAX_VALUE;</div><div class="line"></div><div class="line">  <span class="comment">// find the maximum value</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &lt; size; j++) &#123;</div><div class="line">      <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(A[i][j]) &gt; max) &#123;</div><div class="line">        maxValue = <span class="built_in">Math</span>.abs(A[i][j]);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// find the minimum diagonal value</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(A[i][i]) &lt; min) &#123;</div><div class="line">      minValue = <span class="built_in">Math</span>.abs(A[i][i]);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (minValue === <span class="number">0.0</span>) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Number</span>.MAX_VALUE;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> (maxValue / minValue);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">jacobi</span>(<span class="params">a_3x3, w, v</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> jacobiN(a_3x3, <span class="number">3</span>, w, v);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">solveHomogeneousLeastSquares</span>(<span class="params">numberOfSamples, xt, xOrder, mt</span>) </span>&#123;</div><div class="line">  <span class="comment">// check dimensional consistency</span></div><div class="line">  <span class="keyword">if</span> (numberOfSamples &lt; xOrder) &#123;</div><div class="line">    vtkWarningMacro(<span class="string">'Insufficient number of samples. Underdetermined.'</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">let</span> i;</div><div class="line">  <span class="keyword">let</span> j;</div><div class="line">  <span class="keyword">let</span> k;</div><div class="line"></div><div class="line">  <span class="comment">// set up intermediate variables</span></div><div class="line">  <span class="comment">// Allocate matrix to hold X times transpose of X</span></div><div class="line">  <span class="keyword">const</span> XXt = createArray(xOrder); <span class="comment">// size x by x</span></div><div class="line">  <span class="comment">// Allocate the array of eigenvalues and eigenvectors</span></div><div class="line">  <span class="keyword">const</span> eigenvals = createArray(xOrder);</div><div class="line">  <span class="keyword">const</span> eigenvecs = createArray(xOrder);</div><div class="line"></div><div class="line">  <span class="comment">// Clear the upper triangular region (and btw, allocate the eigenvecs as well)</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">    eigenvecs[i] = createArray(xOrder);</div><div class="line">    XXt[i] = createArray(xOrder);</div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; xOrder; j++) &#123;</div><div class="line">      XXt[i][j] = <span class="number">0.0</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Calculate XXt upper half only, due to symmetry</span></div><div class="line">  <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; numberOfSamples; k++) &#123;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">      <span class="keyword">for</span> (j = i; j &lt; xOrder; j++) &#123;</div><div class="line">        XXt[i][j] += xt[k][i] * xt[k][j];</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// now fill in the lower half of the XXt matrix</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; i; j++) &#123;</div><div class="line">      XXt[i][j] = XXt[j][i];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Compute the eigenvectors and eigenvalues</span></div><div class="line">  jacobiN(XXt, xOrder, eigenvals, eigenvecs);</div><div class="line"></div><div class="line">  <span class="comment">// Smallest eigenval is at the end of the list (xOrder-1), and solution is</span></div><div class="line">  <span class="comment">// corresponding eigenvec.</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">    mt[i][<span class="number">0</span>] = eigenvecs[i][xOrder - <span class="number">1</span>];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">solveLeastSquares</span>(<span class="params">numberOfSamples, xt, xOrder, yt, yOrder, mt, checkHomogeneous = true</span>) </span>&#123;</div><div class="line">  <span class="comment">// check dimensional consistency</span></div><div class="line">  <span class="keyword">if</span> ((numberOfSamples &lt; xOrder) || (numberOfSamples &lt; yOrder)) &#123;</div><div class="line">    vtkWarningMacro(<span class="string">'Insufficient number of samples. Underdetermined.'</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> homogenFlags = createArray(yOrder);</div><div class="line">  <span class="keyword">let</span> allHomogeneous = <span class="number">1</span>;</div><div class="line">  <span class="keyword">let</span> hmt;</div><div class="line">  <span class="keyword">let</span> homogRC = <span class="number">0</span>;</div><div class="line">  <span class="keyword">let</span> i;</div><div class="line">  <span class="keyword">let</span> j;</div><div class="line">  <span class="keyword">let</span> k;</div><div class="line">  <span class="keyword">let</span> someHomogeneous = <span class="number">0</span>;</div><div class="line"></div><div class="line">  <span class="comment">// Ok, first init some flags check and see if all the systems are homogeneous</span></div><div class="line">  <span class="keyword">if</span> (checkHomogeneous) &#123;</div><div class="line">    <span class="comment">// If Y' is zero, it's a homogeneous system and can't be solved via</span></div><div class="line">    <span class="comment">// the pseudoinverse method. Detect this case, warn the user, and</span></div><div class="line">    <span class="comment">// invoke SolveHomogeneousLeastSquares instead. Note that it doesn't</span></div><div class="line">    <span class="comment">// really make much sense for yOrder to be greater than one in this case,</span></div><div class="line">    <span class="comment">// since that's just yOrder occurrences of a 0 vector on the RHS, but</span></div><div class="line">    <span class="comment">// we allow it anyway. N</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// Initialize homogeneous flags on a per-right-hand-side basis</span></div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; yOrder; j++) &#123;</div><div class="line">      homogenFlags[j] = <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; numberOfSamples; i++) &#123;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; yOrder; j++) &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(yt[i][j]) &gt; VTK_SMALL_NUMBER) &#123;</div><div class="line">          allHomogeneous = <span class="number">0</span>;</div><div class="line">          homogenFlags[j] = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// If we've got one system, and it's homogeneous, do it and bail out quickly.</span></div><div class="line">    <span class="keyword">if</span> (allHomogeneous &amp;&amp; yOrder === <span class="number">1</span>) &#123;</div><div class="line">      vtkWarningMacro(<span class="string">'Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()'</span>);</div><div class="line">      <span class="keyword">return</span> solveHomogeneousLeastSquares(numberOfSamples, xt, xOrder, mt);</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// Ok, we've got more than one system of equations.</span></div><div class="line">    <span class="comment">// Figure out if we need to calculate the homogeneous equation solution for</span></div><div class="line">    <span class="comment">// any of them.</span></div><div class="line">    <span class="keyword">if</span> (allHomogeneous) &#123;</div><div class="line">      someHomogeneous = <span class="number">1</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; yOrder; j++) &#123;</div><div class="line">        <span class="keyword">if</span> (homogenFlags[j]) &#123;</div><div class="line">          someHomogeneous = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// If necessary, solve the homogeneous problem</span></div><div class="line">  <span class="keyword">if</span> (someHomogeneous) &#123;</div><div class="line">    <span class="comment">// hmt is the homogeneous equation version of mt, the general solution.</span></div><div class="line">    hmt = createArray(xOrder);</div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; xOrder; j++) &#123;</div><div class="line">      <span class="comment">// Only allocate 1 here, not yOrder, because here we're going to solve</span></div><div class="line">      <span class="comment">// just the one homogeneous equation subset of the entire problem</span></div><div class="line">      hmt[j] = [<span class="number">0</span>];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Ok, solve the homogeneous problem</span></div><div class="line">    homogRC = solveHomogeneousLeastSquares(numberOfSamples, xt, xOrder, hmt);</div><div class="line">  &#125;</div><div class="line"></div><div class="line"></div><div class="line">  <span class="comment">// set up intermediate variables</span></div><div class="line">  <span class="keyword">const</span> XXt = createArray(xOrder); <span class="comment">// size x by x</span></div><div class="line">  <span class="keyword">const</span> XXtI = createArray(xOrder); <span class="comment">// size x by x</span></div><div class="line">  <span class="keyword">const</span> XYt = createArray(xOrder); <span class="comment">// size x by y</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">    XXt[i] = createArray(xOrder);</div><div class="line">    XXtI[i] = createArray(xOrder);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; xOrder; j++) &#123;</div><div class="line">      XXt[i][j] = <span class="number">0.0</span>;</div><div class="line">      XXtI[i][j] = <span class="number">0.0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    XYt[i] = createArray(yOrder);</div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; yOrder; j++) &#123;</div><div class="line">      XYt[i][j] = <span class="number">0.0</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// first find the pseudoinverse matrix</span></div><div class="line">  <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; numberOfSamples; k++) &#123;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">      <span class="comment">// first calculate the XXt matrix, only do the upper half (symmetrical)</span></div><div class="line">      <span class="keyword">for</span> (j = i; j &lt; xOrder; j++) &#123;</div><div class="line">        XXt[i][j] += xt[k][i] * xt[k][j];</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="comment">// now calculate the XYt matrix</span></div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; yOrder; j++) &#123;</div><div class="line">        XYt[i][j] += xt[k][i] * yt[k][j];</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// now fill in the lower half of the XXt matrix</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; i; j++) &#123;</div><div class="line">      XXt[i][j] = XXt[j][i];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> successFlag = invertMatrix(XXt, XXtI, xOrder);</div><div class="line"></div><div class="line">  <span class="comment">// next get the inverse of XXt</span></div><div class="line">  <span class="keyword">if</span> (successFlag) &#123;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">      <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; yOrder; j++) &#123;</div><div class="line">        mt[i][j] = <span class="number">0.0</span>;</div><div class="line">        <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; xOrder; k++) &#123;</div><div class="line">          mt[i][j] += XXtI[i][k] * XYt[k][j];</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Fix up any of the solutions that correspond to the homogeneous equation</span></div><div class="line">  <span class="comment">// problem.</span></div><div class="line">  <span class="keyword">if</span> (someHomogeneous) &#123;</div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; yOrder; j++) &#123;</div><div class="line">      <span class="keyword">if</span> (homogenFlags[j]) &#123;</div><div class="line">        <span class="comment">// Fix this one</span></div><div class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; xOrder; i++) &#123;</div><div class="line">          mt[i][j] = hmt[i][<span class="number">0</span>];</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (someHomogeneous) &#123;</div><div class="line">    <span class="keyword">return</span> homogRC &amp;&amp; successFlag;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> successFlag;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">rgb2hsv</span>(<span class="params">rgb, hsv</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> h;</div><div class="line">  <span class="keyword">let</span> s;</div><div class="line">  <span class="keyword">const</span> [r, g, b] = rgb;</div><div class="line">  <span class="keyword">const</span> onethird = <span class="number">1.0</span> / <span class="number">3.0</span>;</div><div class="line">  <span class="keyword">const</span> onesixth = <span class="number">1.0</span> / <span class="number">6.0</span>;</div><div class="line">  <span class="keyword">const</span> twothird = <span class="number">2.0</span> / <span class="number">3.0</span>;</div><div class="line"></div><div class="line">  <span class="keyword">let</span> cmax = r;</div><div class="line">  <span class="keyword">let</span> cmin = r;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (g &gt; cmax) &#123;</div><div class="line">    cmax = g;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (g &lt; cmin) &#123;</div><div class="line">    cmin = g;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (b &gt; cmax) &#123;</div><div class="line">    cmax = b;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (b &lt; cmin) &#123;</div><div class="line">    cmin = b;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">const</span> v = cmax;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (v &gt; <span class="number">0.0</span>) &#123;</div><div class="line">    s = (cmax - cmin) / cmax;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    s = <span class="number">0.0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (s &gt; <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (r === cmax) &#123;</div><div class="line">      h = onesixth * (g - b) / (cmax - cmin);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (g === cmax) &#123;</div><div class="line">      h = onethird + ((onesixth * (b - r)) / (cmax - cmin));</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      h = twothird + ((onesixth * (r - g)) / (cmax - cmin));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (h &lt; <span class="number">0.0</span>) &#123;</div><div class="line">      h += <span class="number">1.0</span>;</div><div class="line">    &#125;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    h = <span class="number">0.0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Set the values back to the array</span></div><div class="line">  hsv[<span class="number">0</span>] = h;</div><div class="line">  hsv[<span class="number">1</span>] = s;</div><div class="line">  hsv[<span class="number">2</span>] = v;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hsv2rgb</span>(<span class="params">hsv, rgb</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> [h, s, v] = hsv;</div><div class="line">  <span class="keyword">const</span> onethird = <span class="number">1.0</span> / <span class="number">3.0</span>;</div><div class="line">  <span class="keyword">const</span> onesixth = <span class="number">1.0</span> / <span class="number">6.0</span>;</div><div class="line">  <span class="keyword">const</span> twothird = <span class="number">2.0</span> / <span class="number">3.0</span>;</div><div class="line">  <span class="keyword">const</span> fivesixth = <span class="number">5.0</span> / <span class="number">6.0</span>;</div><div class="line">  <span class="keyword">let</span> r;</div><div class="line">  <span class="keyword">let</span> g;</div><div class="line">  <span class="keyword">let</span> b;</div><div class="line"></div><div class="line">  <span class="comment">// compute RGB from HSV</span></div><div class="line">  <span class="keyword">if</span> (h &gt; onesixth &amp;&amp; h &lt;= onethird) &#123;</div><div class="line">    <span class="comment">// green/red</span></div><div class="line">    g = <span class="number">1.0</span>;</div><div class="line">    r = (onethird - h) / onesixth;</div><div class="line">    b = <span class="number">0.0</span>;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (h &gt; onethird &amp;&amp; h &lt;= <span class="number">0.5</span>) &#123;</div><div class="line">    <span class="comment">// green/blue</span></div><div class="line">    g = <span class="number">1.0</span>;</div><div class="line">    b = (h - onethird) / onesixth;</div><div class="line">    r = <span class="number">0.0</span>;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (h &gt; <span class="number">0.5</span> &amp;&amp; h &lt;= twothird) &#123;</div><div class="line">    <span class="comment">// blue/green</span></div><div class="line">    b = <span class="number">1.0</span>;</div><div class="line">    g = (twothird - h) / onesixth;</div><div class="line">    r = <span class="number">0.0</span>;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (h &gt; twothird &amp;&amp; h &lt;= fivesixth) &#123; <span class="comment">// blue/red</span></div><div class="line">    b = <span class="number">1.0</span>;</div><div class="line">    r = (h - twothird) / onesixth;</div><div class="line">    g = <span class="number">0.0</span>;</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (h &gt; fivesixth &amp;&amp; h &lt;= <span class="number">1.0</span>) &#123; <span class="comment">// red/blue</span></div><div class="line">    r = <span class="number">1.0</span>;</div><div class="line">    b = (<span class="number">1.0</span> - h) / onesixth;</div><div class="line">    g = <span class="number">0.0</span>;</div><div class="line">  &#125; <span class="keyword">else</span> &#123; <span class="comment">// red/green</span></div><div class="line">    r = <span class="number">1.0</span>;</div><div class="line">    g = h / onesixth;</div><div class="line">    b = <span class="number">0.0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// add Saturation to the equation.</span></div><div class="line">  r = ((s * r) + (<span class="number">1.0</span> - s));</div><div class="line">  g = ((s * g) + (<span class="number">1.0</span> - s));</div><div class="line">  b = ((s * b) + (<span class="number">1.0</span> - s));</div><div class="line"></div><div class="line">  r *= v;</div><div class="line">  g *= v;</div><div class="line">  b *= v;</div><div class="line"></div><div class="line">  <span class="comment">// Assign back to the array</span></div><div class="line">  rgb[<span class="number">0</span>] = r;</div><div class="line">  rgb[<span class="number">1</span>] = g;</div><div class="line">  rgb[<span class="number">2</span>] = b;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">lab2xyz</span>(<span class="params">lab, xyz</span>) </span>&#123;</div><div class="line">  <span class="comment">// LAB to XYZ</span></div><div class="line">  <span class="keyword">const</span> [L, a, b] = lab;</div><div class="line">  <span class="keyword">let</span> var_Y = (L + <span class="number">16</span>) / <span class="number">116</span>;</div><div class="line">  <span class="keyword">let</span> var_X = (a / <span class="number">500</span>) + var_Y;</div><div class="line">  <span class="keyword">let</span> var_Z = var_Y - (b / <span class="number">200</span>);</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (<span class="built_in">Math</span>.pow(var_Y, <span class="number">3</span>) &gt; <span class="number">0.008856</span>) &#123;</div><div class="line">    var_Y = <span class="built_in">Math</span>.pow(var_Y, <span class="number">3</span>);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    var_Y = (var_Y - (<span class="number">16.0</span> / <span class="number">116.0</span>)) / <span class="number">7.787</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (<span class="built_in">Math</span>.pow(var_X, <span class="number">3</span>) &gt; <span class="number">0.008856</span>) &#123;</div><div class="line">    var_X = <span class="built_in">Math</span>.pow(var_X, <span class="number">3</span>);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    var_X = (var_X - (<span class="number">16.0</span> / <span class="number">116.0</span>)) / <span class="number">7.787</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (<span class="built_in">Math</span>.pow(var_Z, <span class="number">3</span>) &gt; <span class="number">0.008856</span>) &#123;</div><div class="line">    var_Z = <span class="built_in">Math</span>.pow(var_Z, <span class="number">3</span>);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    var_Z = (var_Z - (<span class="number">16.0</span> / <span class="number">116.0</span>)) / <span class="number">7.787</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">const</span> ref_X = <span class="number">0.9505</span>;</div><div class="line">  <span class="keyword">const</span> ref_Y = <span class="number">1.000</span>;</div><div class="line">  <span class="keyword">const</span> ref_Z = <span class="number">1.089</span>;</div><div class="line">  xyz[<span class="number">0</span>] = ref_X * var_X; <span class="comment">// ref_X = 0.9505  Observer= 2 deg Illuminant= D65</span></div><div class="line">  xyz[<span class="number">1</span>] = ref_Y * var_Y; <span class="comment">// ref_Y = 1.000</span></div><div class="line">  xyz[<span class="number">2</span>] = ref_Z * var_Z; <span class="comment">// ref_Z = 1.089</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">xyz2lab</span>(<span class="params">xyz, lab</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> [x, y, z] = xyz;</div><div class="line">  <span class="keyword">const</span> ref_X = <span class="number">0.9505</span>;</div><div class="line">  <span class="keyword">const</span> ref_Y = <span class="number">1.000</span>;</div><div class="line">  <span class="keyword">const</span> ref_Z = <span class="number">1.089</span>;</div><div class="line">  <span class="keyword">let</span> var_X = x / ref_X;  <span class="comment">// ref_X = 0.9505  Observer= 2 deg, Illuminant= D65</span></div><div class="line">  <span class="keyword">let</span> var_Y = y / ref_Y;  <span class="comment">// ref_Y = 1.000</span></div><div class="line">  <span class="keyword">let</span> var_Z = z / ref_Z;  <span class="comment">// ref_Z = 1.089</span></div><div class="line"></div><div class="line">  <span class="keyword">if</span> (var_X &gt; <span class="number">0.008856</span>) var_X = <span class="built_in">Math</span>.pow(var_X, <span class="number">1.0</span> / <span class="number">3.0</span>);</div><div class="line">  <span class="keyword">else</span> var_X = (<span class="number">7.787</span> * var_X) + (<span class="number">16.0</span> / <span class="number">116.0</span>);</div><div class="line">  <span class="keyword">if</span> (var_Y &gt; <span class="number">0.008856</span>) var_Y = <span class="built_in">Math</span>.pow(var_Y, <span class="number">1.0</span> / <span class="number">3.0</span>);</div><div class="line">  <span class="keyword">else</span> var_Y = (<span class="number">7.787</span> * var_Y) + (<span class="number">16.0</span> / <span class="number">116.0</span>);</div><div class="line">  <span class="keyword">if</span> (var_Z &gt; <span class="number">0.008856</span>) var_Z = <span class="built_in">Math</span>.pow(var_Z, <span class="number">1.0</span> / <span class="number">3.0</span>);</div><div class="line">  <span class="keyword">else</span> var_Z = (<span class="number">7.787</span> * var_Z) + (<span class="number">16.0</span> / <span class="number">116.0</span>);</div><div class="line"></div><div class="line">  lab[<span class="number">0</span>] = (<span class="number">116</span> * var_Y) - <span class="number">16</span>;</div><div class="line">  lab[<span class="number">1</span>] = <span class="number">500</span> * (var_X - var_Y);</div><div class="line">  lab[<span class="number">2</span>] = <span class="number">200</span> * (var_Y - var_Z);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">xyz2rgb</span>(<span class="params">xyz, rgb</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> [x, y, z] = xyz;</div><div class="line">  <span class="keyword">let</span> r = (x * <span class="number">3.2406</span>) + (y * <span class="number">-1.5372</span>) + (z * <span class="number">-0.4986</span>);</div><div class="line">  <span class="keyword">let</span> g = (x * <span class="number">-0.9689</span>) + (y * <span class="number">1.8758</span>) + (z * <span class="number">0.0415</span>);</div><div class="line">  <span class="keyword">let</span> b = (x * <span class="number">0.0557</span>) + (y * <span class="number">-0.2040</span>) + (z * <span class="number">1.0570</span>);</div><div class="line"></div><div class="line">  <span class="comment">// The following performs a "gamma correction" specified by the sRGB color</span></div><div class="line">  <span class="comment">// space.  sRGB is defined by a canonical definition of a display monitor and</span></div><div class="line">  <span class="comment">// has been standardized by the International Electrotechnical Commission (IEC</span></div><div class="line">  <span class="comment">// 61966-2-1).  The nonlinearity of the correction is designed to make the</span></div><div class="line">  <span class="comment">// colors more perceptually uniform.  This color space has been adopted by</span></div><div class="line">  <span class="comment">// several applications including Adobe Photoshop and Microsoft Windows color</span></div><div class="line">  <span class="comment">// management.  OpenGL is agnostic on its RGB color space, but it is reasonable</span></div><div class="line">  <span class="comment">// to assume it is close to this one.</span></div><div class="line">  <span class="keyword">if</span> (r &gt; <span class="number">0.0031308</span>) r = (<span class="number">1.055</span> * <span class="built_in">Math</span>.pow(r, (<span class="number">1</span> / <span class="number">2.4</span>))) - <span class="number">0.055</span>;</div><div class="line">  <span class="keyword">else</span> r *= <span class="number">12.92</span>;</div><div class="line">  <span class="keyword">if</span> (g &gt; <span class="number">0.0031308</span>) g = (<span class="number">1.055</span> * <span class="built_in">Math</span>.pow(g, (<span class="number">1</span> / <span class="number">2.4</span>))) - <span class="number">0.055</span>;</div><div class="line">  <span class="keyword">else</span> g *= <span class="number">12.92</span>;</div><div class="line">  <span class="keyword">if</span> (b &gt; <span class="number">0.0031308</span>) b = (<span class="number">1.055</span> * <span class="built_in">Math</span>.pow(b, (<span class="number">1</span> / <span class="number">2.4</span>))) - <span class="number">0.055</span>;</div><div class="line">  <span class="keyword">else</span> b *= <span class="number">12.92</span>;</div><div class="line"></div><div class="line">  <span class="comment">// Clip colors. ideally we would do something that is perceptually closest</span></div><div class="line">  <span class="comment">// (since we can see colors outside of the display gamut), but this seems to</span></div><div class="line">  <span class="comment">// work well enough.</span></div><div class="line">  <span class="keyword">let</span> maxVal = r;</div><div class="line">  <span class="keyword">if</span> (maxVal &lt; g) maxVal = g;</div><div class="line">  <span class="keyword">if</span> (maxVal &lt; b) maxVal = b;</div><div class="line">  <span class="keyword">if</span> (maxVal &gt; <span class="number">1.0</span>) &#123;</div><div class="line">    r /= maxVal;</div><div class="line">    g /= maxVal;</div><div class="line">    b /= maxVal;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (r &lt; <span class="number">0</span>) r = <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span> (g &lt; <span class="number">0</span>) g = <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span> (b &lt; <span class="number">0</span>) b = <span class="number">0</span>;</div><div class="line"></div><div class="line">  <span class="comment">// Push values back to array</span></div><div class="line">  rgb[<span class="number">0</span>] = r;</div><div class="line">  rgb[<span class="number">1</span>] = g;</div><div class="line">  rgb[<span class="number">2</span>] = b;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">rgb2xyz</span>(<span class="params">rgb, xyz</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> [r, g, b] = rgb;</div><div class="line">  <span class="comment">// The following performs a "gamma correction" specified by the sRGB color</span></div><div class="line">  <span class="comment">// space.  sRGB is defined by a canonical definition of a display monitor and</span></div><div class="line">  <span class="comment">// has been standardized by the International Electrotechnical Commission (IEC</span></div><div class="line">  <span class="comment">// 61966-2-1).  The nonlinearity of the correction is designed to make the</span></div><div class="line">  <span class="comment">// colors more perceptually uniform.  This color space has been adopted by</span></div><div class="line">  <span class="comment">// several applications including Adobe Photoshop and Microsoft Windows color</span></div><div class="line">  <span class="comment">// management.  OpenGL is agnostic on its RGB color space, but it is reasonable</span></div><div class="line">  <span class="comment">// to assume it is close to this one.</span></div><div class="line">  <span class="keyword">if</span> (r &gt; <span class="number">0.04045</span>) r = <span class="built_in">Math</span>.pow((r + <span class="number">0.055</span>) / <span class="number">1.055</span>, <span class="number">2.4</span>);</div><div class="line">  <span class="keyword">else</span> r /= <span class="number">12.92</span>;</div><div class="line">  <span class="keyword">if</span> (g &gt; <span class="number">0.04045</span>) g = <span class="built_in">Math</span>.pow((g + <span class="number">0.055</span>) / <span class="number">1.055</span>, <span class="number">2.4</span>);</div><div class="line">  <span class="keyword">else</span> g /= <span class="number">12.92</span>;</div><div class="line">  <span class="keyword">if</span> (b &gt; <span class="number">0.04045</span>) b = <span class="built_in">Math</span>.pow((b + <span class="number">0.055</span>) / <span class="number">1.055</span>, <span class="number">2.4</span>);</div><div class="line">  <span class="keyword">else</span> b /= <span class="number">12.92</span>;</div><div class="line"></div><div class="line">  <span class="comment">// Observer. = 2 deg, Illuminant = D65</span></div><div class="line">  xyz[<span class="number">0</span>] = (r * <span class="number">0.4124</span>) + (g * <span class="number">0.3576</span>) + (b * <span class="number">0.1805</span>);</div><div class="line">  xyz[<span class="number">1</span>] = (r * <span class="number">0.2126</span>) + (g * <span class="number">0.7152</span>) + (b * <span class="number">0.0722</span>);</div><div class="line">  xyz[<span class="number">2</span>] = (r * <span class="number">0.0193</span>) + (g * <span class="number">0.1192</span>) + (b * <span class="number">0.9505</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">rgb2lab</span>(<span class="params">rgb, lab</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> xyz = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line">  rgb2xyz(rgb, xyz);</div><div class="line">  xyz2lab(xyz, lab);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">LabToRGB</span>(<span class="params">lab, rgb</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> xyz = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line">  lab2xyz(lab, xyz);</div><div class="line">  xyz2rgb(xyz, rgb);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">uninitializeBounds</span>(<span class="params">bounds</span>) </span>&#123;</div><div class="line">  bounds[<span class="number">0</span>] = <span class="number">1.0</span>;</div><div class="line">  bounds[<span class="number">1</span>] = <span class="number">-1.0</span>;</div><div class="line">  bounds[<span class="number">2</span>] = <span class="number">1.0</span>;</div><div class="line">  bounds[<span class="number">3</span>] = <span class="number">-1.0</span>;</div><div class="line">  bounds[<span class="number">4</span>] = <span class="number">1.0</span>;</div><div class="line">  bounds[<span class="number">5</span>] = <span class="number">-1.0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">areBoundsInitialized</span>(<span class="params">bounds</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> !(bounds[<span class="number">1</span>] - bounds[<span class="number">0</span>] &lt; <span class="number">0.0</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clampValue</span>(<span class="params">value, minValue, maxValue</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (value &lt; minValue) &#123;</div><div class="line">    <span class="keyword">return</span> minValue;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (value &gt; maxValue) &#123;</div><div class="line">    <span class="keyword">return</span> maxValue;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> value;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clampAndNormalizeValue</span>(<span class="params">value, range</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> result = <span class="number">0</span>;</div><div class="line">  <span class="keyword">if</span> (range[<span class="number">0</span>] !== range[<span class="number">1</span>]) &#123;</div><div class="line">    <span class="comment">// clamp</span></div><div class="line">    <span class="keyword">if</span> (value &lt; range[<span class="number">0</span>]) &#123;</div><div class="line">      result = range[<span class="number">0</span>];</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; range[<span class="number">1</span>]) &#123;</div><div class="line">      result = range[<span class="number">1</span>];</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      result = value;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// normalize</span></div><div class="line">    result = (result - range[<span class="number">0</span>]) / (range[<span class="number">1</span>] - range[<span class="number">0</span>]);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> getScalarTypeFittingRange = notImplemented(<span class="string">'GetScalarTypeFittingRange'</span>);</div><div class="line"><span class="keyword">const</span> getAdjustedScalarRange = notImplemented(<span class="string">'GetAdjustedScalarRange'</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">extentIsWithinOtherExtent</span>(<span class="params">extent1, extent2</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (!extent1 || !extent2) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i += <span class="number">2</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (extent1[i] &lt; extent2[i] || extent1[i] &gt; extent2[i + <span class="number">1</span>] ||</div><div class="line">      extent1[i + <span class="number">1</span>] &lt; extent2[i] || extent1[i + <span class="number">1</span>] &gt; extent2[i + <span class="number">1</span>]) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">boundsIsWithinOtherBounds</span>(<span class="params">bounds1_6, bounds2_6, delta_3</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (!bounds1_6 || !bounds2_6) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i += <span class="number">2</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (bounds1_6[i] + delta_3[i / <span class="number">2</span>] &lt; bounds2_6[i]</div><div class="line">      || bounds1_6[i] - delta_3[i / <span class="number">2</span>] &gt; bounds2_6[i + <span class="number">1</span>]</div><div class="line">      || bounds1_6[i + <span class="number">1</span>] + delta_3[i / <span class="number">2</span>] &lt; bounds2_6[i]</div><div class="line">      || bounds1_6[i + <span class="number">1</span>] - delta_3[i / <span class="number">2</span>] &gt; bounds2_6[i + <span class="number">1</span>]) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">pointIsWithinBounds</span>(<span class="params">point_3, bounds_6, delta_3</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (!point_3 || !bounds_6 || !delta_3) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (point_3[i] + delta_3[i] &lt; bounds_6[<span class="number">2</span> * i] || point_3[i] - delta_3[i] &gt; bounds_6[(<span class="number">2</span> * i) + <span class="number">1</span>]) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">solve3PointCircle</span>(<span class="params">p1, p2, p3, center</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> v21 = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">const</span> v32 = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">const</span> v13 = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">const</span> v12 = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">const</span> v23 = createArray(<span class="number">3</span>);</div><div class="line">  <span class="keyword">const</span> v31 = createArray(<span class="number">3</span>);</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</div><div class="line">    v21[i] = p1[i] - p2[i];</div><div class="line">    v32[i] = p2[i] - p3[i];</div><div class="line">    v13[i] = p3[i] - p1[i];</div><div class="line">    v12[i] = -v21[i];</div><div class="line">    v23[i] = -v32[i];</div><div class="line">    v31[i] = -v13[i];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> norm12 = norm(v12);</div><div class="line">  <span class="keyword">const</span> norm23 = norm(v23);</div><div class="line">  <span class="keyword">const</span> norm13 = norm(v13);</div><div class="line"></div><div class="line">  <span class="keyword">const</span> crossv21v32 = createArray(<span class="number">3</span>);</div><div class="line">  cross(v21, v32, crossv21v32);</div><div class="line">  <span class="keyword">const</span> normCross = norm(crossv21v32);</div><div class="line"></div><div class="line">  <span class="keyword">const</span> radius = (norm12 * norm23 * norm13) / (<span class="number">2</span> * normCross);</div><div class="line"></div><div class="line">  <span class="keyword">const</span> normCross22 = <span class="number">2</span> * normCross * normCross;</div><div class="line">  <span class="keyword">const</span> alpha = ((norm23 * norm23) * dot(v21, v31)) / normCross22;</div><div class="line">  <span class="keyword">const</span> beta = ((norm13 * norm13) * dot(v12, v32)) / normCross22;</div><div class="line">  <span class="keyword">const</span> gamma = ((norm12 * norm12) * dot(v13, v23)) / normCross22;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</div><div class="line">    center[i] = (alpha * p1[i]) + (beta * p2[i]) + (gamma * p3[i]);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> radius;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> inf = <span class="literal">Infinity</span>;</div><div class="line"><span class="keyword">const</span> negInf = -<span class="literal">Infinity</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> isInf = <span class="function"><span class="params">value</span> =&gt;</span> !<span class="built_in">Number</span>.isFinite(value);</div><div class="line"><span class="keyword">const</span> isNan = <span class="built_in">Number</span>.isNaN;</div><div class="line"><span class="keyword">const</span> <span class="built_in">isFinite</span> = <span class="built_in">Number</span>.isFinite;</div><div class="line"></div><div class="line"><span class="comment">// JavaScript - add-on ----------------------</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createUninitializedBouds</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> [].concat([</div><div class="line">    <span class="built_in">Number</span>.MAX_VALUE, <span class="built_in">Number</span>.MIN_VALUE, <span class="comment">// X</span></div><div class="line">    <span class="built_in">Number</span>.MAX_VALUE, <span class="built_in">Number</span>.MIN_VALUE, <span class="comment">// Y</span></div><div class="line">    <span class="built_in">Number</span>.MAX_VALUE, <span class="built_in">Number</span>.MIN_VALUE, <span class="comment">// Z</span></div><div class="line">  ]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------</span></div><div class="line"><span class="comment">// Only Static API</span></div><div class="line"><span class="comment">// ----------------------------------------------------------------------------</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  Pi,</div><div class="line">  radiansFromDegrees,</div><div class="line">  degreesFromRadians,</div><div class="line">  round,</div><div class="line">  floor,</div><div class="line">  ceil,</div><div class="line">  ceilLog2,</div><div class="line">  min,</div><div class="line">  max,</div><div class="line">  isPowerOfTwo,</div><div class="line">  nearestPowerOfTwo,</div><div class="line">  factorial,</div><div class="line">  binomial,</div><div class="line">  beginCombination,</div><div class="line">  nextCombination,</div><div class="line">  randomSeed,</div><div class="line">  getSeed,</div><div class="line">  random,</div><div class="line">  gaussian,</div><div class="line">  add,</div><div class="line">  subtract,</div><div class="line">  multiplyScalar,</div><div class="line">  multiplyScalar2D,</div><div class="line">  dot,</div><div class="line">  outer,</div><div class="line">  cross,</div><div class="line">  norm,</div><div class="line">  normalize,</div><div class="line">  perpendiculars,</div><div class="line">  projectVector,</div><div class="line">  projectVector2D,</div><div class="line">  distance2BetweenPoints,</div><div class="line">  angleBetweenVectors,</div><div class="line">  gaussianAmplitude,</div><div class="line">  gaussianWeight,</div><div class="line">  dot2D,</div><div class="line">  outer2D,</div><div class="line">  norm2D,</div><div class="line">  normalize2D,</div><div class="line">  determinant2x2,</div><div class="line">  LUFactor3x3,</div><div class="line">  LUSolve3x3,</div><div class="line">  linearSolve3x3,</div><div class="line">  multiply3x3_vect3,</div><div class="line">  multiply3x3_mat3,</div><div class="line">  multiplyMatrix,</div><div class="line">  transpose3x3,</div><div class="line">  invert3x3,</div><div class="line">  identity3x3,</div><div class="line">  determinant3x3,</div><div class="line">  quaternionToMatrix3x3,</div><div class="line">  matrix3x3ToQuaternion,</div><div class="line">  multiplyQuaternion,</div><div class="line">  orthogonalize3x3,</div><div class="line">  diagonalize3x3,</div><div class="line">  singularValueDecomposition3x3,</div><div class="line">  solveLinearSystem,</div><div class="line">  invertMatrix,</div><div class="line">  luFactorLinearSystem,</div><div class="line">  luSolveLinearSystem,</div><div class="line">  estimateMatrixCondition,</div><div class="line">  jacobi,</div><div class="line">  jacobiN,</div><div class="line">  solveHomogeneousLeastSquares,</div><div class="line">  solveLeastSquares,</div><div class="line">  rgb2hsv,</div><div class="line">  hsv2rgb,</div><div class="line">  lab2xyz,</div><div class="line">  xyz2lab,</div><div class="line">  xyz2rgb,</div><div class="line">  rgb2xyz,</div><div class="line">  rgb2lab,</div><div class="line">  LabToRGB,</div><div class="line">  uninitializeBounds,</div><div class="line">  areBoundsInitialized,</div><div class="line">  clampValue,</div><div class="line">  clampAndNormalizeValue,</div><div class="line">  getScalarTypeFittingRange,</div><div class="line">  getAdjustedScalarRange,</div><div class="line">  extentIsWithinOtherExtent,</div><div class="line">  boundsIsWithinOtherBounds,</div><div class="line">  pointIsWithinBounds,</div><div class="line">  solve3PointCircle,</div><div class="line">  inf,</div><div class="line">  negInf,</div><div class="line">  isInf,</div><div class="line">  isNan,</div><div class="line">  <span class="built_in">isFinite</span>,</div><div class="line"></div><div class="line">  <span class="comment">// JS add-on</span></div><div class="line">  createUninitializedBouds,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2016-12-09T22:01:05.714Z" itemprop="dateModified">Last updated: 2016-12-09</time>
                <a href="LookupTable.html" class="article-footer-prev" title="LookupTable"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="Points.html" class="article-footer-next" title="Points"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pi-Math-PI"><span class="toc-text">Pi() : Math.PI;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#radiansFromDegrees-degree-radian"><span class="toc-text">radiansFromDegrees(degree) : radian</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#degreesFromRadians-radian-degree"><span class="toc-text">degreesFromRadians(radian) : degree</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#round-float-int"><span class="toc-text">round(float): int</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#floor-float-int"><span class="toc-text">floor(float) : int</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ceil-float-int"><span class="toc-text">ceil(float) : int</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ceilLog2"><span class="toc-text">ceilLog2()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#min-a-b"><span class="toc-text">min(a, b)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#max-a-b"><span class="toc-text">max(a, b)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isPowerOfTwo-number-Boolean"><span class="toc-text">isPowerOfTwo(number) : Boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nearestPowerOfTwo-number-int"><span class="toc-text">nearestPowerOfTwo(number) : int</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#factorial-n-number"><span class="toc-text">factorial(n) : number</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#binomial-m-n-int"><span class="toc-text">binomial(m, n) : int</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#beginCombination-m-n-Array-or-null"><span class="toc-text">beginCombination(m, n) : Array or null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nextCombination-m-n-r-Boolean"><span class="toc-text">nextCombination(m, n, r) : Boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#randomSeed"><span class="toc-text">randomSeed()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getSeed"><span class="toc-text">getSeed()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#random-minValue-0-maxValue-1-Number"><span class="toc-text">random(minValue = 0, maxValue = 1) : Number</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gaussian"><span class="toc-text">gaussian()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#add-a-b-out"><span class="toc-text">add(a, b, out)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#subtract-a-b-out"><span class="toc-text">subtract(a, b, out)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multiplyScalar-vec-scalar"><span class="toc-text">multiplyScalar(vec, scalar) {</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multiplyScalar2D-vec-scalar"><span class="toc-text">multiplyScalar2D(vec, scalar)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dot-x-y"><span class="toc-text">dot(x, y)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#outer-x-y-out-3x3"><span class="toc-text">outer(x, y, out_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cross-x-y-out"><span class="toc-text">cross(x, y, out)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#norm-x-n-3"><span class="toc-text">norm(x, n = 3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#normalize-x"><span class="toc-text">normalize(x)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#perpendiculars-x-y-z-theta"><span class="toc-text">perpendiculars(x, y, z, theta)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#projectVector-a-b-projection"><span class="toc-text">projectVector(a, b, projection)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dot2D-x-y"><span class="toc-text">dot2D(x, y)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#projectVector2D-a-b-projection"><span class="toc-text">projectVector2D(a, b, projection)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#distance2BetweenPoints-x-y"><span class="toc-text">distance2BetweenPoints(x, y)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#angleBetweenVectors-v1-v2"><span class="toc-text">angleBetweenVectors(v1, v2)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gaussianAmplitude-mean-variance-position"><span class="toc-text">gaussianAmplitude(mean, variance, position)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gaussianWeight-mean-variance-position"><span class="toc-text">gaussianWeight(mean, variance, position)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#outer2D-x-y-out-2x2"><span class="toc-text">outer2D(x, y, out_2x2)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#norm2D-x2D"><span class="toc-text">norm2D(x2D)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#normalize2D-x"><span class="toc-text">normalize2D(x)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#determinant2x2-c1-c2"><span class="toc-text">determinant2x2(c1, c2)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LUFactor3x3-mat-3x3-index-3"><span class="toc-text">LUFactor3x3(mat_3x3, index_3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LUSolve3x3-mat-3x3-index-3-x-3"><span class="toc-text">LUSolve3x3(mat_3x3, index_3, x_3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linearSolve3x3-mat-3x3-x-3-y-3"><span class="toc-text">linearSolve3x3(mat_3x3, x_3, y_3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multiply3x3-vect3-mat-3x3-in-3-out-3"><span class="toc-text">multiply3x3_vect3(mat_3x3, in_3, out_3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multiply3x3-mat3-a-3x3-b-3x3-out-3x3"><span class="toc-text">multiply3x3_mat3(a_3x3, b_3x3, out_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multiplyMatrix-a-b-rowA-colA-rowB-colB-out-rowXcol"><span class="toc-text">multiplyMatrix(a, b, rowA, colA, rowB, colB, out_rowXcol)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#transpose3x3-in-3x3-outT-3x3"><span class="toc-text">transpose3x3(in_3x3, outT_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#invert3x3-in-3x3-outI-3x3"><span class="toc-text">invert3x3(in_3x3, outI_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#identity3x3-mat-3x3"><span class="toc-text">identity3x3(mat_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#determinant3x3-mat-3x3"><span class="toc-text">determinant3x3(mat_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#quaternionToMatrix3x3-quat-4-mat-3x3"><span class="toc-text">quaternionToMatrix3x3(quat_4, mat_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jacobiN-a-n-w-v"><span class="toc-text">jacobiN(a, n, w, v)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#matrix3x3ToQuaternion-mat-3x3-quat-4"><span class="toc-text">matrix3x3ToQuaternion(mat_3x3, quat_4)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multiplyQuaternion-quat-1-quat-2-quat-out"><span class="toc-text">multiplyQuaternion(quat_1, quat_2, quat_out)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#orthogonalize3x3-a-3x3-out-3x3"><span class="toc-text">orthogonalize3x3(a_3x3, out_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#diagonalize3x3-a-3x3-w-3-v-3x3"><span class="toc-text">diagonalize3x3(a_3x3, w_3, v_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#singularValueDecomposition3x3-a-3x3-u-3x3-w-3-vT-3x3"><span class="toc-text">singularValueDecomposition3x3(a_3x3, u_3x3, w_3, vT_3x3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#luFactorLinearSystem-A-index-size"><span class="toc-text">luFactorLinearSystem(A, index, size)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#luSolveLinearSystem-A-index-x-size"><span class="toc-text">luSolveLinearSystem(A, index, x, size)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#solveLinearSystem-A-x-size"><span class="toc-text">solveLinearSystem(A, x, size)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#invertMatrix-A-AI-size-index-null-column-null"><span class="toc-text">invertMatrix(A, AI, size, index = null, column = null)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#estimateMatrixCondition-A-size"><span class="toc-text">estimateMatrixCondition(A, size)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jacobi-a-3x3-w-v"><span class="toc-text">jacobi(a_3x3, w, v)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#solveHomogeneousLeastSquares-numberOfSamples-xt-xOrder-mt"><span class="toc-text">solveHomogeneousLeastSquares(numberOfSamples, xt, xOrder, mt)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#solveLeastSquares-numberOfSamples-xt-xOrder-yt-yOrder-mt-checkHomogeneous-true"><span class="toc-text">solveLeastSquares(numberOfSamples, xt, xOrder, yt, yOrder, mt, checkHomogeneous = true)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rgb2hsv-rgb-hsv"><span class="toc-text">rgb2hsv(rgb, hsv)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hsv2rgb-hsv-rgb"><span class="toc-text">hsv2rgb(hsv, rgb)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lab2xyz-lab-xyz"><span class="toc-text">lab2xyz(lab, xyz)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xyz2lab-xyz-lab"><span class="toc-text">xyz2lab(xyz, lab)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xyz2rgb-xyz-rgb"><span class="toc-text">xyz2rgb(xyz, rgb)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rgb2xyz-rgb-xyz"><span class="toc-text">rgb2xyz(rgb, xyz)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rgb2lab-rgb-lab"><span class="toc-text">rgb2lab(rgb, lab)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LabToRGB-lab-rgb"><span class="toc-text">LabToRGB(lab, rgb)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#uninitializeBounds-bounds"><span class="toc-text">uninitializeBounds(bounds)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#areBoundsInitialized-bounds"><span class="toc-text">areBoundsInitialized(bounds)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clampValue-value-minValue-maxValue"><span class="toc-text">clampValue(value, minValue, maxValue)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clampAndNormalizeValue-value-range"><span class="toc-text">clampAndNormalizeValue(value, range)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getScalarTypeFittingRange"><span class="toc-text">getScalarTypeFittingRange</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getAdjustedScalarRange"><span class="toc-text">getAdjustedScalarRange</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#extentIsWithinOtherExtent-extent1-extent2"><span class="toc-text">extentIsWithinOtherExtent(extent1, extent2)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#boundsIsWithinOtherBounds-bounds1-6-bounds2-6-delta-3"><span class="toc-text">boundsIsWithinOtherBounds(bounds1_6, bounds2_6, delta_3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pointIsWithinBounds-point-3-bounds-6-delta-3"><span class="toc-text">pointIsWithinBounds(point_3, bounds_6, delta_3)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#solve3PointCircle-p1-p2-p3-center"><span class="toc-text">solve3PointCircle(p1, p2, p3, center)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#inf"><span class="toc-text">inf()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#negInf"><span class="toc-text">negInf()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isInf-number-Boolean"><span class="toc-text">isInf(number) : Boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isNan-Boolean"><span class="toc-text">isNan(?) : Boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isFinite-number-Boolean"><span class="toc-text">isFinite(number) : Boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#createUninitializedBouds-new-6"><span class="toc-text">createUninitializedBouds() : new [6]</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Source"><span class="toc-text">Source</span></a>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">Common/Core</strong><a href="CellArray.html" class="sidebar-link">CellArray</a><a href="DataArray.html" class="sidebar-link">DataArray</a><a href="DynamicTypedArray.html" class="sidebar-link">DynamicTypedArray</a><a href="Endian.html" class="sidebar-link">Endian</a><a href="LookupTable.html" class="sidebar-link">LookupTable</a><a href="Math.html" class="sidebar-link current">Math</a><a href="Points.html" class="sidebar-link">Points</a><a href="ScalarsToColors.html" class="sidebar-link">ScalarsToColors</a><a href="StringArray.html" class="sidebar-link">StringArray</a><a href="URLExtract.html" class="sidebar-link">URLExtract</a><a href="VariantArray.html" class="sidebar-link">VariantArray</a><strong class="sidebar-title">Common/DataModel</strong><a href="BoundingBox.html" class="sidebar-link">BoundingBox</a><a href="DataSet.html" class="sidebar-link">DataSet</a><a href="DataSetAttributes.html" class="sidebar-link">DataSetAttributes</a><a href="ImageData.html" class="sidebar-link">ImageData</a><a href="Plane.html" class="sidebar-link">Plane</a><a href="PointSet.html" class="sidebar-link">PointSet</a><a href="PolyData.html" class="sidebar-link">PolyData</a><a href="SelectionNode.html" class="sidebar-link">SelectionNode</a><a href="StructuredData.html" class="sidebar-link">StructuredData</a><strong class="sidebar-title">Common/System</strong><a href="TimerLog.html" class="sidebar-link">TimerLog</a><strong class="sidebar-title">Filters/General</strong><a href="Calculator.html" class="sidebar-link">Calculator</a><a href="ImageStreamline.html" class="sidebar-link">ImageStreamline</a><a href="MoleculeToRepresentation.html" class="sidebar-link">MoleculeToRepresentation</a><a href="OutlineFilter.html" class="sidebar-link">OutlineFilter</a><a href="WarpScalar.html" class="sidebar-link">WarpScalar</a><strong class="sidebar-title">Filters/Sources</strong><a href="ConeSource.html" class="sidebar-link">ConeSource</a><a href="ImageGridSource.html" class="sidebar-link">ImageGridSource</a><a href="LineSource.html" class="sidebar-link">LineSource</a><a href="PlaneSource.html" class="sidebar-link">PlaneSource</a><a href="PointSource.html" class="sidebar-link">PointSource</a><a href="SphereSource.html" class="sidebar-link">SphereSource</a><strong class="sidebar-title">Interaction/Manipulators</strong><a href="CameraManipulator.html" class="sidebar-link">CameraManipulator</a><a href="TrackballMultiRotate.html" class="sidebar-link">TrackballMultiRotate</a><a href="TrackballPan.html" class="sidebar-link">TrackballPan</a><a href="TrackballRoll.html" class="sidebar-link">TrackballRoll</a><a href="TrackballRotate.html" class="sidebar-link">TrackballRotate</a><a href="TrackballZoom.html" class="sidebar-link">TrackballZoom</a><a href="TrackballZoomToMouse.html" class="sidebar-link">TrackballZoomToMouse</a><strong class="sidebar-title">Interaction/Style</strong><a href="InteractorStyleImage.html" class="sidebar-link">InteractorStyleImage</a><a href="InteractorStyleManipulator.html" class="sidebar-link">InteractorStyleManipulator</a><a href="InteractorStyleTrackballCamera.html" class="sidebar-link">InteractorStyleTrackballCamera</a><strong class="sidebar-title">IO/Core</strong><a href="DataAccessHelper.html" class="sidebar-link">DataAccessHelper</a><a href="HttpDataSetReader.html" class="sidebar-link">HttpDataSetReader</a><a href="HttpSceneLoader.html" class="sidebar-link">HttpSceneLoader</a><strong class="sidebar-title">IO/Misc</strong><a href="ElevationReader.html" class="sidebar-link">ElevationReader</a><a href="MTLReader.html" class="sidebar-link">MTLReader</a><a href="OBJReader.html" class="sidebar-link">OBJReader</a><a href="PDBReader.html" class="sidebar-link">PDBReader</a><strong class="sidebar-title">Rendering/Core</strong><a href="Actor.html" class="sidebar-link">Actor</a><a href="Actor2D.html" class="sidebar-link">Actor2D</a><a href="Camera.html" class="sidebar-link">Camera</a><a href="ColorTransferFunction.html" class="sidebar-link">ColorTransferFunction</a><a href="Coordinate.html" class="sidebar-link">Coordinate</a><a href="ImageMapper.html" class="sidebar-link">ImageMapper</a><a href="ImageProperty.html" class="sidebar-link">ImageProperty</a><a href="ImageSlice.html" class="sidebar-link">ImageSlice</a><a href="InteractorObserver.html" class="sidebar-link">InteractorObserver</a><a href="InteractorStyle.html" class="sidebar-link">InteractorStyle</a><a href="Light.html" class="sidebar-link">Light</a><a href="Mapper.html" class="sidebar-link">Mapper</a><a href="Prop.html" class="sidebar-link">Prop</a><a href="Prop3D.html" class="sidebar-link">Prop3D</a><a href="Property.html" class="sidebar-link">Property</a><a href="Property2D.html" class="sidebar-link">Property2D</a><a href="RenderWindow.html" class="sidebar-link">RenderWindow</a><a href="RenderWindowInteractor.html" class="sidebar-link">RenderWindowInteractor</a><a href="Renderer.html" class="sidebar-link">Renderer</a><a href="Representation.html" class="sidebar-link">Representation</a><a href="SphereMapper.html" class="sidebar-link">SphereMapper</a><a href="StickMapper.html" class="sidebar-link">StickMapper</a><a href="Texture.html" class="sidebar-link">Texture</a><a href="Viewport.html" class="sidebar-link">Viewport</a><strong class="sidebar-title">Rendering/Misc</strong><a href="FullScreenRenderWindow.html" class="sidebar-link">FullScreenRenderWindow</a><strong class="sidebar-title">Rendering/OpenGL</strong><a href="Actor.html" class="sidebar-link">Actor</a><a href="Actor2D.html" class="sidebar-link">Actor2D</a><a href="BufferObject.html" class="sidebar-link">BufferObject</a><a href="Camera.html" class="sidebar-link">Camera</a><a href="CellArrayBufferObject.html" class="sidebar-link">CellArrayBufferObject</a><a href="Framebuffer.html" class="sidebar-link">Framebuffer</a><a href="HardwareSelector.html" class="sidebar-link">HardwareSelector</a><a href="Helper.html" class="sidebar-link">Helper</a><a href="ImageMapper.html" class="sidebar-link">ImageMapper</a><a href="ImageSlice.html" class="sidebar-link">ImageSlice</a><a href="PolyDataMapper.html" class="sidebar-link">PolyDataMapper</a><a href="RenderWindow.html" class="sidebar-link">RenderWindow</a><a href="Renderer.html" class="sidebar-link">Renderer</a><a href="Shader.html" class="sidebar-link">Shader</a><a href="ShaderCache.html" class="sidebar-link">ShaderCache</a><a href="ShaderProgram.html" class="sidebar-link">ShaderProgram</a><a href="SphereMapper.html" class="sidebar-link">SphereMapper</a><a href="StickMapper.html" class="sidebar-link">StickMapper</a><a href="Texture.html" class="sidebar-link">Texture</a><a href="TextureUnitManager.html" class="sidebar-link">TextureUnitManager</a><a href="VertexArrayObject.html" class="sidebar-link">VertexArrayObject</a><a href="ViewNodeFactory.html" class="sidebar-link">ViewNodeFactory</a><a href="glsl.html" class="sidebar-link">glsl</a><strong class="sidebar-title">Rendering/SceneGraph</strong><a href="ViewNode.html" class="sidebar-link">ViewNode</a><a href="ViewNodeFactory.html" class="sidebar-link">ViewNodeFactory</a><strong class="sidebar-title">Representation/Geometry</strong><a href="OBJRepresentation.html" class="sidebar-link">OBJRepresentation</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2017 <a href="http://www.kitware.com" target="_blank">Kitware Inc.</a>
    </div>
    <div id="footer-links">
      <a href="https://github.com/kitware/vtk-js" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/vtk-js/docs/" class="mobile-nav-link">Docs</a><a href="/vtk-js/api/" class="mobile-nav-link">API</a><a href="/vtk-js/examples/" class="mobile-nav-link">Examples</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/kitware/vtk-js" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Common/Core</strong><a href="CellArray.html" class="mobile-nav-link">CellArray</a><a href="DataArray.html" class="mobile-nav-link">DataArray</a><a href="DynamicTypedArray.html" class="mobile-nav-link">DynamicTypedArray</a><a href="Endian.html" class="mobile-nav-link">Endian</a><a href="LookupTable.html" class="mobile-nav-link">LookupTable</a><a href="Math.html" class="mobile-nav-link current">Math</a><a href="Points.html" class="mobile-nav-link">Points</a><a href="ScalarsToColors.html" class="mobile-nav-link">ScalarsToColors</a><a href="StringArray.html" class="mobile-nav-link">StringArray</a><a href="URLExtract.html" class="mobile-nav-link">URLExtract</a><a href="VariantArray.html" class="mobile-nav-link">VariantArray</a><strong class="mobile-nav-title">Common/DataModel</strong><a href="BoundingBox.html" class="mobile-nav-link">BoundingBox</a><a href="DataSet.html" class="mobile-nav-link">DataSet</a><a href="DataSetAttributes.html" class="mobile-nav-link">DataSetAttributes</a><a href="ImageData.html" class="mobile-nav-link">ImageData</a><a href="Plane.html" class="mobile-nav-link">Plane</a><a href="PointSet.html" class="mobile-nav-link">PointSet</a><a href="PolyData.html" class="mobile-nav-link">PolyData</a><a href="SelectionNode.html" class="mobile-nav-link">SelectionNode</a><a href="StructuredData.html" class="mobile-nav-link">StructuredData</a><strong class="mobile-nav-title">Common/System</strong><a href="TimerLog.html" class="mobile-nav-link">TimerLog</a><strong class="mobile-nav-title">Filters/General</strong><a href="Calculator.html" class="mobile-nav-link">Calculator</a><a href="ImageStreamline.html" class="mobile-nav-link">ImageStreamline</a><a href="MoleculeToRepresentation.html" class="mobile-nav-link">MoleculeToRepresentation</a><a href="OutlineFilter.html" class="mobile-nav-link">OutlineFilter</a><a href="WarpScalar.html" class="mobile-nav-link">WarpScalar</a><strong class="mobile-nav-title">Filters/Sources</strong><a href="ConeSource.html" class="mobile-nav-link">ConeSource</a><a href="ImageGridSource.html" class="mobile-nav-link">ImageGridSource</a><a href="LineSource.html" class="mobile-nav-link">LineSource</a><a href="PlaneSource.html" class="mobile-nav-link">PlaneSource</a><a href="PointSource.html" class="mobile-nav-link">PointSource</a><a href="SphereSource.html" class="mobile-nav-link">SphereSource</a><strong class="mobile-nav-title">Interaction/Manipulators</strong><a href="CameraManipulator.html" class="mobile-nav-link">CameraManipulator</a><a href="TrackballMultiRotate.html" class="mobile-nav-link">TrackballMultiRotate</a><a href="TrackballPan.html" class="mobile-nav-link">TrackballPan</a><a href="TrackballRoll.html" class="mobile-nav-link">TrackballRoll</a><a href="TrackballRotate.html" class="mobile-nav-link">TrackballRotate</a><a href="TrackballZoom.html" class="mobile-nav-link">TrackballZoom</a><a href="TrackballZoomToMouse.html" class="mobile-nav-link">TrackballZoomToMouse</a><strong class="mobile-nav-title">Interaction/Style</strong><a href="InteractorStyleImage.html" class="mobile-nav-link">InteractorStyleImage</a><a href="InteractorStyleManipulator.html" class="mobile-nav-link">InteractorStyleManipulator</a><a href="InteractorStyleTrackballCamera.html" class="mobile-nav-link">InteractorStyleTrackballCamera</a><strong class="mobile-nav-title">IO/Core</strong><a href="DataAccessHelper.html" class="mobile-nav-link">DataAccessHelper</a><a href="HttpDataSetReader.html" class="mobile-nav-link">HttpDataSetReader</a><a href="HttpSceneLoader.html" class="mobile-nav-link">HttpSceneLoader</a><strong class="mobile-nav-title">IO/Misc</strong><a href="ElevationReader.html" class="mobile-nav-link">ElevationReader</a><a href="MTLReader.html" class="mobile-nav-link">MTLReader</a><a href="OBJReader.html" class="mobile-nav-link">OBJReader</a><a href="PDBReader.html" class="mobile-nav-link">PDBReader</a><strong class="mobile-nav-title">Rendering/Core</strong><a href="Actor.html" class="mobile-nav-link">Actor</a><a href="Actor2D.html" class="mobile-nav-link">Actor2D</a><a href="Camera.html" class="mobile-nav-link">Camera</a><a href="ColorTransferFunction.html" class="mobile-nav-link">ColorTransferFunction</a><a href="Coordinate.html" class="mobile-nav-link">Coordinate</a><a href="ImageMapper.html" class="mobile-nav-link">ImageMapper</a><a href="ImageProperty.html" class="mobile-nav-link">ImageProperty</a><a href="ImageSlice.html" class="mobile-nav-link">ImageSlice</a><a href="InteractorObserver.html" class="mobile-nav-link">InteractorObserver</a><a href="InteractorStyle.html" class="mobile-nav-link">InteractorStyle</a><a href="Light.html" class="mobile-nav-link">Light</a><a href="Mapper.html" class="mobile-nav-link">Mapper</a><a href="Prop.html" class="mobile-nav-link">Prop</a><a href="Prop3D.html" class="mobile-nav-link">Prop3D</a><a href="Property.html" class="mobile-nav-link">Property</a><a href="Property2D.html" class="mobile-nav-link">Property2D</a><a href="RenderWindow.html" class="mobile-nav-link">RenderWindow</a><a href="RenderWindowInteractor.html" class="mobile-nav-link">RenderWindowInteractor</a><a href="Renderer.html" class="mobile-nav-link">Renderer</a><a href="Representation.html" class="mobile-nav-link">Representation</a><a href="SphereMapper.html" class="mobile-nav-link">SphereMapper</a><a href="StickMapper.html" class="mobile-nav-link">StickMapper</a><a href="Texture.html" class="mobile-nav-link">Texture</a><a href="Viewport.html" class="mobile-nav-link">Viewport</a><strong class="mobile-nav-title">Rendering/Misc</strong><a href="FullScreenRenderWindow.html" class="mobile-nav-link">FullScreenRenderWindow</a><strong class="mobile-nav-title">Rendering/OpenGL</strong><a href="Actor.html" class="mobile-nav-link">Actor</a><a href="Actor2D.html" class="mobile-nav-link">Actor2D</a><a href="BufferObject.html" class="mobile-nav-link">BufferObject</a><a href="Camera.html" class="mobile-nav-link">Camera</a><a href="CellArrayBufferObject.html" class="mobile-nav-link">CellArrayBufferObject</a><a href="Framebuffer.html" class="mobile-nav-link">Framebuffer</a><a href="HardwareSelector.html" class="mobile-nav-link">HardwareSelector</a><a href="Helper.html" class="mobile-nav-link">Helper</a><a href="ImageMapper.html" class="mobile-nav-link">ImageMapper</a><a href="ImageSlice.html" class="mobile-nav-link">ImageSlice</a><a href="PolyDataMapper.html" class="mobile-nav-link">PolyDataMapper</a><a href="RenderWindow.html" class="mobile-nav-link">RenderWindow</a><a href="Renderer.html" class="mobile-nav-link">Renderer</a><a href="Shader.html" class="mobile-nav-link">Shader</a><a href="ShaderCache.html" class="mobile-nav-link">ShaderCache</a><a href="ShaderProgram.html" class="mobile-nav-link">ShaderProgram</a><a href="SphereMapper.html" class="mobile-nav-link">SphereMapper</a><a href="StickMapper.html" class="mobile-nav-link">StickMapper</a><a href="Texture.html" class="mobile-nav-link">Texture</a><a href="TextureUnitManager.html" class="mobile-nav-link">TextureUnitManager</a><a href="VertexArrayObject.html" class="mobile-nav-link">VertexArrayObject</a><a href="ViewNodeFactory.html" class="mobile-nav-link">ViewNodeFactory</a><a href="glsl.html" class="mobile-nav-link">glsl</a><strong class="mobile-nav-title">Rendering/SceneGraph</strong><a href="ViewNode.html" class="mobile-nav-link">ViewNode</a><a href="ViewNodeFactory.html" class="mobile-nav-link">ViewNodeFactory</a><strong class="mobile-nav-title">Representation/Geometry</strong><a href="OBJRepresentation.html" class="mobile-nav-link">OBJRepresentation</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="api/Math.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/vtk-js/js/lang_select.js"></script>
<script src="/vtk-js/js/toc.js"></script>
<script src="/vtk-js/js/mobile_nav.js"></script>
<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>



</body>
</html>