!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(t){e.exports=t.ImageMapper=n(1)}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(2),i=r(o),a=n(20),u=r(a),s=n(30),c=r(s),l=n(66),f=r(l),d=n(71),p=r(d),g=n(100),h=r(g),v=n(104),m=r(v),y=n(105),T=r(y),b=document.querySelector("body"),x=h["default"].newInstance();x.setBackground(.32,.34,.43);var w=m["default"].newInstance();w.addRenderer(x);var E=p["default"].newInstance();E.setContainer(b),w.addView(E);var C=T["default"].newInstance();C.setInteractorStyle(f["default"].newInstance()),C.setView(E);var A=i["default"].newInstance();x.addActor(A);var M=c["default"].newInstance();A.getProperty().setColorWindow(255),A.getProperty().setColorLevel(127),A.setMapper(M);var _=u["default"].newInstance();_.setDataExtent(0,200,0,200,0,0),_.setGridSpacing(16,16,0),_.setGridOrigin(8,8,0),M.setInputConnection(_.getOutputPort()),C.initialize(),C.bindEvents(b,document),C.start()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkImageSlice"),e.getActors=function(){return e},e.getImages=function(){return e},e.getIsOpaque=function(){return!0},e.hasTranslucentPolygonalGeometry=function(){return!1},e.makeProperty=p["default"].newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n=t.mapper.getBounds();if(!n||6!==n.length)return n;if(n[0]>n[1])return t.mapperBounds=n.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),n;var r=function(e){return e[0].map(function(t,n){return e.map(function(e){return e[n]})})};return(!t.mapperBounds||!r([n,t.mapperBounds]).reduce(function(e,t){return e&&t[0]===t[1]},!0)||e.getMTime()>t.boundsMTime.getMTime())&&!function(){console.debug("Recomputing bounds..."),t.mapperBounds=n.map(function(e){return e});var r=[u.vec3.fromValues(n[1],n[3],n[5]),u.vec3.fromValues(n[1],n[2],n[5]),u.vec3.fromValues(n[0],n[2],n[5]),u.vec3.fromValues(n[0],n[3],n[5]),u.vec3.fromValues(n[1],n[3],n[4]),u.vec3.fromValues(n[1],n[2],n[4]),u.vec3.fromValues(n[0],n[2],n[4]),u.vec3.fromValues(n[0],n[3],n[4])];e.computeMatrix();var o=u.mat4.create();u.mat4.transpose(o,t.matrix),r.forEach(function(e){return u.vec3.transformMat4(e,e,o)}),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map(function(e,t){return t%2===0?r.reduce(function(e,n){return e>n[t/2]?n[t/2]:e},e):r.reduce(function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e},e)}),t.boundsMTime.modified()}(),t.bounds},e.getMinXBound=function(){return e.getBounds(),t.bounds[0]},e.getMaxXBound=function(){return e.getBounds(),t.bounds[1]},e.getMinYBound=function(){return e.getBounds(),t.bounds[2]},e.getMaxYBound=function(){return e.getBounds(),t.bounds[3]},e.getMinZBound=function(){return e.getBounds(),t.bounds[4]},e.getMaxZBound=function(){return e.getBounds(),t.bounds[5]},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),n=t.mapper.getInput().getMTime(),e=n>e?n:e)}return e},e.getSupportsSelection=function(){return!!t.mapper&&t.mapper.getSupportsSelection()}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),f["default"].extend(e,t),t.boundsMTime={},c.obj(t.boundsMTime),c.set(e,t,["property"]),c.setGet(e,t,["mapper"]),c.getArray(e,t,["bounds"],6),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(3),s=n(13),c=o(s),l=n(15),f=r(l),d=n(19),p=r(d),g={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]},h=t.newInstance=c.newInstance(a,"vtkImageSlice");t["default"]={newInstance:h,extend:a}},function(e,t,n){t.glMatrix=n(4),t.mat2=n(5),t.mat2d=n(6),t.mat3=n(7),t.mat4=n(8),t.quat=n(9),t.vec2=n(12),t.vec3=n(10),t.vec4=n(11)},function(e,t){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.setMatrixArrayType=function(e){GLMAT_ARRAY_TYPE=e};var r=Math.PI/180;n.toRadian=function(e){return e*r},e.exports=n},function(e,t,n){var r=n(4),o={};o.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},o.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},o.transpose=function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},o.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*i-o*r;return a?(a=1/a,e[0]=i*a,e[1]=-r*a,e[2]=-o*a,e[3]=n*a,e):null},o.adjoint=function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},o.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},o.multiply=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=n[0],s=n[1],c=n[2],l=n[3];return e[0]=r*u+i*s,e[1]=o*u+a*s,e[2]=r*c+i*l,e[3]=o*c+a*l,e},o.mul=o.multiply,o.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s+i*u,e[1]=o*s+a*u,e[2]=r*-u+i*s,e[3]=o*-u+a*s,e},o.scale=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=n[0],s=n[1];return e[0]=r*u,e[1]=o*u,e[2]=i*s,e[3]=a*s,e},o.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e},o.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},o.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},o.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},o.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},e.exports=o},function(e,t,n){var r=n(4),o={};o.create=function(){var e=new r.ARRAY_TYPE(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},o.clone=function(e){var t=new r.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},o.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},o.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=n*i-r*o;return s?(s=1/s,e[0]=i*s,e[1]=-r*s,e[2]=-o*s,e[3]=n*s,e[4]=(o*u-i*a)*s,e[5]=(r*a-n*u)*s,e):null},o.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},o.multiply=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=n[0],l=n[1],f=n[2],d=n[3],p=n[4],g=n[5];return e[0]=r*c+i*l,e[1]=o*c+a*l,e[2]=r*f+i*d,e[3]=o*f+a*d,e[4]=r*p+i*g+u,e[5]=o*p+a*g+s,e},o.mul=o.multiply,o.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*c,e[1]=o*l+a*c,e[2]=r*-c+i*l,e[3]=o*-c+a*l,e[4]=u,e[5]=s,e},o.scale=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=n[0],l=n[1];return e[0]=r*c,e[1]=o*c,e[2]=i*l,e[3]=a*l,e[4]=u,e[5]=s,e},o.translate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=n[0],l=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=r*c+i*l+u,e[5]=o*c+a*l+s,e},o.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e},o.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},o.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},o.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},o.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},e.exports=o},function(e,t,n){var r=n(4),o={};o.create=function(){var e=new r.ARRAY_TYPE(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},o.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},o.clone=function(e){var t=new r.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},o.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},o.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},o.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],f=l*a-u*c,d=-l*i+u*s,p=c*i-a*s,g=n*f+r*d+o*p;return g?(g=1/g,e[0]=f*g,e[1]=(-l*r+o*c)*g,e[2]=(u*r-o*a)*g,e[3]=d*g,e[4]=(l*n-o*s)*g,e[5]=(-u*n+o*i)*g,e[6]=p*g,e[7]=(-c*n+r*s)*g,e[8]=(a*n-r*i)*g,e):null},o.adjoint=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8];return e[0]=a*l-u*c,e[1]=o*c-r*l,e[2]=r*u-o*a,e[3]=u*s-i*l,e[4]=n*l-o*s,e[5]=o*i-n*u,e[6]=i*c-a*s,e[7]=r*s-n*c,e[8]=n*a-r*i,e},o.determinant=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],u=e[6],s=e[7],c=e[8];return t*(c*i-a*s)+n*(-c*o+a*u)+r*(s*o-i*u)},o.multiply=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=n[0],p=n[1],g=n[2],h=n[3],v=n[4],m=n[5],y=n[6],T=n[7],b=n[8];return e[0]=d*r+p*a+g*c,e[1]=d*o+p*u+g*l,e[2]=d*i+p*s+g*f,e[3]=h*r+v*a+m*c,e[4]=h*o+v*u+m*l,e[5]=h*i+v*s+m*f,e[6]=y*r+T*a+b*c,e[7]=y*o+T*u+b*l,e[8]=y*i+T*s+b*f,e},o.mul=o.multiply,o.translate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=n[0],p=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=u,e[5]=s,e[6]=d*r+p*a+c,e[7]=d*o+p*u+l,e[8]=d*i+p*s+f,e},o.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=Math.sin(n),p=Math.cos(n);return e[0]=p*r+d*a,e[1]=p*o+d*u,e[2]=p*i+d*s,e[3]=p*a-d*r,e[4]=p*u-d*o,e[5]=p*s-d*i,e[6]=c,e[7]=l,e[8]=f,e},o.scale=function(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},o.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},o.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},o.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},o.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},o.fromQuat=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,u=r+r,s=o+o,c=n*a,l=r*a,f=r*u,d=o*a,p=o*u,g=o*s,h=i*a,v=i*u,m=i*s;return e[0]=1-f-g,e[3]=l-m,e[6]=d+v,e[1]=l+m,e[4]=1-c-g,e[7]=p-h,e[2]=d-v,e[5]=p+h,e[8]=1-c-f,e},o.normalFromMat4=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],f=t[9],d=t[10],p=t[11],g=t[12],h=t[13],v=t[14],m=t[15],y=n*u-r*a,T=n*s-o*a,b=n*c-i*a,x=r*s-o*u,w=r*c-i*u,E=o*c-i*s,C=l*h-f*g,A=l*v-d*g,M=l*m-p*g,_=f*v-d*h,P=f*m-p*h,S=d*m-p*v,O=y*S-T*P+b*_+x*M-w*A+E*C;return O?(O=1/O,e[0]=(u*S-s*P+c*_)*O,e[1]=(s*M-a*S-c*A)*O,e[2]=(a*P-u*M+c*C)*O,e[3]=(o*P-r*S-i*_)*O,e[4]=(n*S-o*M+i*A)*O,e[5]=(r*M-n*P-i*C)*O,e[6]=(h*E-v*w+m*x)*O,e[7]=(v*b-g*E-m*T)*O,e[8]=(g*w-h*b+m*y)*O,e):null},o.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},o.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},e.exports=o},function(e,t,n){var r=n(4),o={};o.create=function(){var e=new r.ARRAY_TYPE(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},o.clone=function(e){var t=new r.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},o.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},o.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],a=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=a,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},o.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],f=t[9],d=t[10],p=t[11],g=t[12],h=t[13],v=t[14],m=t[15],y=n*u-r*a,T=n*s-o*a,b=n*c-i*a,x=r*s-o*u,w=r*c-i*u,E=o*c-i*s,C=l*h-f*g,A=l*v-d*g,M=l*m-p*g,_=f*v-d*h,P=f*m-p*h,S=d*m-p*v,O=y*S-T*P+b*_+x*M-w*A+E*C;return O?(O=1/O,e[0]=(u*S-s*P+c*_)*O,e[1]=(o*P-r*S-i*_)*O,e[2]=(h*E-v*w+m*x)*O,e[3]=(d*w-f*E-p*x)*O,e[4]=(s*M-a*S-c*A)*O,e[5]=(n*S-o*M+i*A)*O,e[6]=(v*b-g*E-m*T)*O,e[7]=(l*E-d*b+p*T)*O,e[8]=(a*P-u*M+c*C)*O,e[9]=(r*M-n*P-i*C)*O,e[10]=(g*w-h*b+m*y)*O,e[11]=(f*b-l*w-p*y)*O,e[12]=(u*A-a*_-s*C)*O,e[13]=(n*_-r*A+o*C)*O,e[14]=(h*T-g*x-v*y)*O,e[15]=(l*x-f*T+d*y)*O,e):null},o.adjoint=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],f=t[9],d=t[10],p=t[11],g=t[12],h=t[13],v=t[14],m=t[15];return e[0]=u*(d*m-p*v)-f*(s*m-c*v)+h*(s*p-c*d),e[1]=-(r*(d*m-p*v)-f*(o*m-i*v)+h*(o*p-i*d)),e[2]=r*(s*m-c*v)-u*(o*m-i*v)+h*(o*c-i*s),e[3]=-(r*(s*p-c*d)-u*(o*p-i*d)+f*(o*c-i*s)),e[4]=-(a*(d*m-p*v)-l*(s*m-c*v)+g*(s*p-c*d)),e[5]=n*(d*m-p*v)-l*(o*m-i*v)+g*(o*p-i*d),e[6]=-(n*(s*m-c*v)-a*(o*m-i*v)+g*(o*c-i*s)),e[7]=n*(s*p-c*d)-a*(o*p-i*d)+l*(o*c-i*s),e[8]=a*(f*m-p*h)-l*(u*m-c*h)+g*(u*p-c*f),e[9]=-(n*(f*m-p*h)-l*(r*m-i*h)+g*(r*p-i*f)),e[10]=n*(u*m-c*h)-a*(r*m-i*h)+g*(r*c-i*u),e[11]=-(n*(u*p-c*f)-a*(r*p-i*f)+l*(r*c-i*u)),e[12]=-(a*(f*v-d*h)-l*(u*v-s*h)+g*(u*d-s*f)),e[13]=n*(f*v-d*h)-l*(r*v-o*h)+g*(r*d-o*f),e[14]=-(n*(u*v-s*h)-a*(r*v-o*h)+g*(r*s-o*u)),e[15]=n*(u*d-s*f)-a*(r*d-o*f)+l*(r*s-o*u),e},o.determinant=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],u=e[6],s=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],h=e[14],v=e[15],m=t*a-n*i,y=t*u-r*i,T=t*s-o*i,b=n*u-r*a,x=n*s-o*a,w=r*s-o*u,E=c*g-l*p,C=c*h-f*p,A=c*v-d*p,M=l*h-f*g,_=l*v-d*g,P=f*v-d*h;return m*P-y*_+T*M+b*A-x*C+w*E},o.multiply=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=t[9],p=t[10],g=t[11],h=t[12],v=t[13],m=t[14],y=t[15],T=n[0],b=n[1],x=n[2],w=n[3];return e[0]=T*r+b*u+x*f+w*h,e[1]=T*o+b*s+x*d+w*v,e[2]=T*i+b*c+x*p+w*m,e[3]=T*a+b*l+x*g+w*y,T=n[4],b=n[5],x=n[6],w=n[7],e[4]=T*r+b*u+x*f+w*h,e[5]=T*o+b*s+x*d+w*v,e[6]=T*i+b*c+x*p+w*m,e[7]=T*a+b*l+x*g+w*y,T=n[8],b=n[9],x=n[10],w=n[11],e[8]=T*r+b*u+x*f+w*h,e[9]=T*o+b*s+x*d+w*v,e[10]=T*i+b*c+x*p+w*m,e[11]=T*a+b*l+x*g+w*y,T=n[12],b=n[13],x=n[14],w=n[15],e[12]=T*r+b*u+x*f+w*h,e[13]=T*o+b*s+x*d+w*v,e[14]=T*i+b*c+x*p+w*m,e[15]=T*a+b*l+x*g+w*y,e},o.mul=o.multiply,o.translate=function(e,t,n){var r,o,i,a,u,s,c,l,f,d,p,g,h=n[0],v=n[1],m=n[2];return t===e?(e[12]=t[0]*h+t[4]*v+t[8]*m+t[12],e[13]=t[1]*h+t[5]*v+t[9]*m+t[13],e[14]=t[2]*h+t[6]*v+t[10]*m+t[14],e[15]=t[3]*h+t[7]*v+t[11]*m+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=t[9],p=t[10],g=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=u,e[5]=s,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=p,e[11]=g,e[12]=r*h+u*v+f*m+t[12],e[13]=o*h+s*v+d*m+t[13],e[14]=i*h+c*v+p*m+t[14],e[15]=a*h+l*v+g*m+t[15]),e},o.scale=function(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},o.rotate=function(e,t,n,o){var i,a,u,s,c,l,f,d,p,g,h,v,m,y,T,b,x,w,E,C,A,M,_,P,S=o[0],O=o[1],I=o[2],R=Math.sqrt(S*S+O*O+I*I);return Math.abs(R)<r.EPSILON?null:(R=1/R,S*=R,O*=R,I*=R,i=Math.sin(n),a=Math.cos(n),u=1-a,s=t[0],c=t[1],l=t[2],f=t[3],d=t[4],p=t[5],g=t[6],h=t[7],v=t[8],m=t[9],y=t[10],T=t[11],b=S*S*u+a,x=O*S*u+I*i,w=I*S*u-O*i,E=S*O*u-I*i,C=O*O*u+a,A=I*O*u+S*i,M=S*I*u+O*i,_=O*I*u-S*i,P=I*I*u+a,e[0]=s*b+d*x+v*w,e[1]=c*b+p*x+m*w,e[2]=l*b+g*x+y*w,e[3]=f*b+h*x+T*w,e[4]=s*E+d*C+v*A,e[5]=c*E+p*C+m*A,e[6]=l*E+g*C+y*A,e[7]=f*E+h*C+T*A,e[8]=s*M+d*_+v*P,e[9]=c*M+p*_+m*P,e[10]=l*M+g*_+y*P,e[11]=f*M+h*_+T*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},o.rotateX=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],u=t[6],s=t[7],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+c*r,e[5]=a*o+l*r,e[6]=u*o+f*r,e[7]=s*o+d*r,e[8]=c*o-i*r,e[9]=l*o-a*r,e[10]=f*o-u*r,e[11]=d*o-s*r,e},o.rotateY=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],u=t[2],s=t[3],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-c*r,e[1]=a*o-l*r,e[2]=u*o-f*r,e[3]=s*o-d*r,e[8]=i*r+c*o,e[9]=a*r+l*o,e[10]=u*r+f*o,e[11]=s*r+d*o,e},o.rotateZ=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],u=t[2],s=t[3],c=t[4],l=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+c*r,e[1]=a*o+l*r,e[2]=u*o+f*r,e[3]=s*o+d*r,e[4]=c*o-i*r,e[5]=l*o-a*r,e[6]=f*o-u*r,e[7]=d*o-s*r,e},o.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},o.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},o.fromRotation=function(e,t,n){var o,i,a,u=n[0],s=n[1],c=n[2],l=Math.sqrt(u*u+s*s+c*c);return Math.abs(l)<r.EPSILON?null:(l=1/l,u*=l,s*=l,c*=l,o=Math.sin(t),i=Math.cos(t),a=1-i,e[0]=u*u*a+i,e[1]=s*u*a+c*o,e[2]=c*u*a-s*o,e[3]=0,e[4]=u*s*a-c*o,e[5]=s*s*a+i,e[6]=c*s*a+u*o,e[7]=0,e[8]=u*c*a+s*o,e[9]=s*c*a-u*o,e[10]=c*c*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},o.fromXRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},o.fromYRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},o.fromZRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},o.fromRotationTranslation=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=r+r,s=o+o,c=i+i,l=r*u,f=r*s,d=r*c,p=o*s,g=o*c,h=i*c,v=a*u,m=a*s,y=a*c;return e[0]=1-(p+h),e[1]=f+y,e[2]=d-m,e[3]=0,e[4]=f-y,e[5]=1-(l+h),e[6]=g+v,e[7]=0,e[8]=d+m,e[9]=g-v,e[10]=1-(l+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},o.fromRotationTranslationScale=function(e,t,n,r){var o=t[0],i=t[1],a=t[2],u=t[3],s=o+o,c=i+i,l=a+a,f=o*s,d=o*c,p=o*l,g=i*c,h=i*l,v=a*l,m=u*s,y=u*c,T=u*l,b=r[0],x=r[1],w=r[2];return e[0]=(1-(g+v))*b,e[1]=(d+T)*b,e[2]=(p-y)*b,e[3]=0,e[4]=(d-T)*x,e[5]=(1-(f+v))*x,e[6]=(h+m)*x,e[7]=0,e[8]=(p+y)*w,e[9]=(h-m)*w,e[10]=(1-(f+g))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},o.fromRotationTranslationScaleOrigin=function(e,t,n,r,o){var i=t[0],a=t[1],u=t[2],s=t[3],c=i+i,l=a+a,f=u+u,d=i*c,p=i*l,g=i*f,h=a*l,v=a*f,m=u*f,y=s*c,T=s*l,b=s*f,x=r[0],w=r[1],E=r[2],C=o[0],A=o[1],M=o[2];return e[0]=(1-(h+m))*x,e[1]=(p+b)*x,e[2]=(g-T)*x,e[3]=0,e[4]=(p-b)*w,e[5]=(1-(d+m))*w,e[6]=(v+y)*w,e[7]=0,e[8]=(g+T)*E,e[9]=(v-y)*E,e[10]=(1-(d+h))*E,e[11]=0,e[12]=n[0]+C-(e[0]*C+e[4]*A+e[8]*M),e[13]=n[1]+A-(e[1]*C+e[5]*A+e[9]*M),e[14]=n[2]+M-(e[2]*C+e[6]*A+e[10]*M),e[15]=1,e},o.fromQuat=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,u=r+r,s=o+o,c=n*a,l=r*a,f=r*u,d=o*a,p=o*u,g=o*s,h=i*a,v=i*u,m=i*s;return e[0]=1-f-g,e[1]=l+m,e[2]=d-v,e[3]=0,e[4]=l-m,e[5]=1-c-g,e[6]=p+h,e[7]=0,e[8]=d+v,e[9]=p-h,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},o.frustum=function(e,t,n,r,o,i,a){var u=1/(n-t),s=1/(o-r),c=1/(i-a);return e[0]=2*i*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*s,e[6]=0,e[7]=0,e[8]=(n+t)*u,e[9]=(o+r)*s,e[10]=(a+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*c,e[15]=0,e},o.perspective=function(e,t,n,r,o){var i=1/Math.tan(t/2),a=1/(r-o);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*r*a,e[15]=0,e},o.perspectiveFromFieldOfView=function(e,t,n,r){var o=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),s=2/(a+u),c=2/(o+i);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((a-u)*s*.5),e[9]=(o-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},o.ortho=function(e,t,n,r,o,i,a){var u=1/(t-n),s=1/(r-o),c=1/(i-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*u,e[13]=(o+r)*s,e[14]=(a+i)*c,e[15]=1,e},o.lookAt=function(e,t,n,i){var a,u,s,c,l,f,d,p,g,h,v=t[0],m=t[1],y=t[2],T=i[0],b=i[1],x=i[2],w=n[0],E=n[1],C=n[2];return Math.abs(v-w)<r.EPSILON&&Math.abs(m-E)<r.EPSILON&&Math.abs(y-C)<r.EPSILON?o.identity(e):(d=v-w,p=m-E,g=y-C,h=1/Math.sqrt(d*d+p*p+g*g),d*=h,p*=h,g*=h,a=b*g-x*p,u=x*d-T*g,s=T*p-b*d,h=Math.sqrt(a*a+u*u+s*s),h?(h=1/h,a*=h,u*=h,s*=h):(a=0,u=0,s=0),c=p*s-g*u,l=g*a-d*s,f=d*u-p*a,h=Math.sqrt(c*c+l*l+f*f),h?(h=1/h,c*=h,l*=h,f*=h):(c=0,l=0,f=0),e[0]=a,e[1]=c,e[2]=d,e[3]=0,e[4]=u,e[5]=l,e[6]=p,e[7]=0,e[8]=s,e[9]=f,e[10]=g,e[11]=0,e[12]=-(a*v+u*m+s*y),e[13]=-(c*v+l*m+f*y),e[14]=-(d*v+p*m+g*y),e[15]=1,e)},o.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},o.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},e.exports=o},function(e,t,n){var r=n(4),o=n(7),i=n(10),a=n(11),u={};u.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},u.rotationTo=function(){var e=i.create(),t=i.fromValues(1,0,0),n=i.fromValues(0,1,0);return function(r,o,a){var s=i.dot(o,a);return s<-.999999?(i.cross(e,t,o),i.length(e)<1e-6&&i.cross(e,n,o),i.normalize(e,e),u.setAxisAngle(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(i.cross(e,o,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,u.normalize(r,r))}}(),u.setAxes=function(){var e=o.create();return function(t,n,r,o){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=o[0],e[4]=o[1],e[7]=o[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],u.normalize(t,u.fromMat3(t,e))}}(),u.clone=a.clone,u.fromValues=a.fromValues,u.copy=a.copy,u.set=a.set,u.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},u.setAxisAngle=function(e,t,n){n=.5*n;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},u.add=a.add,u.multiply=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=n[0],s=n[1],c=n[2],l=n[3];return e[0]=r*l+a*u+o*c-i*s,e[1]=o*l+a*s+i*u-r*c,e[2]=i*l+a*c+r*s-o*u,e[3]=a*l-r*u-o*s-i*c,e},u.mul=u.multiply,u.scale=a.scale,u.rotateX=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s+a*u,e[1]=o*s+i*u,e[2]=i*s-o*u,e[3]=a*s-r*u,e},u.rotateY=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s-i*u,e[1]=o*s+a*u,e[2]=i*s+r*u,e[3]=a*s-o*u,e},u.rotateZ=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s+o*u,e[1]=o*s-r*u,e[2]=i*s+a*u,e[3]=a*s-i*u,e},u.calculateW=function(e,t){var n=t[0],r=t[1],o=t[2];return e[0]=n,e[1]=r,e[2]=o,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),e},u.dot=a.dot,u.lerp=a.lerp,u.slerp=function(e,t,n,r){var o,i,a,u,s,c=t[0],l=t[1],f=t[2],d=t[3],p=n[0],g=n[1],h=n[2],v=n[3];return i=c*p+l*g+f*h+d*v,i<0&&(i=-i,p=-p,g=-g,h=-h,v=-v),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),u=Math.sin((1-r)*o)/a,s=Math.sin(r*o)/a):(u=1-r,s=r),e[0]=u*c+s*p,e[1]=u*l+s*g,e[2]=u*f+s*h,e[3]=u*d+s*v,e},u.sqlerp=function(){var e=u.create(),t=u.create();return function(n,r,o,i,a,s){return u.slerp(e,r,a,s),u.slerp(t,o,i,s),u.slerp(n,e,t,2*s*(1-s)),n}}(),u.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i,u=a?1/a:0;return e[0]=-n*u,e[1]=-r*u,e[2]=-o*u,e[3]=i*u,e},u.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},u.length=a.length,u.len=u.length,u.squaredLength=a.squaredLength,u.sqrLen=u.squaredLength,u.normalize=a.normalize,u.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;n=Math.sqrt(t[3*o+o]-t[3*i+i]-t[3*a+a]+1),e[o]=.5*n,n=.5/n,e[3]=(t[3*i+a]-t[3*a+i])*n,e[i]=(t[3*i+o]+t[3*o+i])*n,e[a]=(t[3*a+o]+t[3*o+a])*n}return e},u.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},e.exports=u},function(e,t,n){var r=n(4),o={};o.create=function(){var e=new r.ARRAY_TYPE(3);return e[0]=0,e[1]=0,e[2]=0,e},o.clone=function(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},o.fromValues=function(e,t,n){var o=new r.ARRAY_TYPE(3);return o[0]=e,o[1]=t,o[2]=n,o},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},o.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},o.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},o.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},o.sub=o.subtract,o.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},o.mul=o.multiply,o.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},o.div=o.divide,o.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},o.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},o.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},o.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},o.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)},o.dist=o.distance,o.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},o.len=o.length,o.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},o.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},o.normalize=function(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},o.cross=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],u=n[1],s=n[2];return e[0]=o*s-i*u,e[1]=i*a-r*s,e[2]=r*u-o*a,e},o.lerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e},o.hermite=function(e,t,n,r,o,i){var a=i*i,u=a*(2*i-3)+1,s=a*(i-2)+i,c=a*(i-1),l=a*(3-2*i);return e[0]=t[0]*u+n[0]*s+r[0]*c+o[0]*l,e[1]=t[1]*u+n[1]*s+r[1]*c+o[1]*l,e[2]=t[2]*u+n[2]*s+r[2]*c+o[2]*l,e},o.bezier=function(e,t,n,r,o,i){var a=1-i,u=a*a,s=i*i,c=u*a,l=3*i*u,f=3*s*a,d=s*i;return e[0]=t[0]*c+n[0]*l+r[0]*f+o[0]*d,e[1]=t[1]*c+n[1]*l+r[1]*f+o[1]*d,e[2]=t[2]*c+n[2]*l+r[2]*f+o[2]*d,e},o.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,i=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=o*t,e},o.transformMat4=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e},o.transformMat3=function(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e},o.transformQuat=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*i-s*o,f=c*o+s*r-a*i,d=c*i+a*o-u*r,p=-a*r-u*o-s*i;return e[0]=l*c+p*-a+f*-s-d*-u,e[1]=f*c+p*-u+d*-a-l*-s,e[2]=d*c+p*-s+l*-u-f*-a,e},o.rotateX=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},o.rotateY=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},o.rotateZ=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},o.forEach=function(){var e=o.create();return function(t,n,r,o,i,a){var u,s;for(n||(n=3),r||(r=0),s=o?Math.min(o*n+r,t.length):t.length,u=r;u<s;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],i(e,e,a),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}}(),o.angle=function(e,t){var n=o.fromValues(e[0],e[1],e[2]),r=o.fromValues(t[0],t[1],t[2]);o.normalize(n,n),o.normalize(r,r);var i=o.dot(n,r);return i>1?0:Math.acos(i)},o.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},e.exports=o},function(e,t,n){var r=n(4),o={};o.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},o.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.fromValues=function(e,t,n,o){var i=new r.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=o,i},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.set=function(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e},o.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},o.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},o.sub=o.subtract,o.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},o.mul=o.multiply,o.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},o.div=o.divide,o.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},o.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},o.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},o.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},o.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(n*n+r*r+o*o+i*i)},o.dist=o.distance,o.squaredDistance=function(e,t){
var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+o*o+i*i},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return Math.sqrt(t*t+n*n+r*r+o*o)},o.len=o.length,o.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return t*t+n*n+r*r+o*o},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},o.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},o.normalize=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=o*a,e[3]=i*a),e},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},o.lerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2],u=t[3];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e[3]=u+r*(n[3]-u),e},o.random=function(e,t){return t=t||1,e[0]=r.RANDOM(),e[1]=r.RANDOM(),e[2]=r.RANDOM(),e[3]=r.RANDOM(),o.normalize(e,e),o.scale(e,e,t),e},o.transformMat4=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e},o.transformQuat=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*i-s*o,f=c*o+s*r-a*i,d=c*i+a*o-u*r,p=-a*r-u*o-s*i;return e[0]=l*c+p*-a+f*-s-d*-u,e[1]=f*c+p*-u+d*-a-l*-s,e[2]=d*c+p*-s+l*-u-f*-a,e[3]=t[3],e},o.forEach=function(){var e=o.create();return function(t,n,r,o,i,a){var u,s;for(n||(n=4),r||(r=0),s=o?Math.min(o*n+r,t.length):t.length,u=r;u<s;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],i(e,e,a),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}}(),o.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},e.exports=o},function(e,t,n){var r=n(4),o={};o.create=function(){var e=new r.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},o.clone=function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},o.fromValues=function(e,t){var n=new r.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},o.set=function(e,t,n){return e[0]=t,e[1]=n,e},o.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},o.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},o.sub=o.subtract,o.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},o.mul=o.multiply,o.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},o.div=o.divide,o.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},o.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},o.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},o.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},o.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},o.dist=o.distance,o.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},o.len=o.length,o.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},o.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},o.normalize=function(e,t){var n=t[0],r=t[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o),e},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},o.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},o.lerp=function(e,t,n,r){var o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e},o.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},o.transformMat2=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e},o.transformMat2d=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e},o.transformMat3=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e},o.transformMat4=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e},o.forEach=function(){var e=o.create();return function(t,n,r,o,i,a){var u,s;for(n||(n=2),r||(r=0),s=o?Math.min(o*n+r,t.length):t.length,u=r;u<s;u+=n)e[0]=t[u],e[1]=t[u+1],i(e,e,a),t[u]=e[0],t[u+1]=e[1];return t}}(),o.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e,t){return Object.keys(e).find(function(n){return e[n]===t})}function u(e){return e.isA?e.getState():e}function s(){function e(e){a[e]=null}function t(t){function n(){e(t)}return Object.freeze({unsubscribe:n})}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[];r.mtime=r.mtime||++E,r.classHierarchy=["vtkObject"],n.modified=function(){return r.deleted?void console.log("instance deleted - can not call any method"):(r.mtime=++E,void a.forEach(function(e){return e&&e(n)}))},n.onModified=function(e){if(r.deleted)return console.log("instance deleted - can not call any method"),null;var n=a.length;return a.push(e),t(n)},n.getMTime=function(){return r.mtime},n.isA=function(e){return r.classHierarchy.indexOf(e)!==-1},n.getClassName=function(){return r.classHierarchy.slice(-1)[0]},n.set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1;return Object.keys(e).forEach(function(a){Array.isArray(e[a])?t=n["set"+i(a)].apply(n,o(e[a]))||t:n["set"+i(a)]?t=n["set"+i(a)](e[a])||t:(["mtime"].indexOf(a)===-1&&console.log("Warning: Set value to model directly",a,e[a]),r[a]=e[a],t=!0)}),t},n.get=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return r;var o={};return t.forEach(function(e){o[e]=r[e]}),o},n["delete"]=function(){Object.keys(r).forEach(function(e){return delete r[e]}),a.forEach(function(t,n){return e(n)}),r.deleted=!0},n.getState=function(){var e=Object.assign({},r,{vtkClass:n.getClassName()});Object.keys(e).forEach(function(t){null===e[t]||void 0===e[t]?delete e[t]:e[t].isA?e[t]=e[t].getState():Array.isArray(e[t])&&(e[t]=e[t].map(u))});var t={};return Object.keys(e).sort().forEach(function(n){t[n]=e[n]}),t.mtime&&delete t.mtime,t},n.shallowCopy=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.getClassName()!==n.getClassName())throw new Error("Can not ShallowCopy "+e.getClassName()+" into "+n.getClassName());var o=e.get(),i=Object.keys(r).sort(),a=Object.keys(o).sort();a.forEach(function(e){var n=i.indexOf(e);n===-1?t&&console.log("add "+e+" in shallowCopy"):i.splice(n,1),r[e]=o[e]}),i.length&&t&&console.log("Untouched keys: "+i.join(", ")),n.modified()}}function c(e,t,n){n.forEach(function(n){"object"===("undefined"==typeof n?"undefined":b(n))?e["get"+i(n.name)]=function(){return t[n.name]}:e["get"+i(n)]=function(){return t[n]}})}function l(e){if("object"===("undefined"==typeof e?"undefined":b(e))){var t=function(){var t=C[e.type];if(t)return{v:function(n,r){return t(n,r,e)}};throw console.error("No setter for field",e),new TypeError("No setter for field")}();if("object"===("undefined"==typeof t?"undefined":b(t)))return t.v}return function(t,n){return function(r){return n.deleted?(console.log("instance deleted - can not call any method"),!1):n[e]!==r&&(n[e]=r,t.modified(),!0)}}}function f(e,t,n){n.forEach(function(n){"object"===("undefined"==typeof n?"undefined":b(n))?e["set"+i(n.name)]=l(n)(e,t):e["set"+i(n)]=l(n)(e,t)})}function d(e,t,n){c(e,t,n),f(e,t,n)}function p(e,t,n){n.forEach(function(n){e["get"+i(n)]=function(){return[].concat(t[n])}})}function g(e,t,n,r){n.forEach(function(n){e["set"+i(n)]=function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];if(t.deleted)return console.log("instance deleted - can not call any method"),!1;var u=i;if(1===u.length&&Array.isArray(u[0])&&(u=u[0]),u.length!==r)throw new RangeError("Invalid number of values for array setter");var s=!1;return t[n].forEach(function(e,t){if(e!==u[t]){if(s)return;s=!0}}),s&&(t[n]=[].concat(u),e.modified()),!0}})}function h(e,t,n,r){p(e,t,n),g(e,t,n,r)}function v(e,t,n,r){function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.deleted?void console.log("instance deleted - can not call any method"):(t.inputData[n]=e,void(t.inputConnection[n]=null))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]&&(t.inputData[e]=t.inputConnection[e]()),t.inputData[e]}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.deleted?void console.log("instance deleted - can not call any method"):(t.inputData[n]=null,void(t.inputConnection[n]=e))}function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.deleted?(console.log("instance deleted - can not call any method"),null):(e.update(),t.output[n])}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return u(e)}}if(t.inputData?t.inputData=t.inputData.map(w["default"]):t.inputData=[],t.inputConnection?t.inputConnection=t.inputConnection.map(w["default"]):t.inputConnection=[],t.output?t.output=t.output.map(w["default"]):t.output=[],t.inputArrayToProcess?t.inputArrayToProcess=t.inputArrayToProcess.map(w["default"]):t.inputArrayToProcess=[],n){for(var c=n;c--;)t.inputData.push(null),t.inputConnection.push(null);e.setInputData=o,e.setInputConnection=a,e.getInputData=i}r&&(e.getOutputData=u,e.getOutputPort=s),e.update=function(){var r=[];if(n)for(var o=0;o<n;)r[o]=e.getInputData(o),o++;e.requestData(r,t.output)},e.getNumberOfInputPorts=function(){return n},e.getNumberOfOutputPorts=function(){return r},e.getInputArrayToProcess=function(e){var n=t.inputArrayToProcess[e],r=t.inputData[e];return n&&r?r["get"+n.fieldAssociation]().getArray(n.arrayName):null},e.setInputArrayToProcess=function(e,n,r){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Scalars";t.inputArrayToProcess.length<e;)t.inputArrayToProcess.push(null);t.inputArrayToProcess[e]={arrayName:n,fieldAssociation:r,attributeType:o}}}function m(e,t,n){function r(e){a[e]=null}function o(e){function t(){r(e)}return Object.freeze({unsubscribe:t})}var a=[],u=e["delete"];e["invoke"+i(n)]=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.deleted?void console.log("instance deleted - can not call any method"):void a.forEach(function(t){return t&&t.apply(e,r)})},e["on"+i(n)]=function(e){if(t.deleted)return console.log("instance deleted - can not call any method"),null;var n=a.length;return a.push(e),o(n)},e["delete"]=function(){u(),a.forEach(function(e,t){return r(t)})}}function y(e,t){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},r={};return e(r,n,t),Object.freeze(r)};return t&&w["default"].register(t,n),n}function T(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.filter(function(e){return!!e}).forEach(function(e){return e.apply(void 0,n)})}}Object.defineProperty(t,"__esModule",{value:!0});var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.capitalize=i,t.enumToString=a,t.getStateArrayMapFunc=u,t.obj=s,t.get=c,t.set=f,t.setGet=d,t.getArray=p,t.setArray=g,t.setGetArray=h,t.algo=v,t.event=m,t.newInstance=y,t.chain=T;var x=n(14),w=r(x),E=0,C={"enum":function(e,t,n){return function(r){if("string"==typeof r){if(void 0!==n["enum"][r])return t[n.name]!==n["enum"][r]&&(t[n.name]=n["enum"][r],e.modified(),!0);throw console.error("Set Enum with invalid argument",n,r),new RangeError("Set Enum with invalid string argument")}if("number"==typeof r){if(t[n.name]!==r){if(Object.keys(n["enum"]).map(function(e){return n["enum"][e]}).indexOf(r)!==-1)return t[n.name]=r,e.modified(),!0;throw console.error("Set Enum outside numeric range",n,r),new RangeError("Set Enum outside numeric range")}return!1}throw console.error("Set Enum with invalid argument (String/Number)",n,r),new TypeError("Set Enum with invalid argument (String/Number)")}}}},function(e,t){"use strict";function n(e){if(null===e||void 0===e)return e;if(e.isA)return e;if(!e.vtkClass)return console.log("Invalid VTK object"),null;var t=i[e.vtkClass];if(!t)return console.log("No vtk class found for Object of type",e.vtkClass),null;var r=Object.assign({},e);Object.keys(r).forEach(function(e){r[e]&&"object"===o(r[e])&&r[e].vtkClass&&(r[e]=n(r[e]))});var a=t(r);return a&&a.modified&&a.modified(),a}function r(e,t){i[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=n,t.register=r;var i={vtkObject:function(){return null}};n.register=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return function(){return console.log("vtkProp3D::"+e+" - NOT IMPLEMENTED")}}function a(e,t){function n(){if([t.origin,t.position,t.orientation].forEach(function(e){if(e.filter(function(e){return 0!==e}).length)return void(t.isIdentity=!1)}),t.scale.filter(function(e){return 1!==e}).length)return void(t.isIdentity=!1)}t.classHierarchy.push("vtkProp3D"),e.getMTime=function(){return Math.max(t.mtime,e.getUserTransformMatrixMTime())},e.getUserTransformMatrixMTime=function(){return Math.max(t.userMatrix?t.userMatrix.getMTime():0,t.userTransform?t.userTransform.getMTime():0)},e.addPosition=function(n){t.position=t.position.map(function(e,t){return e+n[t]}),e.modified()},e.setOrientation=i("setOrientation"),e.getOrientation=i("getOrientation"),e.getOrientationWXYZ=i("GetOrientationWXYZ"),e.AddOrientation=i("AddOrientation"),e.RotateX=i("RotateX"),e.RotateY=i("RotateY"),e.RotateZ=i("RotateZ"),e.RotateWXYZ=i("RotateWXYZ"),e.SetUserTransform=i("SetUserTransform"),e.SetUserMatrix=i("SetUserMatrix"),e.getMatrix=function(){return e.computeMatrix(),t.matrix},e.computeMatrix=function(){t.isIdentity||e.getMTime()>t.matrixMTime.getMTime()&&(s.mat4.identity(t.matrix),s.mat4.translate(t.matrix,t.matrix,[-t.origin[0],-t.origin[1],-t.origin[2]]),s.mat4.scale(t.matrix,t.matrix,t.scale),s.mat4.translate(t.matrix,t.matrix,t.position),s.mat4.translate(t.matrix,t.matrix,t.origin),s.mat4.transpose(t.matrix,t.matrix),t.matrixMTime.modified())},e.getCenter=function(){return d["default"].getCenter(t.bounds)},e.getLength=function(){return d["default"].getLength(t.bounds)},e.getXRange=function(){return d["default"].getXRange(t.bounds)},e.getYRange=function(){return d["default"].getYRange(t.bounds)},e.getZRange=function(){return d["default"].getZRange(t.bounds)},e.pokeMatrix=i("pokeMatrix"),e.getUserMatrix=i("GetUserMatrix"),e.onModified(n)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,h,n),g["default"].extend(e,t),t.matrixMTime={},l.obj(t.matrixMTime),l.get(e,t,["bounds","isIdentity"]),l.setGetArray(e,t,["origin","position","orientation","scale"],3),t.matrix=s.mat4.create(),t.transform=null,a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=u;var s=n(3),c=n(13),l=o(c),f=n(16),d=r(f),p=n(18),g=r(p),h={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userTransform:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null},v=t.newInstance=l.newInstance(u,"vtkProp3D");t["default"]={newInstance:v,extend:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return e[0]<=e[1]&&e[2]<=e[3]&&e[4]<=e[5]}function u(e){return[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])]}function s(e,t){return e[2*t+1]-e[2*t]}function c(e){return[s(e,0),s(e,1),s(e,2)]}function l(e){return e.slice(0,2)}function f(e){return e.slice(2,4)}function d(e){return e.slice(4,6)}function p(e){var t=c(e);return t[0]>t[1]?t[0]>t[2]?t[0]:t[2]:t[1]>t[2]?t[1]:t[2]}function g(e){if(a(e)){var t=c(e);return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}return null}function h(e,t){return e<=0&&t>=0||e>=0&&t<=0}function v(e,t){t.classHierarchy.push("vtkBoundingBox"),e.clone=function(){var e=[].concat(t.bounds);return M({bounds:e})},e.equals=function(e){var n=t.bounds,r=e.getBounds();return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]&&n[4]===r[4]&&n[5]===r[5]},e.setMinPoint=function(e,n,r){var o=y(t.bounds,6),i=o[0],a=o[1],u=o[2],s=o[3],c=o[4],l=o[5];return t.bounds=[e,e>a?e:a,n,n>s?n:s,r,r>l?r:l],i!==e||u!==n||c!==r},e.setMaxPoint=function(e,n,r){var o=y(t.bounds,6),i=o[0],a=o[1],u=o[2],s=o[3],c=o[4],l=o[5];return t.bounds=[e<i?e:i,e,n<u?n:u,n,r<c?r:c,r],a!==e||s!==n||l!==r},e.addPoint=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.bounds=t.bounds.map(function(e,t){if(t%2===0){var r=t/2;return e<n[r]?e:n[r]}var o=(t-1)/2;return e>n[o]?e:n[o]})},e.addBounds=function(e,n,r,o,i,a){var u=y(t.bounds,6),s=u[0],c=u[1],l=u[2],f=u[3],d=u[4],p=u[5];t.bounds=[Math.min(e,s),Math.max(n,c),Math.min(r,l),Math.max(o,f),Math.min(i,d),Math.max(a,p)]},e.addBox=function(t){e.addBounds.apply(e,i(t.getBounds()))},e.isValid=function(){return a(t.bounds)},e.intersect=function(n){if(!e.isValid()||!n.isValid())return!1;for(var r=[0,0,0,0,0,0],o=n.getBounds(),i=void 0,a=0;a<3;a++)if(i=!1,o[2*a]>=t.bounds[2*a]&&o[2*a]<=t.bounds[2*a+1]?(i=!0,r[2*a]=o[2*a]):t.bounds[2*a]>=o[2*a]&&t.bounds[2*a]<=o[2*a+1]&&(i=!0,r[2*a]=t.bounds[2*a]),o[2*a+1]>=t.bounds[2*a]&&o[2*a+1]<=t.bounds[2*a+1]?(i=!0,r[2*a+1]=n.MaxPnt[a]):t.bounds[2*a+1]>=n.MinPnt[2*a]&&t.bounds[2*a+1]<=n.MaxPnt[2*a+1]&&(i=!0,r[2*a+1]=t.bounds[2*a+1]),!i)return!1;return t.bounds=r,!0},e.intersects=function(n){if(!e.isValid()||!n.isValid())return!1;for(var r=n.getBounds(),o=0;o<3;o++)if(!(r[2*o]>=t.bounds[2*o]&&r[2*o]<=t.bounds[2*o+1]||t.bounds[2*o]>=r[2*o]&&t.bounds[2*o]<=r[2*o+1]||r[2*o+1]>=t.bounds[2*o]&&r[2*o+1]<=t.bounds[2*o+1]||t.bounds[2*o+1]>=n.MinPnt[2*o]&&t.bounds[2*o+1]<=n.MaxPnt[2*o+1]))return!1;return!0},e.intersectPlane=function(e,n){for(var r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],o=[0,0,0,0,0,0,0,0],i=0,a=0;a<2;a++)for(var u=2;u<4;u++)for(var s=4;s<6;s++){var c=[t.bounds[a],t.bounds[u],t.bounds[s]];o[i++]=w["default"].evaluate(n,e,c)}for(var l=2;l--&&!(h(o[r[l][0]],o[r[l][4]])&&h(o[r[l][1]],o[r[l][5]])&&h(o[r[l][2]],o[r[l][6]])&&h(o[r[l][3]],o[r[l][7]])););if(l<0)return!1;for(var f=Math.sign(n[l]),d=Math.abs((t.bounds[2*l+1]-t.bounds[2*l])*n[l]),p=f>0?1:0,g=0;g<4;g++)if(0!==d){var v=Math.abs(o[r[l][g]])/d;f>0&&v<p&&(p=v),f<0&&v>p&&(p=v)}var m=(1-p)*t.bounds[2*l]+p*t.bounds[2*l+1];return f>0?t.bounds[2*l]=m:t.bounds[2*l+1]=m,!0},e.containsPoint=function(e,n,r){return!(e<t.bounds[0]||e>t.bounds[1])&&(!(n<t.bounds[2]||n>t.bounds[3])&&!(r<t.bounds[4]||r>t.bounds[5]))},e.getMinPoint=function(){return[t.bounds[0],t.bounds[2],t.bounds[4]]},e.getMaxPoint=function(){return[t.bounds[1],t.bounds[3],t.bounds[5]]},e.getBound=function(e){return t.bound[e]},e.contains=function(t){return!!e.intersects(t)&&(!!e.containsPoint.apply(e,i(t.getMinPoint()))&&(!!e.containsPoint.apply(e,i(t.getMaxPoint()))||0))},e.getCenter=function(){return u(t.bounds)},e.getLength=function(e){return s(t.bounds,e)},e.getLengths=function(){return c(t.bounds)},e.getMaxLength=function(){return p(t.bounds)},e.getDiagonalLength=function(){return g(t.bounds)},e.reset=function(){return e.setBounds([].concat(E))},e.inflate=function(e){t.bounds=t.bounds.map(function(t,n){return n%2===0?t-e:t+e})},e.scale=function(n,r,o){if(e.isValid()){var i=[].concat(t.bounds);return n>=0?(i[0]*=n,i[1]*=n):(i[0]=n*t.bounds[1],i[1]=n*t.bounds[0]),r>=0?(i[2]*=r,i[3]*=r):(i[2]=r*t.bounds[3],i[3]=r*t.bounds[2]),o>=0?(i[4]*=o,i[5]*=o):(i[4]=o*t.bounds[5],i[5]=o*t.bounds[4]),t.bounds=i,!0}return!1}}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),b.obj(e,t),b.setGet(e,t,["bounds"]),v(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=t.INIT_BOUNDS=void 0;var y=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.extend=m;var T=n(13),b=o(T),x=n(17),w=r(x),E=t.INIT_BOUNDS=[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE],C=t.STATIC={isValid:a,getCenter:u,getLength:s,getLengths:c,getMaxLength:p,getDiagonalLength:g,getXRange:l,getYRange:f,getZRange:d},A={type:"vtkBoundingBox",bounds:[].concat(E)},M=t.newInstance=b.newInstance(m,"vtkBoundingBox");t["default"]=Object.assign({newInstance:M,extend:m},C)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t,n){return e[0]*(n[0]-t[0])+e[1]*(n[1]-t[1])+e[2]*(n[2]-t[2])}function i(e,t){t.classHierarchy.push("vtkPlane")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),s.obj(e,t),s.setGet(e,t,["bounds"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=a;var u=n(13),s=r(u),c=t.STATIC={evaluate:o},l={type:"vtkPlane"},f=t.newInstance=s.newInstance(a,"vtkPlane");t["default"]=Object.assign({newInstance:f,extend:a},c)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return function(){return console.log("vtkProp::"+e+" - NOT IMPLEMENTED")}}function i(e,t){t.classHierarchy.push("vtkProp"),e.getActors=function(){return null},e.getActors2D=function(){return null},e.getVolumes=function(){return null},e.pick=o("pick"),e.hasKey=o("hasKey"),e.getRedrawMTime=function(){return t.mtime},e.setEstimatedRenderTime=function(e){t.estimatedRenderTime=e,t.savedEstimatedRenderTime=e},e.restoreEstimatedRenderTime=function(){t.estimatedRenderTime=t.savedEstimatedRenderTime},e.addEstimatedRenderTime=function(e){t.estimatedRenderTime+=e},e.setAllocatedRenderTime=function(e){t.allocatedRenderTime=e,t.savedEstimatedRenderTime=t.estimatedRenderTime,t.estimatedRenderTime=0},e.getSupportsSelection=function(){return!1},e.getTextures=function(){return t.textures},e.hasTexture=function(e){return!!t.textures.filter(function(t){return t===e}).length},e.addTexture=function(n){n&&!e.hasTexture(n)&&(t.textures=t.textures.concat(n))},e.removeTexture=function(e){var n=t.textures.filter(function(t){return t===e});t.texture.length!==n.length&&(t.textures=n)},e.removeAllTextures=function(){t.textures=[]}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),s.obj(e,t),s.get(e,t,["estimatedRenderTime","allocatedRenderTime"]),s.setGet(e,t,["visibility","pickable","dragable","useBounds","renderTimeMultiplier"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=r(u),c={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,paths:null,textures:[]},l=t.newInstance=s.newInstance(a,"vtkProp");t["default"]={newInstance:l,extend:a}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t.classHierarchy.push("vtkImageProperty")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),u.obj(e,t),u.setGet(e,t,["colorWindow","colorLevel","ambient","diffuse","opacity"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var a=n(13),u=r(a),s={colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1},c=t.newInstance=u.newInstance(i,"vtkImageProperty");t["default"]={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){function n(e,n){var r=this;if(!t.deleted){var o=n[0];(!o||o.getMTime()<t.mtime)&&!function(){var e={};o={type:"vtkImageData",mtime:t.mtime,metadata:{source:"vtkImageGridSource",state:e}},["gridSpacing","gridOrigin","dataSpacing","dataOrigin"].forEach(function(n){e[n]=[].concat(t[n])});var i=l["default"].newInstance(o);i.setOrigin(t.dataOrigin[0],t.dataOrigin[1],t.dataOrigin[2]),i.setSpacing(t.dataSpacing[0],t.dataSpacing[1],t.dataSpacing[2]),i.setExtent.apply(r,t.dataExtent);var a=[0,0,0];a=a.map(function(e,n){return t.dataExtent[2*n+1]-t.dataExtent[2*n]+1});for(var u=new Uint8Array(a[0]*a[1]*a[2]),s=0,c=0,f=0,p=0,g=t.dataExtent[4];g<=t.dataExtent[5];g++){f=t.gridSpacing[2]?g%t.gridSpacing[2]===t.gridOrigin[2]:0;for(var h=t.dataExtent[2];h<=t.dataExtent[3];h++){c=t.gridSpacing[1]?h%t.gridSpacing[1]===t.gridOrigin[1]:0;for(var v=t.dataExtent[0];v<=t.dataExtent[1];v++)s=t.gridSpacing[0]?v%t.gridSpacing[0]===t.gridOrigin[0]:0,u[p]=f||c||s?t.lineValue:t.fillValue,p++}}var m=d["default"].newInstance({numberOfComponents:1,values:u});m.setName("scalars");var y=i.getPointData();y.setScalars(m),n[0]=i}()}}t.classHierarchy.push("vtkImageGridSource"),e.requestData=n}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),s.obj(e,t),s.setGet(e,t,["lineValue","fillValue"]),s.setGetArray(e,t,["gridOrigin","gridSpacing","dataOrigin","dataSpacing"],3),s.setGetArray(e,t,["dataExtent"],6),s.algo(e,t,0,1),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.vtkImageGridSource=i,t.extend=a;var u=n(13),s=o(u),c=n(21),l=r(c),f=n(25),d=r(f),p={lineValue:0,fillValue:255,gridSpacing:[10,10,0],gridOrigin:[0,0,0],dataSpacing:[1,1,1],dataOrigin:[0,0,0],dataExtent:[0,255,0,255,0,0]},g=t.newInstance=s.newInstance(a,"vtkImageGridSource");t["default"]={newInstance:g,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkImageData"),e.setExtent=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t.deleted)return void console.log("instance deleted - can not call any method");if(r&&6===r.length){var i=!1;t.extent.forEach(function(e,t){if(e!==r[t]){if(i)return;i=!0}}),i&&(t.extent=[].concat(r),t.dataDescription=d["default"].getDataDescriptionFromExtent(t.extent),e.modified())}},e.setDimensions=function(t,n,r){return e.setExtent(0,t-1,0,n-1,0,r-1)},e.getDimensions=function(){return[t.extent[1]-t.extent[0]+1,t.extent[3]-t.extent[2]+1,t.extent[5]-t.extent[4]+1]},e.getNumberOfCells=function(){for(var t=e.getDimensions(),n=1,r=0;r<3;r++){if(0===t[r])return 0;t[r]>1&&(n*=t[r]-1)}return n},e.getNumberOfPoints=function(){var t=e.getDimensions();return t[0]*t[1]*t[2]},e.getPoint=function(n){var r=e.getDimensions(),o=[0,0,0],i=[0,0,0];if(0===r[0]||0===r[1]||0===r[2])return console.error("Requesting a point from an empty image."),null;switch(t.dataDescription){case p.VTK_STRUCTURED_TYPE.VTK_EMPTY:return null;case p.VTK_STRUCTURED_TYPE.VTK_SINGLE_POINT:break;case p.VTK_STRUCTURED_TYPE.VTK_X_LINE:o[0]=n;break;case p.VTK_STRUCTURED_TYPE.VTK_Y_LINE:o[1]=n;break;case p.VTK_STRUCTURED_TYPE.VTK_Z_LINE:o[2]=n;break;case p.VTK_STRUCTURED_TYPE.VTK_XY_PLANE:o[0]=n%r[0],o[1]=n/r[0];break;case p.VTK_STRUCTURED_TYPE.VTK_YZ_PLANE:o[1]=n%r[1],o[2]=n/r[1];break;case p.VTK_STRUCTURED_TYPE.VTK_XZ_PLANE:o[0]=n%r[0],o[2]=n/r[0];break;case p.VTK_STRUCTURED_TYPE.VTK_XYZ_GRID:o[0]=n%r[0],o[1]=n/r[0]%r[1],o[2]=n/(r[0]*r[1]);break;default:console.error("Invalid dataDescription")}for(var a=0;a<3;a++)i[a]=t.origin[a]+(o[a]+t.extent[2*a])*t.spacing[a];return i},e.getBounds=function(){return[t.origin[0]+t.extent[0]*t.spacing[0],t.origin[0]+t.extent[1]*t.spacing[0],t.origin[1]+t.extent[2]*t.spacing[1],t.origin[1]+t.extent[3]*t.spacing[1],t.origin[2]+t.extent[4]*t.spacing[2],t.origin[2]+t.extent[5]*t.spacing[2]]}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l["default"].extend(e,t,n),s.setGetArray(e,t,["origin","spacing"],3),s.getArray(e,t,["extent"],6),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(22),l=r(c),f=n(28),d=r(f),p=n(29),g={spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:p.VTK_STRUCTURED_TYPE.VTK_EMPTY},h=t.newInstance=s.newInstance(a,"vtkImageData");t["default"]={newInstance:h,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkDataSet"),p.forEach(function(e){t[e]?t[e]=(0,l["default"])(t[e]):t[e]=d["default"].newInstance()})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),s.obj(e,t),s.setGet(e,t,p),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(14),l=r(c),f=n(23),d=r(f),p=["pointData","cellData","fieldData"],g={},h=t.newInstance=s.newInstance(a,"vtkDataSet");t["default"]={newInstance:h,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){function n(e){var t=r.find(function(t){return f.AttributeTypes[t.toUpperCase()]===e||"number"!=typeof e&&t.toLowerCase()===e.toLowerCase()});return"undefined"==typeof t&&(t=null),t}var r=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];t.classHierarchy.push("vtkDataSetAttributes"),e.checkNumberOfComponents=function(e){return!0},e.setAttribute=function(r,o){var i=n(o);if(r&&"PEDIGREEIDS"===i.toUpperCase()&&!r.isA("vtkDataArray"))return console.warn("Can not set attribute "+i+". The attribute must be a vtkDataArray."),-1;if(r&&!e.checkNumberOfComponents(r,i))return console.warn("Can not set attribute "+i+". Incorrect number of components."),-1;var a=t["active"+i];if(a>=0&&a<t.arrays.length){if(t.arrays[a]===r)return a;e.removeArrayByIndex(a)}return r?(a=e.addArray(r),t["active"+i]=a):t["active"+i]=-1,e.modified(),t["active"+i]},e.setActiveAttributeByName=function(t,n){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e.setActiveAttributeByIndex=function(r,o){var i=n(o);if(r>=0&&r<t.arrays.length){if("PEDIGREEIDS"!==i.toUpperCase()){
var a=e.getArrayByIndex(r);if(!a.isA("vtkDataArray"))return console.warn("Can not set attribute "+i+". Only vtkDataArray subclasses can be set as active attributes."),-1;if(!e.checkNumberOfComponents(a,i))return console.warn("Can not set attribute "+i+". Incorrect number of components."),-1}return t["active"+i]=r,e.modified(),r}return r===-1&&(t["active"+i]=r,e.modified()),-1},e.getActiveAttribute=function(t){var r=n(t);return e["get"+r]()},r.forEach(function(n){e["get"+n]=function(){return e.getArrayByIndex(t["active"+n])},e["set"+n]=function(t){return e.setAttribute(t,n)},e["setActive"+n]=function(t){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)}}),e.initialize=s.chain(e.initialize,function(){t.copyAttributeFlags=[],Object.keys(f.AttributeCopyOperations).filter(function(e){return"ALLCOPY"!==e}).forEach(function(e){t.copyAttributeFlags[f.AttributeCopyOperations[e]]=Object.keys(f.AttributeTypes).filter(function(e){return"NUM_ATTRIBUTES"!==e}).reduce(function(e,t){return e[f.AttributeTypes[t]]=!0,e},[])}),t.copyAttributeFlags[f.AttributeCopyOperations.COPYTUPLE][f.AttributeTypes.GLOBALIDS]=!1,t.copyAttributeFlags[f.AttributeCopyOperations.INTERPOLATE][f.AttributeTypes.GLOBALIDS]=!1,t.copyAttributeFlags[f.AttributeCopyOperations.COPYTUPLE][f.AttributeTypes.PEDIGREEIDS]=!1}),t.dataArrays&&Object.keys(t.dataArrays).length&&Object.keys(t.dataArrays).forEach(function(n){t.dataArrays[n].ref||"vtkDataArray"!==t.dataArrays[n].type||e.addArray(p["default"].newInstance(t.dataArrays[n]))})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,h,n),l["default"].extend(e,t,n),s.setGet(e,t,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),t.arrays||(t.arrays={}),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(24),l=r(c),f=n(27),d=n(25),p=r(d),g=n(14),h=(r(g),{activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1}),v=t.newInstance=s.newInstance(a,"vtkDataSetAttributes");t["default"]={newInstance:v,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkFieldData");var n=e.getState;t.arrays&&(t.arrays=t.arrays.map(function(e){return{data:(0,f["default"])(e.data)}})),e.initialize=function(){e.initializeFields(),e.copyAllOn(),e.clearFieldFlags()},e.initializeFields=function(){t.arrays=[],t.copyFieldFlags={},e.modified()},e.copyStructure=function(n){e.initializeFields(),t.copyFieldFlags=n.getCopyFieldFlags().map(function(e){return e}),t.arrays=n.arrays().map(function(e){return{array:e}})},e.getNumberOfArrays=function(){return t.arrays.length},e.getNumberOfActiveArrays=function(){return t.arrays.length},e.addArray=function(e){return t.arrays=[].concat(t.arrays,{data:e}),t.arrays.length-1},e.removeArray=function(e){t.arrays=t.arrays.filter(function(t){return e===t.data.getName()})},e.removeArrayByIndex=function(e){t.arrays=t.arrays.filter(function(t,n){return n===e})},e.getArrays=function(){return t.arrays.map(function(e){return e.data})},e.getArray=function(t){return"number"==typeof t?e.getArrayByIndex(t):e.getArrayByName(t)},e.getArrayByName=function(e){return t.arrays.reduce(function(t,n,r){return n.data.getName()===e?n.data:t},null)},e.getArrayWithIndex=function(e){return t.arrays.reduce(function(t,n,r){return n.data&&n.data.getName()===e?{array:n.data,index:r}:t},{array:null,index:-1})},e.getArrayByIndex=function(e){return e>=0&&e<t.arrays.length?t.arrays[e].data:null},e.hasArray=function(t){return e.getArrayWithIndex(t).index>=0},e.getArrayName=function(e){var n=t.arrays[e];return n?n.data.getName():""},e.getCopyFieldFlags=function(){return t.copyFieldFlags},e.getFlag=function(e){return t.copyFieldFlags[e]},e.passData=function(n){n.getArrays().forEach(function(n,r){var o=e.getFlag(n.getName());o===!1||t.doCopyAllOff&&o!==!0||!n||e.addArray(n)})},e.copyFieldOn=function(e){t.copyFieldFlags[e]=!0},e.copyFieldOff=function(e){t.copyFieldFlags[e]=!1},e.copyAllOn=function(){t.doCopyAllOn&&!t.doCopyAllOff||(t.doCopyAllOn=!0,t.doCopyAllOff=!1,e.modified())},e.copyAllOff=function(){!t.doCopyAllOn&&t.doCopyAllOff||(t.doCopyAllOn=!1,t.doCopyAllOff=!0,e.modified())},e.clearFieldFlags=function(){t.copyFieldFlags={}},e.deepCopy=function(e){t.arrays=e.getArrays().map(function(e){var t=e.newClone();return t.deepCopy(e),{data:t}})},e.copyFlags=function(e){return e.getCopyFieldFlags().map(function(e){return e})},e.reset=function(){return t.arrays.forEach(function(e){return e.data.reset()})},e.getMTime=function(){return t.arrays.reduce(function(e,t){return t.data.getMTime()>e?t.data.getMTime():e},t.mtime)},e.getNumberOfComponents=function(){return t.arrays.reduce(function(e,t){return e+t.data.getNumberOfComponents()},0)},e.getNumberOfTuples=function(){return t.arrays.length>0?t.arrays[0].getNumberOfTuples():0},e.getState=function(){var e=n();return e.arrays=t.arrays.map(function(e){return{data:e.data.getState()}}),e}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),s.obj(e,t),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(25),l=(r(c),n(14)),f=r(l),d={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1},p=t.newInstance=s.newInstance(a,"vtkFieldData");t["default"]={newInstance:p,extend:a}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r={min:Number.MAX_VALUE,max:Number.MIN_VALUE};if(t<0)return console.log("vtkDataArray: Compute magnitude - NOT IMPLEMENTED"),r;for(var o=e.length,i=t;i<o;i+=n){var a=e[i];r.min>a&&(r.min=a),r.max<a&&(r.max=a)}return r}function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e||[];n.length<=t;)n.push(null);return n}function a(e){var t=0;return e.filter(function(e,n){return n===t&&(t+=e+1,!0)})}function u(e){return a(e).length}function s(e){return Object.prototype.toString.call(e).split(" ")[1].slice(0,-1)}function c(e,t){function n(){t.ranges=null,e.modified()}t.classHierarchy.push("vtkDataArray"),e.getElementComponentSize=function(){return t.values.BYTES_PER_ELEMENT},e.getComponent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=function(e,r,o){o!==t.values[e*t.numberOfComponents+r]&&(t.values[e*t.numberOfComponents+r]=o,n())},e.getData=function(){return t.values},e.getRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=e<0?t.numberOfComponents:e,r=null;return t.ranges||(t.ranges=i(t.ranges,t.numberOfComponents)),(r=t.ranges[n])?[r.min,r.max]:(r=t.ranges[n]=o(t.values,e,t.numberOfComponents),[r.min,r.max])},e.setTuple=function(e,n){for(var r=e*t.numberOfComponents,o=0;o<t.numberOfComponents;o++)t.values[r+o]=n[o]},e.getTuple=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,r=t.numberOfComponents||1;n.length&&(n.length=r);for(var o=e*r,i=0;i<r;i++)n[i]=t.values[o+i];return n},e.getTupleLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e*t.numberOfComponents},e.getNumberOfComponents=function(){return t.numberOfComponents},e.getNumberOfValues=function(){return t.values.length},e.getNumberOfTuples=function(){return t.values.length/t.numberOfComponents},e.getDataType=function(){return t.dataType},e.newClone=function(){return m({empty:!0,name:t.name,dataType:t.dataType,numberOfComponents:t.numberOfComponents})},e.getNumberOfCells=function(){return void 0!==t.numberOfCells?t.numberOfCells:(t.cellSizes=a(t.values),t.numberOfCells=t.cellSizes.length,t.numberOfCells)},e.getCellSizes=function(){return void 0!==t.cellSizes?t.cellSizes:(t.cellSizes=a(t.values),t.cellSizes)},e.getName=function(){return t.name||(e.modified(),t.name="vtkDataArray"+e.getMTime()),t.name},e.setData=function(e,r){t.values=e,t.size=e.length,t.dataType=s(e),r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!==0&&(t.numberOfComponents=1),n()},e.shallowCopy=function(){return m(Object.assign({},t))},e.getState=function(){var n=Object.assign({},t,{vtkClass:e.getClassName()});n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach(function(e){n[e]||delete n[e]});var r={};return Object.keys(n).sort().forEach(function(e){r[e]=n[e]}),r.mtime&&delete r.mtime,r}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,v,n),!t.empty&&!t.values&&!t.size)throw new TypeError("Can not create vtkDataArray object without: size > 0, values");t.values?Array.isArray(t.values)&&(t.values=window[t.dataType].from(t.values)):t.values=new window[t.dataType](t.size),t.values&&(t.size=t.values.length,t.dataType=s(t.values)),d.obj(e,t),d.set(e,t,["name"]),c(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=l;var f=n(13),d=r(f),p=n(26),g=[],h=t.STATIC={computeRange:o,extractCellSizes:a,getNumberOfCells:u,getDataType:s},v={name:"",numberOfComponents:1,size:0,dataType:p.VTK_DEFAULT_DATATYPE},m=t.newInstance=d.newInstance(l,"vtkDataArray");t["default"]=Object.assign({newInstance:m,extend:l},h)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.VTK_BYTE_SIZE={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},r=t.VTK_DATATYPES={CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},o=t.VTK_DEFAULT_DATATYPE="Float32Array";t["default"]={VTK_DEFAULT_DATATYPE:o,VTK_BYTE_SIZE:n,VTK_DATATYPES:r}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.AttributeTypes={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},r=t.AttributeLimitTypes={MAX:0,EXACT:1,NOLIMIT:2},o=t.CellGhostTypes={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},i=t.PointGhostTypes={DUPLICATEPOINT:1,HIDDENPOINT:2},a=t.AttributeCopyOperations={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},u=t.ghostArrayName="vtkGhostType";t["default"]={AttributeTypes:n,AttributeLimitTypes:r,CellGhostTypes:o,PointGhostTypes:i,ghostArrayName:u,AttributeCopyOperations:a}},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<3;++n)e[2*n]<e[2*n+1]&&t++;return e[0]>e[1]||e[2]>e[3]||e[4]>e[5]?o.VTK_STRUCTURED_TYPE.VTK_EMPTY:3===t?o.VTK_STRUCTURED_TYPE.VTK_XYZ_GRID:2===t?e[0]===e[1]?o.VTK_STRUCTURED_TYPE.VTK_YZ_PLANE:e[2]===e[3]?o.VTK_STRUCTURED_TYPE.VTK_XZ_PLANE:o.VTK_STRUCTURED_TYPE.VTK_XY_PLANE:1===t?e[0]<e[1]?o.VTK_STRUCTURED_TYPE.VTK_X_LINE:e[2]<e[3]?o.VTK_STRUCTURED_TYPE.VTK_Y_LINE:o.VTK_STRUCTURED_TYPE.VTK_Z_LINE:o.VTK_STRUCTURED_TYPE.VTK_SINGLE_POINT}Object.defineProperty(t,"__esModule",{value:!0}),t.getDataDescriptionFromExtent=r;var o=n(29);t["default"]={getDataDescriptionFromExtent:r}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.VTK_STRUCTURED_TYPE={VTK_UNCHANGED:0,VTK_SINGLE_POINT:1,VTK_X_LINE:2,VTK_Y_LINE:3,VTK_Z_LINE:4,VTK_XY_PLANE:5,VTK_YZ_PLANE:6,VTK_XZ_PLANE:7,VTK_XYZ_GRID:8,VTK_EMPTY:9};t["default"]={VTK_STRUCTURED_TYPE:n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkImageMapper"),e.update=function(){e.getInputData()},e.getBounds=function(){var n=e.getInputData();if(!n)return l["default"].createUninitializedBounds();if(!t.useCustomExtents)return n.getBounds();var r=n.getOrigin(),o=n.getSpacing(),i=[];return i[0]=r[0]+t.customDisplayExtent[0]*o[0],i[1]=r[0]+t.customDisplayExtent[1]*o[0],i[2]=r[1]+t.customDisplayExtent[2]*o[1],i[3]=r[1]+t.customDisplayExtent[3]*o[1],i[4]=r[2]+t.zSlice*o[2],i[5]=r[2]+t.zSlice*o[2],i},e.getIsOpaque=function(){return!0}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),s.obj(e,t),s.algo(e,t,1,0),s.setGet(e,t,["zSlice","useCustomExtents","renderToRectangle"]),s.setGetArray(e,t,["customDisplayExtent"],4),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(31),l=r(c),f={displayExtent:[0,0,0,0,0,0],customDisplayExtent:[0,0,0,0],useCustomExtents:!1,zSlice:0,renderToRectangle:!1},d=t.newInstance=s.newInstance(a,"vtkImageMapper");t["default"]={newInstance:d,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){return console.log("vtkMath::"+e+" - NOT IMPLEMENTED")}}function i(e,t){for(var n=0;n<3;n++){var r=e[n];e[n]=t[n],t[n]=r}}function a(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=[];t.length<e;)t.push(0);return t}function u(e,t){for(var n=1,r=1;r<=t;++r)n*=(e-r+1)/r;return Math.floor(n)}function s(e,t){if(e<t)return 0;for(var n=a(t),r=0;r<t;++r)n[r]=r;return n}function c(e,t,n){for(var r=0,o=t-1;o>=0;--o)if(n[o]<e-t+o){for(var i=n[o]+1;o<t;)n[o++]=i++;r=1;break}return r}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t-e;return e+n*Math.random()}function f(e,t,n){n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2]}function d(e,t,n){n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2]}function p(e,t){e[0]*=t,e[1]*=t,e[2]*=t}function g(e,t){e[0]*=t,e[1]*=t}function h(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function v(e,t,n){for(var r=0;r<3;r++)for(var o=0;o<3;o++)n[r][o]=e[r]*t[o]}function m(e,t,n){var r=e[1]*t[2]-e[2]*t[1],o=e[2]*t[0]-e[0]*t[2],i=e[0]*t[1]-e[1]*t[0];n[0]=r,n[1]=o,n[2]=i}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;switch(t){case 1:return Math.abs(e);case 2:return Math.sqrt(e[0]*e[0]+e[1]*e[1]);case 3:return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);default:for(var n=0,r=0;r<t;r++)n+=e[r]*e[r];return Math.sqrt(n)}}function T(e){var t=y(e);return 0!==t&&(e[0]/=t,e[1]/=t,e[2]/=t),t}function b(e,t,n,r){var o=e[0]*e[0],i=e[1]*e[1],a=e[2]*e[2],u=Math.sqrt(o+i+a),s=void 0,c=void 0,l=void 0;o>i&&o>a?(s=0,c=1,l=2):i>a?(s=1,c=2,l=0):(s=2,c=0,l=1);var f=e[s]/u,d=e[c]/u,p=e[l]/u,g=Math.sqrt(f*f+p*p);if(0!==r){var h=Math.sin(r),v=Math.cos(r);t&&(t[s]=(p*v-f*d*h)/g,t[c]=h*g,t[l]=(-(f*v)-d*p*h)/g),n&&(n[s]=(-(p*h)-f*d*v)/g,n[c]=v*g,n[l]=(f*h-d*p*v)/g)}else t&&(t[s]=p/g,t[c]=0,t[l]=-f/g),n&&(n[s]=-f*d/g,n[c]=g,n[l]=-d*p/g)}function x(e,t,n){var r=h(t,t);if(0===r)return n[0]=0,n[1]=0,n[2]=0,!1;for(var o=h(e,t)/r,i=0;i<3;i++)n[i]=t[i];return p(n,o),!0}function w(e,t){return e[0]*t[0]+e[1]*t[1]}function E(e,t,n){var r=w(t,t);if(0===r)return n[0]=0,n[1]=0,!1;for(var o=w(e,t)/r,i=0;i<2;i++)n[i]=t[i];return g(n,o),!0}function C(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2])}function A(e,t){var n=[0,0,0];return m(e,t,n),Math.atan2(y(m),h(e,t))}function M(e,t,n){var r=Math.abs(e-n);return 1/Math.sqrt(2*Math.PI*t)*Math.exp(-Math.pow(r,2)/(2*t))}function _(e,t,n){var r=Math.abs(e-n);return Math.exp(-Math.pow(r,2)/(2*t))}function P(e,t,n){for(var r=0;r<2;r++)for(var o=0;o<2;o++)n[r][o]=e[r]*t[o]}function S(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function O(e){var t=S(e);return 0!==t&&(e[0]/=t,e[1]/=t),t}function I(e,t){return e[0]*t[1]-t[0]*e[1]}function R(e,t){for(var n=void 0,r=void 0,o=void 0,a=[0,0,0],u=0;u<3;u++)o=Math.abs(e[u][0]),(r=Math.abs(e[u][1]))>o&&(o=r),(r=Math.abs(e[u][2]))>o&&(o=r),a[u]=1/o;o=a[0]*Math.abs(e[0][0]),n=0,(r=a[1]*Math.abs(e[1][0]))>=o&&(o=r,n=1),(r=a[2]*Math.abs(e[2][0]))>=o&&(n=2),0!==n&&(i(e[n],e[0]),a[n]=a[0]),t[0]=n,e[1][0]/=e[0][0],e[2][0]/=e[0][0],e[1][1]-=e[1][0]*e[0][1],e[2][1]-=e[2][0]*e[0][1],o=a[1]*Math.abs(e[1][1]),n=1,(r=a[2]*Math.abs(e[2][1]))>=o&&(n=2,i(e[2],e[1]),a[2]=a[1]),t[1]=n,e[2][1]/=e[1][1],e[1][2]-=e[1][0]*e[0][2],e[2][2]-=e[2][0]*e[0][2]+e[2][1]*e[1][2],t[2]=2}function V(e,t,n){var r=n[t[0]];n[t[0]]=n[0],n[0]=r,r=n[t[1]],n[t[1]]=n[1],n[1]=r-e[1][0]*n[0],r=n[t[2]],n[t[2]]=n[2],n[2]=r-e[2][0]*n[0]-e[2][1]*n[1],n[2]/=e[2][2],n[1]=(n[1]-e[1][2]*n[2])/e[1][1],n[0]=(n[0]-e[0][1]*n[1]-e[0][2]*n[2])/e[0][0]}function L(e,t,n){var r=e[0][0],o=e[0][1],i=e[0][2],a=e[1][0],u=e[1][1],s=e[1][2],c=e[2][0],l=e[2][1],f=e[2][2],d=+I(u,l,s,f),p=-I(a,c,s,f),g=+I(a,c,u,l),h=-I(o,l,i,f),v=+I(r,c,i,f),m=-I(r,c,o,l),y=+I(o,u,i,s),T=-I(r,a,i,s),b=+I(r,a,o,u),x=r*d+o*p+i*g,w=d*t[0]+h*t[1]+y*t[2],E=p*t[0]+v*t[1]+T*t[2],C=g*t[0]+m*t[1]+b*t[2];n[0]=w/x,n[1]=E/x,n[2]=C/x}function D(e,t,n){var r=e[0][0]*t[0]+e[0][1]*t[1]+e[0][2]*t[2],o=e[1][0]*t[0]+e[1][1]*t[1]+e[1][2]*t[2],i=e[2][0]*t[0]+e[2][1]*t[1]+e[2][2]*t[2];n[0]=r,n[1]=o,n[2]=i}function N(e,t,n){for(var r=[[0,0,0],[0,0,0],[0,0,0]],o=0;o<3;o++)r[0][o]=e[0][0]*t[0][o]+e[0][1]*t[1][o]+e[0][2]*t[2][o],r[1][o]=e[1][0]*t[0][o]+e[1][1]*t[1][o]+e[1][2]*t[2][o],r[2][o]=e[2][0]*t[0][o]+e[2][1]*t[1][o]+e[2][2]*t[2][o];for(var i=0;i<3;i++)n[i][0]=r[i][0],n[i][1]=r[i][1],n[i][2]=r[i][2]}function B(e,t,n,r,o,i,a){r!==o&&console.error("Number of columns of A must match number of rows of B.");for(var u=0;u<n;u++)for(var s=0;s<i;s++){a[u][s]=0;for(var c=0;c<r;c++)a[u][s]+=e[u][c]*t[c][s]}}function k(e,t){var n=void 0;n=e[1][0],t[1][0]=e[0][1],t[0][1]=n,n=e[2][0],t[2][0]=e[0][2],t[0][2]=n,n=e[2][1],t[2][1]=e[1][2],t[1][2]=n,t[0][0]=e[0][0],t[1][1]=e[1][1],t[2][2]=e[2][2]}function U(e,t){var n=e[0][0],r=e[0][1],o=e[0][2],i=e[1][0],a=e[1][1],u=e[1][2],s=e[2][0],c=e[2][1],l=e[2][2],f=+I(a,c,u,l),d=-I(i,s,u,l),p=+I(i,s,a,c),g=-I(r,c,o,l),h=+I(n,s,o,l),v=-I(n,s,r,c),m=+I(r,a,o,u),y=-I(n,i,o,u),T=+I(n,i,r,a),b=n*f+r*d+o*p;t[0][0]=f/b,t[1][0]=d/b,t[2][0]=p/b,t[0][1]=g/b,t[1][1]=h/b,t[2][1]=v/b,t[0][2]=m/b,t[1][2]=y/b,t[2][2]=T/b}function F(e){for(var t=0;t<3;t++)e[t][0]=e[t][1]=e[t][2]=0,e[t][t]=1}function j(e){return e[0][0]*e[1][1]*e[2][2]+e[1][0]*e[2][1]*e[0][2]+e[2][0]*e[0][1]*e[1][2]-e[0][0]*e[2][1]*e[1][2]-e[1][0]*e[0][1]*e[2][2]-e[2][0]*e[1][1]*e[0][2]}function K(e,t){var n=e[0]*e[0],r=e[0]*e[1],o=e[0]*e[2],i=e[0]*e[3],a=e[1]*e[1],u=e[2]*e[2],s=e[3]*e[3],c=e[1]*e[2],l=e[1]*e[3],f=e[2]*e[3],d=a+u+s,p=1/(n+d),g=(n-d)*p;p*=2,t[0][0]=a*p+g,t[1][0]=(c+i)*p,t[2][0]=(l-o)*p,t[0][1]=(c-i)*p,t[1][1]=u*p+g,t[2][1]=(f+r)*p,t[0][2]=(l+o)*p,t[1][2]=(f-r)*p,t[2][2]=s*p+g}function G(e,t,n,r){var o=void 0,i=void 0,u=void 0,s=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=void 0,g=void 0,h=void 0,v=void 0,m=void 0,y=void 0,T=void 0,b=void 0,x=a(t),w=a(t),E=function(t,n,r,o,i){y=t[n][r],m=t[o][i],e[n][r]=y-v*(m+y*g),e[o][i]=m+v*(y-m*g)};for(c=0;c<t;c++){for(s=0;s<t;s++)r[c][s]=0;r[c][c]=1}for(c=0;c<t;c++)x[c]=n[c]=e[c][c],w[c]=0;for(o=0;o<Ce;o++){for(h=0,c=0;c<t-1;c++)for(s=c+1;s<t;s++)h+=Math.abs(e[c][s]);if(0===h)break;for(f=o<3?.2*h/(t*t):0,c=0;c<t-1;c++)for(s=c+1;s<t;s++)if(y=100*Math.abs(e[c][s]),o>3&&Math.abs(n[c])+y===Math.abs(n[c])&&Math.abs(n[s])+y===Math.abs(n[s]))e[c][s]=0;else if(Math.abs(e[c][s])>f){for(m=n[s]-n[c],Math.abs(m)+y===Math.abs(m)?p=e[c][s]/m:(d=.5*m/e[c][s],p=1/(Math.abs(d)+Math.sqrt(1+d*d)),d<0&&(p=-p)),T=1/Math.sqrt(1+p*p),v=p*T,g=v/(1+T),m=p*e[c][s],w[c]-=m,w[s]+=m,n[c]-=m,n[s]+=m,e[c][s]=0,i=0;i<=c-1;i++)E(e,i,c,i,s);for(i=c+1;i<=s-1;i++)E(e,c,i,i,s);for(i=s+1;i<t;i++)E(e,c,i,s,i);for(i=0;i<t;i++)E(r,i,c,i,s)}for(c=0;c<t;c++)x[c]+=w[c],n[c]=x[c],w[c]=0}if(o>=Ce)return console.warn("vtkMath::Jacobi: Error extracting eigenfunctions"),0;for(i=0;i<t-1;i++){for(u=i,b=n[u],o=i+1;o<t;o++)n[o]>=b&&(u=o,b=n[u]);if(u!==i)for(n[u]=n[i],n[i]=b,o=0;o<t;o++)b=r[o][i],r[o][i]=r[o][u],r[o][u]=b}var C=(t>>1)+(1&t);for(i=0;i<t;i++){for(l=0,o=0;o<t;o++)r[o][i]>=0&&l++;if(l<C)for(o=0;o<t;o++)r[o][i]*=-1}return 1}function z(e,t){var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];n[0][0]=e[0][0]+e[1][1]+e[2][2],n[1][1]=e[0][0]-e[1][1]-e[2][2],n[2][2]=-e[0][0]+e[1][1]-e[2][2],n[3][3]=-e[0][0]-e[1][1]+e[2][2],n[0][1]=n[1][0]=e[2][1]-e[1][2],n[0][2]=n[2][0]=e[0][2]-e[2][0],n[0][3]=n[3][0]=e[1][0]-e[0][1],n[1][2]=n[2][1]=e[1][0]+e[0][1],n[1][3]=n[3][1]=e[0][2]+e[2][0],n[2][3]=n[3][2]=e[2][1]+e[1][2];for(var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=[0,0,0,0],i=[0,0,0,0],a=[0,0,0,0],u=0;u<4;u++)i[u]=n[u],a[u]=r[u];G(i,4,o,a),t[0]=r[0][0],t[1]=r[1][0],t[2]=r[2][0],t[3]=r[3][0]}function Y(e,t,n){var r=e[0]*t[0],o=e[0]*t[1],i=e[0]*t[2],a=e[0]*t[3],u=e[1]*t[0],s=e[1]*t[1],c=e[1]*t[2],l=e[1]*t[3],f=e[2]*t[0],d=e[2]*t[1],p=e[2]*t[2],g=e[2]*t[3],h=e[3]*t[0],v=e[3]*t[1],m=e[3]*t[2],y=e[3]*t[3];n[0]=r-s-p-y,n[1]=o+u+g-m,n[2]=i-l+f+v,n[3]=a+c-d+h}function W(e,t){for(var n=0;n<3;n++)t[0][n]=e[0][n],t[1][n]=e[1][n],t[2][n]=e[2][n];for(var r=a(3),o=a(3),u=void 0,s=0;s<3;s++){var c=Math.abs(t[s][0]),l=Math.abs(t[s][1]),f=Math.abs(t[s][2]);u=l>c?l:c,u=f>u?f:u,r[s]=1,0!==u&&(r[s]/=u)}var d=Math.abs(t[0][0])*r[0],p=Math.abs(t[1][0])*r[1],g=Math.abs(t[2][0])*r[2];o[0]=0,u=d,p>=u&&(u=p,o[0]=1),g>=u&&(o[0]=2),0!==o[0]&&(i(t[o[0]],t[0]),r[o[0]]=r[0]);var h=Math.abs(t[1][1])*r[1],v=Math.abs(t[2][1])*r[2];o[1]=1,u=h,v>=u&&(o[1]=2,i(t[2],t[1])),o[2]=2;var m=0;if(j(t)<0){m=1;for(var y=0;y<3;y++)t[0][y]=-t[0][y],t[1][y]=-t[1][y],t[2][y]=-t[2][y]}var T=a(4);if(z(t,T),K(T,t),m)for(var b=0;b<3;b++)t[0][b]=-t[0][b],t[1][b]=-t[1][b],t[2][b]=-t[2][b];1!==o[1]&&i(t[o[1]],t[1]),0!==o[0]&&i(t[o[0]],t[0])}function H(e,t,n){var r=void 0,o=void 0,u=void 0,s=void 0,c=void 0,l=void 0,f=[a(3),a(3),a(3)],d=a(3),p=a(3);for(r=0;r<3;r++)f[r][0]=e[r][0],f[r][1]=e[r][1],f[r][2]=e[r][2],d[r]=f[r],p[r]=n[r];if(G(d,3,t,p),t[0]===t[1]&&t[0]===t[2])return void F(n);for(k(n,n),r=0;r<3;r++)if(t[(r+1)%3]===t[(r+2)%3]){for(l=Math.abs(n[r][0]),s=0,o=1;o<3;o++)l<(c=Math.abs(n[r][o]))&&(l=c,s=o);return s!==r&&(c=t[s],t[s]=t[r],t[r]=c,i(n[r],n[s])),n[s][s]<0&&(n[s][0]=-n[s][0],n[s][1]=-n[s][1],n[s][2]=-n[s][2]),o=(s+1)%3,u=(s+2)%3,n[o][0]=0,n[o][1]=0,n[o][2]=0,n[o][o]=1,m(n[s],n[o],n[u]),T(n[u]),m(n[u],n[s],n[o]),void k(n,n)}for(l=Math.abs(n[0][0]),s=0,r=1;r<3;r++)l<(c=Math.abs(n[r][0]))&&(l=c,s=r);for(0!==s&&(c=t[s],t[s]=t[0],t[0]=c,i(n[s],n[0])),Math.abs(n[1][1])<Math.abs(n[2][1])&&(c=t[2],t[2]=t[1],t[1]=c,i(n[2],n[1])),r=0;r<2;r++)n[r][r]<0&&(n[r][0]=-n[r][0],n[r][1]=-n[r][1],n[r][2]=-n[r][2]);j(n)<0&&(n[2][0]=-n[2][0],n[2][1]=-n[2][1],n[2][2]=-n[2][2]),k(n,n)}function q(e,t,n,r){var o=void 0,i=[a(3),a(3),a(3)];for(o=0;o<3;o++)i[0][o]=e[0][o],i[1][o]=e[1][o],i[2][o]=e[2][o];var u=j(i);if(u<0)for(o=0;o<3;o++)i[0][o]=-i[0][o],i[1][o]=-i[1][o],i[2][o]=-i[2][o];W(i,t),k(i,i),N(i,t,r),H(r,n,r),N(t,r,t),k(r,r),u<0&&(n[0]=-n[0],n[1]=-n[1],n[2]=-n[2])}function X(e,t,n){var r=void 0,o=void 0,i=void 0,u=void 0,s=0,c=void 0,l=void 0,f=void 0,d=a(n);for(r=0;r<n;r++){for(u=0,o=0;o<n;o++)(f=Math.abs(e[r][o]))>u&&(u=f);if(0===u)return console.warn("Unable to factor linear system"),0;d[r]=1/u}for(o=0;o<n;o++){for(r=0;r<o;r++){for(c=e[r][o],i=0;i<r;i++)c-=e[r][i]*e[i][o];e[r][o]=c}for(u=0,r=o;r<n;r++){for(c=e[r][o],i=0;i<o;i++)c-=e[r][i]*e[i][o];e[r][o]=c,(l=d[r]*Math.abs(c))>=u&&(u=l,s=r)}if(o!==s){for(i=0;i<n;i++)l=e[s][i],e[s][i]=e[o][i],e[o][i]=l;d[s]=d[o]}if(t[o]=s,Math.abs(e[o][o])<=Ae)return console.warn("Unable to factor linear system"),0;if(o!==n-1)for(l=1/e[o][o],r=o+1;r<n;r++)e[r][o]*=l}return 1}function Z(e,t,n,r){var o=void 0,i=void 0,a=void 0,u=void 0,s=void 0;for(a=-1,o=0;o<r;o++){if(u=t[o],s=n[u],n[u]=n[o],a>=0)for(i=a;i<=o-1;i++)s-=e[o][i]*n[i];else 0!==s&&(a=o);n[o]=s}for(o=r-1;o>=0;o--){for(s=n[o],i=o+1;i<r;i++)s-=e[o][i]*n[i];n[o]=s/e[o][o]}}function J(e,t,n){if(2===n){var r=a(2),o=I(e[0][0],e[0][1],e[1][0],e[1][1]);return 0===o?0:(r[0]=(e[1][1]*t[0]-e[0][1]*t[1])/o,r[1]=(-(e[1][0]*t[0])+e[0][0]*t[1])/o,t[0]=r[0],t[1]=r[1],1)}if(1===n)return 0===e[0][0]?0:(t[0]/=e[0][0],1);var i=a(n);return 0===X(e,i,n)?0:(Z(e,i,t,n),1)}function Q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=r||a(n),u=o||a(n);if(0===X(e,i,n,u))return 0;for(var s=0;s<n;s++){for(var c=0;c<n;c++)u[c]=0;u[s]=1,Z(e,i,u,n);for(var l=0;l<n;l++)t[l][s]=u[l]}return 1}function $(e,t){for(var n=+Number.MAX_VALUE,r=-Number.MAX_VALUE,o=0;o<t;o++)for(var i=o;i<t;i++)Math.abs(e[o][i])>Le&&(r=Math.abs(e[o][i]));for(var a=0;a<t;a++)Math.abs(e[a][a])<Ve&&(n=Math.abs(e[a][a]));return 0===n?Number.MAX_VALUE:r/n}function ee(e,t,n){return G(e,3,t,n)}function te(e,t,n,r){if(e<n)return console.warn("Insufficient number of samples. Underdetermined."),0;var o=void 0,i=void 0,u=void 0,s=a(n),c=a(n),l=a(n);for(o=0;o<n;o++)for(l[o]=a(n),s[o]=a(n),i=0;i<n;i++)s[o][i]=0;for(u=0;u<e;u++)for(o=0;o<n;o++)for(i=o;i<n;i++)s[o][i]+=t[u][o]*t[u][i];for(o=0;o<n;o++)for(i=0;i<o;i++)s[o][i]=s[i][o];for(G(s,n,c,l),o=0;o<n;o++)r[o][0]=l[o][n-1];return 1}function ne(e,t,n,r,o,i){var u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(e<n||e<o)return console.warn("Insufficient number of samples. Underdetermined."),0;var s=a(o),c=1,l=void 0,f=0,d=void 0,p=void 0,g=void 0,h=0;if(u){for(p=0;p<o;p++)s[p]=1;for(d=0;d<e;d++)for(p=0;p<o;p++)Math.abs(r[d][p])>Ae&&(c=0,s[p]=0);if(c&&1===o)return console.warn("Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()"),te(e,t,n,i);if(c)h=1;else for(p=0;p<o;p++)s[p]&&(h=1)}if(h){for(l=a(n),p=0;p<n;p++)l[p]=[0];f=te(e,t,n,l)}var v=a(n),m=a(n),y=a(n);for(d=0;d<n;d++){for(v[d]=a(n),m[d]=a(n),p=0;p<n;p++)v[d][p]=0,m[d][p]=0;for(y[d]=a(o),p=0;p<o;p++)y[d][p]=0}for(g=0;g<e;g++)for(d=0;d<n;d++){for(p=d;p<n;p++)v[d][p]+=t[g][d]*t[g][p];for(p=0;p<o;p++)y[d][p]+=t[g][d]*r[g][p]}for(d=0;d<n;d++)for(p=0;p<d;p++)v[d][p]=v[p][d];var T=Q(v,m,n);if(T)for(d=0;d<n;d++)for(p=0;p<o;p++)for(i[d][p]=0,g=0;g<n;g++)i[d][p]+=m[d][g]*y[g][p];if(h)for(p=0;p<o;p++)if(s[p])for(d=0;d<n;d++)i[d][p]=l[d][0];return h?f&&T:T}function re(e,t){var n=void 0,r=void 0,o=be(e,3),i=o[0],a=o[1],u=o[2],s=1/3,c=1/6,l=2/3,f=i,d=i;a>f?f=a:a<d&&(d=a),u>f?f=u:u<d&&(d=u);var p=f;r=p>0?(f-d)/f:0,r>0?(n=i===f?c*(a-u)/(f-d):a===f?s+c*(u-i)/(f-d):l+c*(i-a)/(f-d),n<0&&(n+=1)):n=0,t[0]=n,t[1]=r,t[2]=p}function oe(e,t){var n=be(e,3),r=n[0],o=n[1],i=n[2],a=1/3,u=1/6,s=2/3,c=5/6,l=void 0,f=void 0,d=void 0;r>u&&r<=a?(f=1,l=(a-r)/u,d=0):r>a&&r<=.5?(f=1,d=(r-a)/u,l=0):r>.5&&r<=s?(d=1,f=(s-r)/u,l=0):r>s&&r<=c?(d=1,l=(r-s)/u,f=0):r>c&&r<=1?(l=1,d=(1-r)/u,f=0):(l=1,f=r/u,d=0),l=o*l+(1-o),f=o*f+(1-o),d=o*d+(1-o),l*=i,f*=i,d*=i,t[0]=l,t[1]=f,t[2]=d}function ie(e,t){var n=be(e,3),r=n[0],o=n[1],i=n[2],a=(r+16)/116,u=o/500+a,s=a-i/200;a=Math.pow(a,3)>.008856?Math.pow(a,3):(a-16/116)/7.787,u=Math.pow(u,3)>.008856?Math.pow(u,3):(u-16/116)/7.787,s=Math.pow(s,3)>.008856?Math.pow(s,3):(s-16/116)/7.787;var c=.9505,l=1,f=1.089;t[0]=c*u,t[1]=l*a,t[2]=f*s}function ae(e,t){var n=be(e,3),r=n[0],o=n[1],i=n[2],a=.9505,u=1,s=1.089,c=r/a,l=o/u,f=i/s;c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,t[0]=116*l-16,t[1]=500*(c-l),t[2]=200*(l-f)}function ue(e,t){var n=be(e,3),r=n[0],o=n[1],i=n[2],a=3.2406*r+o*-1.5372+i*-.4986,u=r*-.9689+1.8758*o+.0415*i,s=.0557*r+o*-.204+1.057*i;a>.0031308?a=1.055*Math.pow(a,1/2.4)-.055:a*=12.92,u>.0031308?u=1.055*Math.pow(u,1/2.4)-.055:u*=12.92,s>.0031308?s=1.055*Math.pow(s,1/2.4)-.055:s*=12.92;var c=a;c<u&&(c=u),c<s&&(c=s),c>1&&(a/=c,u/=c,s/=c),a<0&&(a=0),u<0&&(u=0),s<0&&(s=0),t[0]=a,t[1]=u,t[2]=s}function se(e,t){var n=be(e,3),r=n[0],o=n[1],i=n[2];r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,o>.04045?o=Math.pow((o+.055)/1.055,2.4):o/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,t[0]=.4124*r+.3576*o+.1805*i,t[1]=.2126*r+.7152*o+.0722*i,t[2]=.0193*r+.1192*o+.9505*i}function ce(e,t){var n=[0,0,0];se(e,n),ae(n,t)}function le(e,t){var n=[0,0,0];ie(e,n),ue(n,t)}function fe(e){e[0]=1,e[1]=-1,e[2]=1,e[3]=-1,e[4]=1,e[5]=-1}function de(e){return!(e[1]-e[0]<0)}function pe(e,t,n){return e<t?t:e>n?n:e}function ge(e,t){var n=0;return t[0]!==t[1]&&(n=e<t[0]?t[0]:e>t[1]?t[1]:e,n=(n-t[0])/(t[1]-t[0])),n}function he(e,t){if(!e||!t)return 0;for(var n=0;n<6;n+=2)if(e[n]<t[n]||e[n]>t[n+1]||e[n+1]<t[n]||e[n+1]>t[n+1])return 0;return 1}function ve(e,t,n){if(!e||!t)return 0;for(var r=0;r<6;r+=2)if(e[r]+n[r/2]<t[r]||e[r]-n[r/2]>t[r+1]||e[r+1]+n[r/2]<t[r]||e[r+1]-n[r/2]>t[r+1])return 0;return 1}function me(e,t,n){if(!e||!t||!n)return 0;for(var r=0;r<3;r++)if(e[r]+n[r]<t[2*r]||e[r]-n[r]>t[2*r+1])return 0;return 1}function ye(e,t,n,r){for(var o=a(3),i=a(3),u=a(3),s=a(3),c=a(3),l=a(3),f=0;f<3;++f)o[f]=e[f]-t[f],i[f]=t[f]-n[f],u[f]=n[f]-e[f],s[f]=-o[f],c[f]=-i[f],l[f]=-u[f];var d=y(s),p=y(c),g=y(u),v=a(3);m(o,i,v);for(var T=y(v),b=d*p*g/(2*T),x=2*T*T,w=p*p*h(o,l)/x,E=g*g*h(s,i)/x,C=d*d*h(u,c)/x,A=0;A<3;++A)r[A]=w*e[A]+E*t[A]+C*n[A];return b}function Te(){return[].concat([Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE])}Object.defineProperty(t,"__esModule",{value:!0});var be=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xe=n(32),we=r(xe),Ee=0,Ce=20,Ae=1e-12,Me=function(){return Math.PI},_e=function(e){return e/180*Math.PI},Pe=function(e){return 180*e/Math.PI},Se=Math.round,Oe=Math.floor,Ie=Math.ceil,Re=o("ceilLog2"),Ve=Math.min,Le=Math.max,De=o("isPowerOfTwo"),Ne=o("nearestPowerOfTwo"),Be=o("factorial"),ke=function(e){(0,we["default"])(""+e,{global:!0}),Ee=e},Ue=function(){return Ee},Fe=o("gaussian"),je=o("GetScalarTypeFittingRange"),Ke=o("GetAdjustedScalarRange"),Ge=1/0,ze=-(1/0),Ye=function(e){return!Number.isFinite(e)},We=Number.isNaN,He=Number.isFinite;t["default"]={Pi:Me,radiansFromDegrees:_e,degreesFromRadians:Pe,round:Se,floor:Oe,ceil:Ie,ceilLog2:Re,min:Ve,max:Le,isPowerOfTwo:De,nearestPowerOfTwo:Ne,factorial:Be,binomial:u,beginCombination:s,nextCombination:c,randomSeed:ke,getSeed:Ue,random:l,gaussian:Fe,add:f,subtract:d,multiplyScalar:p,multiplyScalar2D:g,dot:h,outer:v,cross:m,norm:y,normalize:T,perpendiculars:b,projectVector:x,projectVector2D:E,distance2BetweenPoints:C,angleBetweenVectors:A,gaussianAmplitude:M,gaussianWeight:_,dot2D:w,outer2D:P,norm2D:S,normalize2D:O,determinant2x2:I,LUFactor3x3:R,LUSolve3x3:V,linearSolve3x3:L,multiply3x3_vect3:D,multiply3x3_mat3:N,multiplyMatrix:B,transpose3x3:k,invert3x3:U,identity3x3:F,determinant3x3:j,quaternionToMatrix3x3:K,matrix3x3ToQuaternion:z,multiplyQuaternion:Y,orthogonalize3x3:W,diagonalize3x3:H,singularValueDecomposition3x3:q,solveLinearSystem:J,invertMatrix:Q,luFactorLinearSystem:X,luSolveLinearSystem:Z,estimateMatrixCondition:$,jacobi:ee,jacobiN:G,solveHomogeneousLeastSquares:te,solveLeastSquares:ne,rgb2hsv:re,hsv2rgb:oe,lab2xyz:ie,xyz2lab:ae,xyz2rgb:ue,rgb2xyz:se,rgb2lab:ce,LabToRGB:le,uninitializeBounds:fe,areBoundsInitialized:de,clampValue:pe,clampAndNormalizeValue:ge,getScalarTypeFittingRange:je,getAdjustedScalarRange:Ke,extentIsWithinOtherExtent:he,boundsIsWithinOtherBounds:ve,pointIsWithinBounds:me,solve3PointCircle:ye,inf:Ge,negInf:ze,isInf:Ye,isNan:We,isFinite:He,createUninitializedBouds:Te}},function(e,t,n){var r=n(33),o=n(37),i=n(38),a=n(39),u=n(40),s=n(41),c=n(42);c.alea=r,c.xor128=o,c.xorwow=i,c.xorshift7=a,
c.xor4096=u,c.tychei=s,e.exports=c},function(e,t,n){var r;(function(e){!function(e,o,i){function a(e){var t=this,n=c();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new a(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o["double"]=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&u(r,n),o.state=function(){return u(n,{})}),o}function c(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return t}o&&o.exports?o.exports=s:n(35)&&n(36)?(r=function(){return s}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):this.alea=s}(this,"object"==typeof e&&e,n(35))}).call(t,n(34)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){var r;(function(e){!function(e,o,i){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n(35)&&n(36)?(r=function(){return s}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):this.xor128=s}(this,"object"==typeof e&&e,n(35))}).call(t,n(34)(e))},function(e,t,n){var r;(function(e){!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n(35)&&n(36)?(r=function(){return s}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):this.xorwow=s}(this,"object"==typeof e&&e,n(35))}).call(t,n(34)(e))},function(e,t,n){var r;(function(e){!function(e,o,i){function a(e){function t(e,t){var n,r,o=[];if(t===(0|t))r=o[0]=t;else for(t=""+t,n=0;n<t.length;++n)o[7&n]=o[7&n]<<15^t.charCodeAt(n)+o[n+1&7]<<13;for(;o.length<8;)o.push(0);for(n=0;n<8&&0===o[n];++n);for(r=8==n?o[7]=-1:o[n],e.x=o,e.i=0,n=256;n>0;--n)e.next()}var n=this;n.next=function(){var e,t,r=n.x,o=n.i;return e=r[o],e^=e>>>7,t=e^e<<24,e=r[o+1&7],t^=e^e>>>10,e=r[o+3&7],t^=e^e>>>3,e=r[o+4&7],t^=e^e<<7,e=r[o+7&7],e^=e<<13,t^=e^e<<9,r[o]=t,n.i=o+1&7,t},t(n,e)}function u(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},o.int32=n.next,o.quick=o,r&&(r.x&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n(35)&&n(36)?(r=function(){return s}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):this.xorshift7=s}(this,"object"==typeof e&&e,n(35))}).call(t,n(34)(e))},function(e,t,n){var r;(function(e){!function(e,o,i){function a(e){function t(e,t){var n,r,o,i,a,u=[],s=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,s=Math.max(s,t.length)),o=0,i=-32;i<s;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,n=u[127&i]^=r+a,o=0==n?o+1:0);for(o>=128&&(u[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=u[o+34&127],n=u[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[o]=r^n;e.w=a,e.X=u,e.i=o}var n=this;n.next=function(){var e,t,r=n.w,o=n.X,i=n.i;return n.w=r=r+1640531527|0,t=o[i+34&127],e=o[i=i+1&127],t^=t<<13,e^=e<<17,t^=t>>>15,e^=e>>>12,t=o[i]=t^e,n.i=i,t+(r^r>>>16)|0},t(n,e)}function u(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},o.int32=n.next,o.quick=o,r&&(r.X&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n(35)&&n(36)?(r=function(){return s}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):this.xor4096=s}(this,"object"==typeof e&&e,n(35))}).call(t,n(34)(e))},function(e,t,n){var r;(function(e){!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o["double"]=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n(35)&&n(36)?(r=function(){return s}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):this.tychei=s}(this,"object"==typeof e&&e,n(35))}).call(t,n(34)(e))},function(e,t,n){var r;!function(o,i){function a(e,t,n){var r=[];t=1==t?{entropy:!0}:t||{};var a=l(c(t.entropy?[e,d(o)]:null==e?f():e,3),r),p=new u(r),g=function(){for(var e=p.g(v),t=T,n=0;e<b;)e=(e+n)*h,t*=h,n=p.g(1);for(;e>=x;)e/=2,t/=2,n>>>=1;return(e+n)/t};return g.int32=function(){return 0|p.g(4)},g.quick=function(){return p.g(4)/4294967296},g["double"]=g,l(d(p.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&s(r,p),e.state=function(){return s(p,{})}),n?(i[y]=e,t):e})(g,a,"global"in t?t.global:this==i,t.state)}function u(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<h;)a[o]=o++;for(o=0;o<h;o++)a[o]=a[i=w&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=w&o+1],n=n*h+a[w&(a[o]=a[i=w&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(h)}function s(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function c(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(c(e[n],t-1))}catch(i){}return r.length?r:"string"==o?e:e+"\0"}function l(e,t){for(var n,r=e+"",o=0;o<r.length;)t[w&o]=w&(n^=19*t[w&o])+r.charCodeAt(o++);return d(t)}function f(){try{if(p)return d(p.randomBytes(h));var e=new Uint8Array(h);return(g.crypto||g.msCrypto).getRandomValues(e),d(e)}catch(t){var n=g.navigator,r=n&&n.plugins;return[+new Date,g,r,g.screen,d(o)]}}function d(e){return String.fromCharCode.apply(0,e)}var p,g=this,h=256,v=6,m=52,y="random",T=i.pow(h,v),b=i.pow(2,m),x=2*b,w=h-1;if(i["seed"+y]=a,l(i.random(),o),"object"==typeof e&&e.exports){e.exports=a;try{p=n(43)}catch(E){}}else r=function(){return a}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}([],Math)},function(e,t,n){(function(e){function r(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function o(e,t){for(var n in e)t(e[n],n)}var i=n(48);t.createHash=n(50),t.createHmac=n(63),t.randomBytes=function(t,n){if(!n||!n.call)return new e(i(t));try{n.call(this,void 0,new e(i(t)))}catch(r){n(r)}},t.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var a=n(64)(t);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync,o(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(e){t[e]=function(){r("sorry,",e,"is not implemented yet")}})}).call(t,n(44).Buffer)},function(e,t,n){(function(e,r){"use strict";function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,n){if(i()<n)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=e.prototype):(null===t&&(t=new e(n)),t.length=n),t}function e(t,n,r){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,n,r);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,n,r)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?f(e,t,n):g(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,r){return s(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}function l(t,n){if(s(n),t=a(t,n<0?0:0|h(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)t[r]=0;return t}function f(t,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var o=0|m(n,r);t=a(t,o);var i=t.write(n,r);return i!==o&&(t=t.slice(0,i)),t}function d(e,t){var n=t.length<0?0:0|h(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(t,n,r,o){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===o?new Uint8Array(n):void 0===o?new Uint8Array(n,r):new Uint8Array(n,r,o),e.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=e.prototype):t=d(t,n),t}function g(t,n){if(e.isBuffer(n)){var r=0|h(n.length);return t=a(t,r),0===t.length?t:(n.copy(t,0,0,r),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||Z(n.length)?a(t,0):d(t,n);if("Buffer"===n.type&&$(n.data))return d(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function v(t){return+t!=t&&(t=0),e.alloc(+t)}function m(t,n){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(o)return Y(t).length;n=(""+n).toLowerCase(),o=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return V(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function T(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(t,n,r,o,i){if(0===t.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof n&&(n=e.from(n,o)),e.isBuffer(n))return 0===n.length?-1:x(t,n,r,o,i);if("number"==typeof n)return n=255&n,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):x(t,[n],r,o,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,u=e.length,s=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}var c;if(o){var l=-1;for(c=n;c<u;c++)if(i(e,c)===i(t,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===s)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+s>u&&(n=u-s),c=n;c>=0;c--){for(var f=!0,d=0;d<s;d++)if(i(e,c+d)!==i(t,d)){f=!1;break}if(f)return c}return-1}function w(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function E(e,t,n,r){return X(Y(t,e.length-n),e,n,r)}function C(e,t,n,r){return X(W(t),e,n,r)}function A(e,t,n,r){return C(e,t,n,r)}function M(e,t,n,r){return X(q(t),e,n,r)}function _(e,t,n,r){return X(H(t,e.length-n),e,n,r)}function P(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,u=i>239?4:i>223?3:i>191?2:1;if(o+u<=n){var s,c,l,f;switch(u){case 1:i<128&&(a=i);break;case 2:s=e[o+1],128===(192&s)&&(f=(31&i)<<6|63&s,f>127&&(a=f));break;case 3:s=e[o+1],c=e[o+2],128===(192&s)&&128===(192&c)&&(f=(15&i)<<12|(63&s)<<6|63&c,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:s=e[o+1],c=e[o+2],l=e[o+3],128===(192&s)&&128===(192&c)&&128===(192&l)&&(f=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=u}return O(r)}function O(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function V(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=z(e[i]);return o}function L(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,n,r,o,i,a){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<a)throw new RangeError('"value" argument is out of bounds');if(r+o>t.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function k(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function U(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||U(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||U(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,r,52,8),n+8}function K(e){if(e=G(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function q(e){return J.toByteArray(K(e))}function X(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Z(e){return e!==e}var J=n(45),Q=n(46),$=n(47);t.Buffer=e,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=i(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,n){return u(null,e,t,n)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,n){return c(null,e,t,n)},e.allocUnsafe=function(e){return l(null,e)},e.allocUnsafeSlow=function(e){return l(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,o=n.length,i=0,a=Math.min(r,o);i<a;++i)if(t[i]!==n[i]){r=t[i],o=n[i];break}return r<o?-1:o<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var o=e.allocUnsafe(n),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!e.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},e.byteLength=m,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)T(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)T(this,t,t+3),T(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)T(this,t,t+7),T(this,t+1,t+6),T(this,t+2,t+5),T(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):y.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,n,r,o,i){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),n<0||r>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&n>=r)return 0;if(o>=i)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,o>>>=0,i>>>=0,this===t)return 0;for(var a=i-o,u=r-n,s=Math.min(a,u),c=this.slice(o,i),l=t.slice(n,r),f=0;f<s;++f)if(c[f]!==l[f]){a=c[f],u=l[f];break}return a<u?-1:u<a?1:0},e.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},e.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return M(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var o;if(e.TYPED_ARRAY_SUPPORT)o=this.subarray(t,n),o.__proto__=e.prototype;else{var i=n-t;o=new e(i,(void 0));for(var a=0;a<i;++a)o[a]=this[a+t]}return o},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||D(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||D(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},e.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||D(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||D(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),Q.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),Q.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),Q.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),Q.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var o=Math.pow(2,8*n)-1;N(this,e,t,n,o,0)}var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var o=Math.pow(2,8*n)-1;N(this,e,t,n,o,0)}var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):B(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):B(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):k(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):k(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=0,a=1,u=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=n-1,a=1,u=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):B(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):B(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):k(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||N(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):k(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,o){if(r||(r=0),o||0===o||(o=this.length),n>=t.length&&(n=t.length),n||(n=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-n<o-r&&(o=t.length-n+r);var i,a=o-r;if(this===t&&r<n&&n<o)for(i=a-1;i>=0;--i)t[i+n]=this[i+r];else if(a<1e3||!e.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+n]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),n);return a},e.prototype.fill=function(t,n,r,o){if("string"==typeof t){if("string"==typeof n?(o=n,n=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!e.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t=255&t);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var a;if("number"==typeof t)for(a=n;a<r;++a)this[a]=t;else{var u=e.isBuffer(t)?t:Y(new e(t,o).toString()),s=u.length;for(a=0;a<r-n;++a)this[a+n]=u[a%s]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,n(44).Buffer,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function o(e){var t,r,o,i,a,u,s=e.length;a=n(e),u=new l(3*s/4-a),o=a>0?s-4:s;var f=0;for(t=0,r=0;t<o;t+=4,r+=3)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],u[f++]=i>>16&255,u[f++]=i>>8&255,u[f++]=255&i;return 2===a?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,u[f++]=255&i):1===a&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,u[f++]=i>>8&255,u[f++]=255&i),u}function i(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function a(e,t,n){for(var r,o=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(i(r));return o.join("")}function u(e){for(var t,n=e.length,r=n%3,o="",i=[],u=16383,c=0,l=n-r;c<l;c+=u)i.push(a(e,c,c+u>l?l:c+u));return 1===r?(t=e[n-1],o+=s[t>>2],o+=s[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=s[t>>10],o+=s[t>>4&63],o+=s[t<<2&63],o+="="),i.push(o),i.join("")}t.byteLength=r,t.toByteArray=o,t.fromByteArray=u;for(var s=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)s[d]=f[d],c[f.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=u;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,g=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+f>=1?d/s:d*Math.pow(2,1-f),t*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(t*s-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&u,p+=g,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;e[n+p]=255&a,p+=g,a/=256,c-=8);e[n+p-g]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t,r){!function(){var o=("undefined"==typeof window?t:window)||{};_crypto=o.crypto||o.msCrypto||n(49),e.exports=function(e){if(_crypto.getRandomValues){var t=new r(e);return _crypto.getRandomValues(t),t}if(_crypto.randomBytes)return _crypto.randomBytes(e);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(t,function(){return this}(),n(44).Buffer)},function(e,t){},function(e,t,n){(function(t){function r(e){return function(){var n=[],r={update:function(e,r){return t.isBuffer(e)||(e=new t(e,r)),n.push(e),this},digest:function(r){var o=t.concat(n),i=e(o);return n=null,r?i.toString(r):i}};return r}}var o=n(51),i=r(n(60)),a=r(n(62));e.exports=function(e){return"md5"===e?new i:"rmd160"===e?new a:o(e)}}).call(t,n(44).Buffer)},function(e,t,n){var t=e.exports=function(e){var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n},r=n(44).Buffer,o=n(52)(r);
t.sha1=n(53)(r,o),t.sha256=n(58)(r,o),t.sha512=n(59)(r,o)},function(e,t){e.exports=function(e){function t(t,n){this._block=new e(t),this._finalSize=n,this._blockSize=t,this._len=0,this._s=0}return t.prototype.init=function(){this._s=0,this._len=0},t.prototype.update=function(t,n){"string"==typeof t&&(n=n||"utf8",t=new e(t,n));for(var r=this._len+=t.length,o=this._s=this._s||0,i=0,a=this._block;o<r;){for(var u=Math.min(t.length,i+this._blockSize-o%this._blockSize),s=u-i,c=0;c<s;c++)a[o%this._blockSize+c]=t[c+i];o+=s,i+=s,o%this._blockSize===0&&this._update(a)}return this._s=o,this},t.prototype.digest=function(e){var t=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),t%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(t,this._blockSize-4);var n=this._update(this._block)||this._hash();return e?n.toString(e):n},t.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t}},function(e,t,n){var r=n(54).inherits;e.exports=function(e,t){function n(){return g.length?g.pop().init():this instanceof n?(this._w=p,t.call(this,64,56),this._h=null,void this.init()):new n}function o(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function i(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function a(e,t){return e+t|0}function u(e,t){return e<<t|e>>>32-t}var s=0,c=4,l=8,f=12,d=16,p=new("undefined"==typeof Int32Array?Array:Int32Array)(80),g=[];return r(n,t),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,t.prototype.init.call(this),this},n.prototype._POOL=g,n.prototype._update=function(e){var t,n,r,s,c,l,f,d,p,g;t=l=this._a,n=f=this._b,r=d=this._c,s=p=this._d,c=g=this._e;for(var h=this._w,v=0;v<80;v++){var m=h[v]=v<16?e.readInt32BE(4*v):u(h[v-3]^h[v-8]^h[v-14]^h[v-16],1),y=a(a(u(t,5),o(v,n,r,s)),a(a(c,m),i(v)));c=s,s=r,r=u(n,30),n=t,t=y}this._a=a(t,l),this._b=a(n,f),this._c=a(r,d),this._d=a(s,p),this._e=a(c,g)},n.prototype._hash=function(){g.length<100&&g.push(this);var t=new e(20);return t.writeInt32BE(0|this._a,s),t.writeInt32BE(0|this._b,c),t.writeInt32BE(0|this._c,l),t.writeInt32BE(0|this._d,f),t.writeInt32BE(0|this._e,d),t},n}},function(e,t,n){(function(e,r){function o(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,n,r){if(e.customInspect&&n&&M(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return T(o)||(o=s(e,o,r)),o}var i=c(e,n);if(i)return i;var a=Object.keys(n),h=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),A(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(M(n)){var v=n.name?": "+n.name:"";return e.stylize("[Function"+v+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(A(n))return l(n)}var m="",y=!1,b=["{","}"];if(g(n)&&(y=!0,b=["[","]"]),M(n)){var x=n.name?": "+n.name:"";m=" [Function"+x+"]"}if(w(n)&&(m=" "+RegExp.prototype.toString.call(n)),C(n)&&(m=" "+Date.prototype.toUTCString.call(n)),A(n)&&(m=" "+l(n)),0===a.length&&(!y||0==n.length))return b[0]+m+b[1];if(r<0)return w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var E;return E=y?f(e,n,r,h,a):a.map(function(t){return d(e,n,r,h,t,y)}),e.seen.pop(),p(E,m,b)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(T(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)I(t,String(a))?i.push(d(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(e,t,n,r,o,!0))}),i}function d(e,t,n,r,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),I(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=v(n)?s(e,c.value,null):s(e,c.value,n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),x(a)){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function p(e,t,n){var r=0,o=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function T(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function x(e){return void 0===e}function w(e){return E(e)&&"[object RegExp]"===P(e)}function E(e){return"object"==typeof e&&null!==e}function C(e){return E(e)&&"[object Date]"===P(e)}function A(e){return E(e)&&("[object Error]"===P(e)||e instanceof Error)}function M(e){return"function"==typeof e}function _(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function P(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;t.format=function(e){if(!T(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),u=r[n];n<i;u=r[++n])a+=v(u)||!E(u)?" "+u:" "+o(u);return a},t.deprecate=function(n,o){function i(){if(!a){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),a=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return i};var V,L={};t.debuglog=function(e){if(x(V)&&(V=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(V)){var n=r.pid;L[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else L[e]=function(){};return L[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=g,t.isBoolean=h,t.isNull=v,t.isNullOrUndefined=m,t.isNumber=y,t.isString=T,t.isSymbol=b,t.isUndefined=x,t.isRegExp=w,t.isObject=E,t.isDate=C,t.isError=A,t.isFunction=M,t.isPrimitive=_,t.isBuffer=n(56);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(57),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(55))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){h&&p&&(h=!1,p.length?g=p.concat(g):v=-1,g.length&&u())}function u(){if(!h){var e=o(a);h=!0;for(var t=g.length;t;){for(p=g,g=[];++v<t;)p&&p[v].run();v=-1,t=g.length}p=null,h=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,g=[],h=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new s(e,t)),1!==g.length||h||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(54).inherits;e.exports=function(e,t){function n(){this.init(),this._w=p,t.call(this,64,56)}function o(e,t){return e>>>t|e<<32-t}function i(e,t){return e>>>t}function a(e,t,n){return e&t^~e&n}function u(e,t,n){return e&t^e&n^t&n}function s(e){return o(e,2)^o(e,13)^o(e,22)}function c(e){return o(e,6)^o(e,11)^o(e,25)}function l(e){return o(e,7)^o(e,18)^i(e,3)}function f(e){return o(e,17)^o(e,19)^i(e,10)}var d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);return r(n,t),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},n.prototype._update=function(e){var t,n,r,o,i,p,g,h,v,m,y=this._w;t=0|this._a,n=0|this._b,r=0|this._c,o=0|this._d,i=0|this._e,p=0|this._f,g=0|this._g,h=0|this._h;for(var T=0;T<64;T++){var b=y[T]=T<16?e.readInt32BE(4*T):f(y[T-2])+y[T-7]+l(y[T-15])+y[T-16];v=h+c(i)+a(i,p,g)+d[T]+b,m=s(t)+u(t,n,r),h=g,g=p,p=i,i=o+v,o=r,r=n,n=t,t=v+m}this._a=t+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=o+this._d|0,this._e=i+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},n.prototype._hash=function(){var t=new e(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},n}},function(e,t,n){var r=n(54).inherits;e.exports=function(e,t){function n(){this.init(),this._w=s,t.call(this,128,112)}function o(e,t,n){return e>>>n|t<<32-n}function i(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}var u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);return r(n,t),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},n.prototype._update=function(e){var t,n,r,s,c,l,f,d,p,g,h,v,m,y,T,b,x=this._w;t=0|this._a,n=0|this._b,r=0|this._c,s=0|this._d,c=0|this._e,l=0|this._f,f=0|this._g,d=0|this._h,p=0|this._al,g=0|this._bl,h=0|this._cl,v=0|this._dl,m=0|this._el,y=0|this._fl,T=0|this._gl,b=0|this._hl;for(var w=0;w<80;w++){var E,C,A=2*w;if(w<16)E=x[A]=e.readInt32BE(4*A),C=x[A+1]=e.readInt32BE(4*A+4);else{var M=x[A-30],_=x[A-30+1],P=o(M,_,1)^o(M,_,8)^M>>>7,S=o(_,M,1)^o(_,M,8)^o(_,M,7);M=x[A-4],_=x[A-4+1];var O=o(M,_,19)^o(_,M,29)^M>>>6,I=o(_,M,19)^o(M,_,29)^o(_,M,6),R=x[A-14],V=x[A-14+1],L=x[A-32],D=x[A-32+1];C=S+V,E=P+R+(C>>>0<S>>>0?1:0),C+=I,E=E+O+(C>>>0<I>>>0?1:0),C+=D,E=E+L+(C>>>0<D>>>0?1:0),x[A]=E,x[A+1]=C}var N=a(t,n,r),B=a(p,g,h),k=o(t,p,28)^o(p,t,2)^o(p,t,7),U=o(p,t,28)^o(t,p,2)^o(t,p,7),F=o(c,m,14)^o(c,m,18)^o(m,c,9),j=o(m,c,14)^o(m,c,18)^o(c,m,9),K=u[A],G=u[A+1],z=i(c,l,f),Y=i(m,y,T),W=b+j,H=d+F+(W>>>0<b>>>0?1:0);W+=Y,H=H+z+(W>>>0<Y>>>0?1:0),W+=G,H=H+K+(W>>>0<G>>>0?1:0),W+=C,H=H+E+(W>>>0<C>>>0?1:0);var q=U+B,X=k+N+(q>>>0<U>>>0?1:0);d=f,b=T,f=l,T=y,l=c,y=m,m=v+W|0,c=s+H+(m>>>0<v>>>0?1:0)|0,s=r,v=h,r=n,h=g,n=t,g=p,p=W+q|0,t=H+X+(p>>>0<W>>>0?1:0)|0}this._al=this._al+p|0,this._bl=this._bl+g|0,this._cl=this._cl+h|0,this._dl=this._dl+v|0,this._el=this._el+m|0,this._fl=this._fl+y|0,this._gl=this._gl+T|0,this._hl=this._hl+b|0,this._a=this._a+t+(this._al>>>0<p>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<g>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<h>>>0?1:0)|0,this._d=this._d+s+(this._dl>>>0<v>>>0?1:0)|0,this._e=this._e+c+(this._el>>>0<m>>>0?1:0)|0,this._f=this._f+l+(this._fl>>>0<y>>>0?1:0)|0,this._g=this._g+f+(this._gl>>>0<T>>>0?1:0)|0,this._h=this._h+d+(this._hl>>>0<b>>>0?1:0)|0},n.prototype._hash=function(){function t(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}var n=new e(64);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),t(this._g,this._gl,48),t(this._h,this._hl,56),n},n}},function(e,t,n){function r(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,o=-1732584194,l=271733878,f=0;f<e.length;f+=16){var d=n,p=r,g=o,h=l;n=i(n,r,o,l,e[f+0],7,-680876936),l=i(l,n,r,o,e[f+1],12,-389564586),o=i(o,l,n,r,e[f+2],17,606105819),r=i(r,o,l,n,e[f+3],22,-1044525330),n=i(n,r,o,l,e[f+4],7,-176418897),l=i(l,n,r,o,e[f+5],12,1200080426),o=i(o,l,n,r,e[f+6],17,-1473231341),r=i(r,o,l,n,e[f+7],22,-45705983),n=i(n,r,o,l,e[f+8],7,1770035416),l=i(l,n,r,o,e[f+9],12,-1958414417),o=i(o,l,n,r,e[f+10],17,-42063),r=i(r,o,l,n,e[f+11],22,-1990404162),n=i(n,r,o,l,e[f+12],7,1804603682),l=i(l,n,r,o,e[f+13],12,-40341101),o=i(o,l,n,r,e[f+14],17,-1502002290),r=i(r,o,l,n,e[f+15],22,1236535329),n=a(n,r,o,l,e[f+1],5,-165796510),l=a(l,n,r,o,e[f+6],9,-1069501632),o=a(o,l,n,r,e[f+11],14,643717713),r=a(r,o,l,n,e[f+0],20,-373897302),n=a(n,r,o,l,e[f+5],5,-701558691),l=a(l,n,r,o,e[f+10],9,38016083),o=a(o,l,n,r,e[f+15],14,-660478335),r=a(r,o,l,n,e[f+4],20,-405537848),n=a(n,r,o,l,e[f+9],5,568446438),l=a(l,n,r,o,e[f+14],9,-1019803690),o=a(o,l,n,r,e[f+3],14,-187363961),r=a(r,o,l,n,e[f+8],20,1163531501),n=a(n,r,o,l,e[f+13],5,-1444681467),l=a(l,n,r,o,e[f+2],9,-51403784),o=a(o,l,n,r,e[f+7],14,1735328473),r=a(r,o,l,n,e[f+12],20,-1926607734),n=u(n,r,o,l,e[f+5],4,-378558),l=u(l,n,r,o,e[f+8],11,-2022574463),o=u(o,l,n,r,e[f+11],16,1839030562),r=u(r,o,l,n,e[f+14],23,-35309556),n=u(n,r,o,l,e[f+1],4,-1530992060),l=u(l,n,r,o,e[f+4],11,1272893353),o=u(o,l,n,r,e[f+7],16,-155497632),r=u(r,o,l,n,e[f+10],23,-1094730640),n=u(n,r,o,l,e[f+13],4,681279174),l=u(l,n,r,o,e[f+0],11,-358537222),o=u(o,l,n,r,e[f+3],16,-722521979),r=u(r,o,l,n,e[f+6],23,76029189),n=u(n,r,o,l,e[f+9],4,-640364487),l=u(l,n,r,o,e[f+12],11,-421815835),o=u(o,l,n,r,e[f+15],16,530742520),r=u(r,o,l,n,e[f+2],23,-995338651),n=s(n,r,o,l,e[f+0],6,-198630844),l=s(l,n,r,o,e[f+7],10,1126891415),o=s(o,l,n,r,e[f+14],15,-1416354905),r=s(r,o,l,n,e[f+5],21,-57434055),n=s(n,r,o,l,e[f+12],6,1700485571),l=s(l,n,r,o,e[f+3],10,-1894986606),o=s(o,l,n,r,e[f+10],15,-1051523),r=s(r,o,l,n,e[f+1],21,-2054922799),n=s(n,r,o,l,e[f+8],6,1873313359),l=s(l,n,r,o,e[f+15],10,-30611744),o=s(o,l,n,r,e[f+6],15,-1560198380),r=s(r,o,l,n,e[f+13],21,1309151649),n=s(n,r,o,l,e[f+4],6,-145523070),l=s(l,n,r,o,e[f+11],10,-1120210379),o=s(o,l,n,r,e[f+2],15,718787259),r=s(r,o,l,n,e[f+9],21,-343485551),n=c(n,d),r=c(r,p),o=c(o,g),l=c(l,h)}return Array(n,r,o,l)}function o(e,t,n,r,o,i){return c(l(c(c(t,e),c(r,i)),o),n)}function i(e,t,n,r,i,a,u){return o(t&n|~t&r,e,t,i,a,u)}function a(e,t,n,r,i,a,u){return o(t&r|n&~r,e,t,i,a,u)}function u(e,t,n,r,i,a,u){return o(t^n^r,e,t,i,a,u)}function s(e,t,n,r,i,a,u){return o(n^(t|~r),e,t,i,a,u)}function c(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function l(e,t){return e<<t|e>>>32-t}var f=n(61);e.exports=function(e){return f.hash(e,r,16)}},function(e,t,n){(function(t){function n(e,n){if(e.length%i!==0){var r=e.length+(i-e.length%i);e=t.concat([e,a],r)}for(var o=[],u=n?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=i)o.push(u.call(e,s));return o}function r(e,n,r){for(var o=new t(n),i=r?o.writeInt32BE:o.writeInt32LE,a=0;a<e.length;a++)i.call(o,e[a],4*a,!0);return o}function o(e,o,i,a){t.isBuffer(e)||(e=new t(e));var s=o(n(e,a),e.length*u);return r(s,i,a)}var i=4,a=new t(i);a.fill(0);var u=8;e.exports={hash:o}}).call(t,n(44).Buffer)},function(e,t,n){(function(t){function n(e,t,n){return e^t^n}function r(e,t,n){return e&t|~e&n}function o(e,t,n){return(e|~t)^n}function i(e,t,n){return e&n|t&~n}function a(e,t,n){return e^(t|~n)}function u(e,t){return e<<t|e>>>32-t}function s(e){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof e&&(e=new t(e,"utf8"));var r=h(e),o=8*e.length,i=8*e.length;r[o>>>5]|=128<<24-o%32,r[(o+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);for(var a=0;a<r.length;a+=16)m(n,r,a);for(var a=0;a<5;a++){var u=n[a];n[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var s=v(n);return new t(s)}e.exports=s;var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0],h=function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},v=function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},m=function(e,t,s){for(var h=0;h<16;h++){var v=s+h,m=t[v];t[v]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var y,T,b,x,w,E,C,A,M,_;E=y=e[0],C=T=e[1],A=b=e[2],M=x=e[3],_=w=e[4];for(var P,h=0;h<80;h+=1)P=y+t[s+c[h]]|0,P+=h<16?n(T,b,x)+p[0]:h<32?r(T,b,x)+p[1]:h<48?o(T,b,x)+p[2]:h<64?i(T,b,x)+p[3]:a(T,b,x)+p[4],P=0|P,P=u(P,f[h]),P=P+w|0,y=w,w=x,x=u(b,10),b=T,T=P,P=E+t[s+l[h]]|0,P+=h<16?a(C,A,M)+g[0]:h<32?i(C,A,M)+g[1]:h<48?o(C,A,M)+g[2]:h<64?r(C,A,M)+g[3]:n(C,A,M)+g[4],P=0|P,P=u(P,d[h]),P=P+_|0,E=_,_=M,M=u(A,10),A=C,C=P;P=e[1]+b+M|0,e[1]=e[2]+x+_|0,e[2]=e[3]+w+E|0,e[3]=e[4]+y+C|0,e[4]=e[0]+T+A|0,e[0]=P}}).call(t,n(44).Buffer)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);this._opad=s,this._alg=e;var a="sha512"===e?128:64;n=this._key=t.isBuffer(n)?n:new t(n),n.length>a?n=o(e).update(n).digest():n.length<a&&(n=t.concat([n,i],a));for(var u=this._ipad=new t(a),s=this._opad=new t(a),c=0;c<a;c++)u[c]=54^n[c],s[c]=92^n[c];this._hash=o(e).update(u)}var o=n(50),i=new t(128);i.fill(0),e.exports=r,r.prototype.update=function(e,t){return this._hash.update(e,t),this},r.prototype.digest=function(e){var t=this._hash.digest();return o(this._alg).update(this._opad).update(t).digest(e)}}).call(t,n(44).Buffer)},function(e,t,n){var r=n(65);e.exports=function(e,t){t=t||{};var n=r(e);return t.pbkdf2=n.pbkdf2,t.pbkdf2Sync=n.pbkdf2Sync,t}},function(e,t,n){(function(t){e.exports=function(e){function n(e,t,n,o,i,a){if("function"==typeof i&&(a=i,i=void 0),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var u;try{u=r(e,t,n,o,i)}catch(s){return a(s)}a(void 0,u)})}function r(n,r,o,i,a){if("number"!=typeof o)throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if("number"!=typeof i)throw new TypeError("Key length not a number");if(i<0)throw new TypeError("Bad key length");a=a||"sha1",t.isBuffer(n)||(n=new t(n)),t.isBuffer(r)||(r=new t(r));var u,s,c,l=1,f=new t(i),d=new t(r.length+4);r.copy(d,0,0,r.length);for(var p=1;p<=l;p++){d.writeUInt32BE(p,r.length);var g=e.createHmac(a,n).update(d).digest();if(!u&&(u=g.length,c=new t(u),l=Math.ceil(i/u),s=i-(l-1)*u,i>(Math.pow(2,32)-1)*u))throw new TypeError("keylen exceeds maximum length");g.copy(c,0,0,u);for(var h=1;h<o;h++){g=e.createHmac(a,n).update(g).digest();for(var v=0;v<u;v++)c[v]^=g[v]}var m=(p-1)*u,y=p==l?s:u;c.copy(f,m,0,y)}return f}return{pbkdf2:n,pbkdf2Sync:r}}}).call(t,n(44).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkInteractorStyleImage"),e.startWindowLevel=function(){if(t.state===p.STATES.VTKIS_NONE)if(e.startState(p.STATES.VTKIS_WINDOW_LEVEL),e.setCurrentImageNumber(t.currentImageNumber),t.handleObservers&&"function"==typeof e.invokeStartWindowLevelEvent)e.invokeStartWindowLevelEvent({type:"StartWindowLevelEvent",style:e});else if(t.currentImageProperty){var n=t.currentImageProperty;t.windowLevelInitial[0]=n.getColorWindow(),t.windowLevelInitial[1]=n.getColorLevel()}},e.endWindowLevel=function(){t.state===p.STATES.VTKIS_WINDOW_LEVEL&&(t.handleObservers&&"function"==typeof e.invokeEndWindowLevelEvent&&e.invokeEndWindowLevelEvent({type:"EndWindowLevelEvent",style:e}),e.stopState())},e.startSlice=function(){t.state===p.STATES.VTKIS_NONE&&e.startState(p.STATES.VTKIS_SLICE)},e.endSlice=function(){t.state===p.STATES.VTKIS_SLICE&&e.stopState()},e.superHandleMouseMove=e.handleMouseMove,e.handleMouseMove=function(){var n=t.interactor.getEventPosition(t.interactor.getPointerIndex());switch(t.state){case p.STATES.VTKIS_WINDOW_LEVEL:e.findPokedRenderer(n.x,n.y),e.windowLevel(),e.invokeInteractionEvent({type:"InteractionEvent"});break;case p.STATES.VTKIS_SLICE:e.findPokedRenderer(n.x,n.y),e.slice(),e.invokeInteractionEvent({type:"InteractionEvent"})}e.superHandleMouseMove()},e.superHandleLeftButtonPress=e.handleLeftButtonPress,e.handleLeftButtonPress=function(){var n=t.interactor.getEventPosition(t.interactor.getPointerIndex());e.findPokedRenderer(n.x,n.y),null!==t.currentRenderer&&(e.grabFocus(t.eventCallbackCommand),t.interactor.getShiftKey()||t.interactor.getControlKey()?"IMAGE3D"===t.interactionMode&&t.interactor.getShiftKey()?e.startRotate():"IMAGE_SLICING"===t.interactionMode&&t.interactor.getControlKey()?e.startSlice():e.superHandleLeftButtonPress():(t.windowLevelStartPosition[0]=n.x,t.windowLevelStartPosition[1]=n.y,e.startWindowLevel()))},e.superHandleLeftButtonRelease=e.handleLeftButtonRelease,e.handleLeftButtonRelease=function(){switch(t.state){case p.STATES.VTKIS_WINDOW_LEVEL:e.endWindowLevel(),t.interactor&&e.releaseFocus();break;case p.STATES.VTKIS_SLICE:e.endSlice(),t.interactor&&e.releaseFocus()}e.superHandleLeftButtonRelease()},e.windowLevel=function(){var n=t.interactor.getEventPosition(t.interactor.getPointerIndex());t.windowLevelCurrentPosition[0]=n.x,t.windowLevelCurrentPosition[1]=n.y;var r=t.interactor;if(t.handleObservers&&"function"==typeof e.invokeWindowLevelEvent)e.invokeWindowLevelEvent({type:"WindowLevelEvent",style:e});else if(t.currentImageProperty){var o=r.getView().getViewportSize(t.currentRenderer),i=t.windowLevelInitial[0],a=t.windowLevelInitial[1],u=4*(t.windowLevelCurrentPosition[0]-t.windowLevelStartPosition[0])/o[0],s=4*(t.windowLevelStartPosition[1]-t.windowLevelCurrentPosition[1])/o[1];u*=Math.abs(i)>.01?i:i<0?-.01:.01,s*=Math.abs(a)>.01?a:a<0?-.01:.01,i<0&&(u*=-1),a<0&&(s*=-1);var c=u+i,l=a-s;c<.01&&(c=.01),t.currentImageProperty.setColorWindow(c),t.currentImageProperty.setColorLevel(l),r.render()}},e.slice=function(){if(null!==t.currentRenderer){var e=t.interactor,n=t.interactor.getPointerIndex(),r=t.interactor.getEventPosition(n),o=t.interactor.getLastEventPosition(n),i=r.y-o.y,a=t.currentRenderer.getActiveCamera(),u=a.getClippingRange(),s=a.getDistance(),c=0;if(a.getParallelProjection())c=a.getParallelScale();else{var l=d["default"].radiansFromDegrees(a.getViewAngle());c=2*s*Math.tan(.5*l)}var f=e.getView().getViewportSize(t.currentRenderer),p=i*c/f[1];s+=p,s<u[0]&&(s=u[0]+.001*c),s>u[1]&&(s=u[1]-.001*c),a.setDistance(s),e.render()}},e.setCurrentImageNumber=function(e){function n(e,t,n){return!(!t.isA("vtkImageSlice")||e!==n||!t.getPickable())}if(t.currentImageNumber=e,t.currentRenderer){var r=t.currentRenderer.getViewProps(),o=e;e<0&&(o+=r.length);for(var i=null,a=!1,u=0;u<r.length&&!a;u++)n(u,r[u],o)&&(a=!0,i=r[u]);i&&(t.currentImageProperty=i.getProperty())}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l["default"].extend(e,t),s.obj(e,t),s.setGet(e,t,["motionFactor"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(67),l=r(c),f=n(31),d=r(f),p=n(70),g={motionFactor:10,windowLevelStartPosition:[0,0],windowLevelCurrentPosition:[0,0],windowLevelInitial:[1,.5],currentImageProperty:0,currentImageNumber:-1,interactionMode:"IMAGE2D",xViewRightVector:[0,1,0],xViewUpVector:[0,0,-1],yViewRightVector:[1,0,0],yViewUpVector:[0,0,-1],zViewRightVector:[1,0,0],zViewUpVector:[0,1,0]},h=t.newInstance=s.newInstance(a);t["default"]=Object.assign({newInstance:h,extend:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkInteractorStyleTrackballCamera"),e.handleMouseMove=function(){var n=t.interactor.getEventPosition(t.interactor.getPointerIndex());switch(t.state){case p.STATES.VTKIS_ROTATE:e.findPokedRenderer(n.x,n.y),e.rotate(),e.invokeInteractionEvent({type:"InteractionEvent"});break;case p.STATES.VTKIS_PAN:e.findPokedRenderer(n.x,n.y),e.pan(),e.invokeInteractionEvent({type:"InteractionEvent"});break;case p.STATES.VTKIS_DOLLY:e.findPokedRenderer(n.x,n.y),e.dolly(),e.invokeInteractionEvent({type:"InteractionEvent"});break;case p.STATES.VTKIS_SPIN:e.findPokedRenderer(n.x,n.y),e.spin(),e.invokeInteractionEvent({type:"InteractionEvent"})}},e.handleLeftButtonPress=function(){var n=t.interactor.getEventPosition(t.interactor.getPointerIndex());e.findPokedRenderer(n.x,n.y),null!==t.currentRenderer&&(e.grabFocus(t.eventCallbackCommand),t.interactor.getShiftKey()?t.interactor.getControlKey()||t.interactor.getAltKey()?e.startDolly():e.startPan():t.interactor.getControlKey()||t.interactor.getAltKey()?e.startSpin():e.startRotate())},e.handleLeftButtonRelease=function(){switch(t.state){case p.STATES.VTKIS_DOLLY:e.endDolly();break;case p.STATES.VTKIS_PAN:e.endPan();break;case p.STATES.VTKIS_SPIN:e.endSpin();break;case p.STATES.VTKIS_ROTATE:e.endRotate()}t.interactor&&e.releaseFocus()},e.handlePinch=function(){var n=t.interactor.getEventPosition(t.interactor.getPointerIndex());if(e.findPokedRenderer(n.x,n.y),null!==t.currentRenderer){var r=t.currentRenderer.getActiveCamera(),o=t.interactor.getScale()/t.interactor.getLastScale();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/o):(r.dolly(o),t.autoAdjustCameraClippingRange&&t.currentRenderer.resetCameraClippingRange()),t.interactor.getLightFollowCamera()&&t.currentRenderer.updateLightsGeometryToFollowCamera(),t.interactor.render()}},e.handlePan=function(){var n=t.interactor.getEventPosition(t.interactor.getPointerIndex());if(e.findPokedRenderer(n.x,n.y),null!==t.currentRenderer){var r=t.currentRenderer.getActiveCamera(),o=t.interactor,i=r.getFocalPoint();i=e.computeWorldToDisplay(i[0],i[1],i[2]);var a=i[2],u=e.computeDisplayToWorld(n.x,n.y,a),s=o.getTranslation(),c=o.getLastTranslation();u=e.computeDisplayToWorld(i[0]+s[0]-c[0],i[1]+s[1]-c[1],a);var l=e.computeDisplayToWorld(i[0],i[1],a),f=[];f[0]=l[0]-u[0],f[1]=l[1]-u[1],f[2]=l[2]-u[2],
i=r.getFocalPoint();var d=r.getPosition();r.setFocalPoint(f[0]+i[0],f[1]+i[1],f[2]+i[2]),r.setPosition(f[0]+d[0],f[1]+d[1],f[2]+d[2]),t.interactor.getLightFollowCamera()&&t.currentRenderer.updateLightsGeometryToFollowCamera(),r.orthogonalizeViewUp(),t.interactor.render()}},e.handleRotate=function(){var n=t.interactor.getEventPosition(t.interactor.getPointerIndex());if(e.findPokedRenderer(n.x,n.y),null!==t.currentRenderer){var r=t.currentRenderer.getActiveCamera();r.roll(t.interactor.getRotation()-t.interactor.getLastRotation()),r.orthogonalizeViewUp(),t.interactor.render()}},e.rotate=function(){if(null!==t.currentRenderer){var e=t.interactor,n=t.interactor.getPointerIndex(),r=t.interactor.getEventPosition(n),o=t.interactor.getLastEventPosition(n),i=r.x-o.x,a=r.y-o.y,u=e.getView().getViewportSize(t.currentRenderer),s=-20/u[1],c=-20/u[0],l=i*c*t.motionFactor,f=a*s*t.motionFactor,d=t.currentRenderer.getActiveCamera();d.azimuth(l),d.elevation(f),d.orthogonalizeViewUp(),t.autoAdjustCameraClippingRange&&t.currentRenderer.resetCameraClippingRange(),e.getLightFollowCamera()&&t.currentRenderer.updateLightsGeometryToFollowCamera(),e.render()}},e.spin=function(){if(null!==t.currentRenderer){var e=t.interactor,n=t.interactor.getPointerIndex(),r=t.interactor.getEventPosition(n),o=t.interactor.getLastEventPosition(n),i=t.currentRenderer.getActiveCamera(),a=e.getView().getViewportCenter(t.currentRenderer),u=d["default"].degreesFromRadians(Math.atan2(r.y-a[1],r.x-a[0])),s=d["default"].degreesFromRadians(Math.atan2(o.y-a[1],o.x-a[0]));i.roll(u-s),i.orthogonalizeViewUp(),e.render()}},e.pan=function(){if(null!==t.currentRenderer){var n=t.interactor,r=t.interactor.getPointerIndex(),o=t.interactor.getEventPosition(r),i=t.interactor.getLastEventPosition(r),a=t.currentRenderer.getActiveCamera(),u=a.getFocalPoint();u=e.computeWorldToDisplay(u[0],u[1],u[2]);var s=u[2],c=e.computeDisplayToWorld(o.x,o.y,s),l=e.computeDisplayToWorld(i.x,i.y,s),f=[];f[0]=l[0]-c[0],f[1]=l[1]-c[1],f[2]=l[2]-c[2],u=a.getFocalPoint();var d=a.getPosition();a.setFocalPoint(f[0]+u[0],f[1]+u[1],f[2]+u[2]),a.setPosition(f[0]+d[0],f[1]+d[1],f[2]+d[2]),n.getLightFollowCamera()&&t.currentRenderer.updateLightsGeometryToFollowCamera(),n.render()}},e.dolly=function(){if(null!==t.currentRenderer){var n=t.interactor.getPointerIndex(),r=t.interactor.getEventPosition(n),o=t.interactor.getLastEventPosition(n),i=r.y-o.y,a=t.interactor,u=a.getView().getViewportCenter(t.currentRenderer),s=t.motionFactor*i/u[1];e.dollyByFactor(Math.pow(1.1,s))}},e.dollyByFactor=function(e){if(null!==t.currentRenderer){var n=t.interactor,r=t.currentRenderer.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/e):(r.dolly(e),t.autoAdjustCameraClippingRange&&t.currentRenderer.resetCameraClippingRange()),n.getLightFollowCamera()&&t.currentRenderer.updateLightsGeometryToFollowCamera(),n.render()}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l["default"].extend(e,t),s.obj(e,t),s.setGet(e,t,["motionFactor"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(68),l=r(c),f=n(31),d=r(f),p=n(70),g={motionFactor:10},h=t.newInstance=s.newInstance(a);t["default"]=Object.assign({newInstance:h,extend:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkInteractorStyle"),e.setInteractor=function(n){n!==t.interactor&&(t.interactor&&(t.unsubscribes.forEach(function(e){return e.unsubscribe()}),t.unsubscribes.clear()),t.interactor=n,n&&p.forEach(function(r){t.unsubscribes.set(r,n["on"+r](function(){e["handle"+r]&&e["handle"+r]()}))}))},Object.keys(d).forEach(function(n){e["start"+n]=function(){t.state===f.STATES.VTKIS_NONE&&e.startState(d[n])},e["end"+n]=function(){t.state===d[n]&&e.stopState()}}),e.handleChar=function(){var n=t.interactor,r=null;switch(n.getKeyCode()){case"r":case"R":r=t.interactor.getEventPosition(n.getPointerIndex()),e.findPokedRenderer(r.x,r.y),0!==t.currentRenderer?t.currentRenderer.resetCamera():console.warn("no current renderer on the interactor style."),n.render();break;case"w":case"W":if(r=t.interactor.getEventPosition(n.getPointerIndex()),e.findPokedRenderer(r.x,r.y),0!==t.currentRenderer){var o=t.currentRenderer.getActors();o.forEach(function(e){e.getProperty().setRepresentationToWireframe()})}else console.warn("no current renderer on the interactor style.");n.render();break;case"s":case"S":if(r=t.interactor.getEventPosition(n.getPointerIndex()),e.findPokedRenderer(r.x,r.y),0!==t.currentRenderer){var i=t.currentRenderer.getActors();i.forEach(function(e){e.getProperty().setRepresentationToSurface()})}else console.warn("no current renderer on the interactor style.");n.render();break;case"v":case"V":if(r=t.interactor.getEventPosition(n.getPointerIndex()),e.findPokedRenderer(r.x,r.y),0!==t.currentRenderer){var a=t.currentRenderer.getActors();a.forEach(function(e){e.getProperty().setRepresentationToPoints()})}else console.warn("no current renderer on the interactor style.");n.render()}},e.findPokedRenderer=function(n,r){e.setCurrentRenderer(t.interactor.findPokedRenderer(n,r))},e.startState=function(e){if(t.state=e,t.animationState===f.STATES.VTKIS_ANIM_OFF){var n=t.interactor;n.getRenderWindow().setDesiredUpdateRate(n.getDesiredUpdateRate()),t.invokeStartInteractionEvent({type:"StartInteractionEvent"})}},e.stopState=function(){if(t.state=f.STATES.VTKIS_NONE,t.animationState===f.STATES.VTKIS_ANIM_OFF){var n=t.interactor;n.getRenderWindow().setDesiredUpdateRate(n.getStillUpdateRate()),e.invokeEndInteractionEvent({type:"EndInteractionEvent"}),n.render()}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l["default"].extend(e,t),s.obj(e,t),t.unsubscribes=new Map,i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(69),l=r(c),f=n(70),d={Rotate:f.STATES.VTKIS_ROTATE,Pan:f.STATES.VTKIS_PAN,Spin:f.STATES.VTKIS_SPIN,Dolly:f.STATES.VTKIS_DOLLY,Zoom:f.STATES.VTKIS_ZOOM,Timer:f.STATES.VTKIS_TIMER,TwoPointer:f.STATES.VTKIS_TWO_POINTER,UniformScale:f.STATES.VTKIS_USCALE},p=["Enter","Leave","MouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","MouseWheelForward","MouseWheelBackward","Expose","Configure","Timer","KeyPress","KeyRelease","Char","Delete","Pinch","Pan","Rotate","Tap","LongTap","Swipe"],g={state:f.STATES.VTKIS_NONE,animState:f.STATES.VTKIS_ANIM_OFF,handleObservers:1,autoAdjustCameraClippingRange:1,unsubscribes:null},h=t.newInstance=s.newInstance(a,"vtkInteractorStyle");t["default"]=Object.assign({newInstance:h,extend:a})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t.classHierarchy.push("vtkInteractorObserver"),e.setInteractor=function(n){n!==t.interactor&&(t.interactor&&(e.setEnabled(!1),t.charObserverTag(),t.charObserverTag=null,t.deleteObserverTag(),t.deleteObserverTag=null),t.interactor=n,n&&(t.charObserverTag=n.onCharEvent(e.keyPressCallbackCommand),t.deleteObserverTag=n.onDeleteEvent(e.keyPressCallbackCommand)),e.modified())},e.computeDisplayToWorld=function(e,n,r){if(!t.currentRenderer)return null;var o=t.interactor.getView().displayToNormalizedDisplay(e,n,r);return t.currentRenderer.normalizedDisplayToWorld(o[0],o[1],o[2])},e.computeWorldToDisplay=function(e,n,r){if(!t.currentRenderer)return null;var o=t.currentRenderer.worldToNormalizedDisplay(e,n,r);return t.interactor.getView().normalizedDisplayToDisplay(o[0],o[1],o[2])},e.grabFocus=function(){},e.releaseFocus=function(){}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),u.obj(e,t),u.event(e,t,"InteractionEvent"),u.event(e,t,"StartInteractionEvent"),u.event(e,t,"EndInteractionEvent"),u.get(e,t,["interactor"]),u.setGet(e,t,["priority","currentRenderer"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var a=n(13),u=r(a),s={enabled:!1,interactor:null,currentRenderer:null,defaultRenderer:null,priority:0,keyPressActivationValue:"i",charObserverTag:null,deleteObserverTag:null},c=t.newInstance=u.newInstance(i,"vtkInteractorObserver");t["default"]=Object.assign({newInstance:c,extend:i})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.STATES={VTKIS_START:0,VTKIS_NONE:0,VTKIS_ROTATE:1,VTKIS_PAN:2,VTKIS_SPIN:3,VTKIS_DOLLY:4,VTKIS_ZOOM:5,VTKIS_USCALE:6,VTKIS_TIMER:7,VTKIS_FORWARDFLY:8,VTKIS_REVERSEFLY:9,VTKIS_TWO_POINTER:10,VTKIS_ANIM_OFF:0,VTKIS_ANIM_ON:1,VTKIS_WINDOW_LEVEL:1024,VTKIS_PICK:1025,VTKIS_SLICE:1026};t["default"]={STATES:n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){function n(){t.renderable&&(t.canvas.setAttribute("width",t.size[0]),t.canvas.setAttribute("height",t.size[1])),t.canvas.style.display=t.useOffScreen?"none":"block",t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:"none")}t.classHierarchy.push("vtkOpenGLRenderWindow"),e.onModified(n),e.build=function(n){if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getRenderers()),e.removeUnusedNodes()}},e.initialize=function(){if(!t.initialized){t.context=e.get3DContext(),t.textureUnitManager=v["default"].newInstance(),t.textureUnitManager.setContext(t.context),t.shaderCache.setContext(t.context);var n=t.context;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.enable(n.BLEND),t.initialized=!0}},e.makeCurrent=function(){t.context.makeCurrent()},e.frame=function(){},e.render=function(n){n?(e.initialize(),t.children.forEach(function(e){e.setContext(t.context)})):e.frame()},e.setContainer=function(n){t.el&&t.el!==n&&(t.canvas.parentNode===t.el?t.el.removeChild(t.canvas):console.log("Error: canvas parent node does not match container")),t.el!==n&&(t.el=n,t.el.appendChild(t.canvas),e.modified())},e.isInViewport=function(e,n,r){var o=r.getViewport(),i=t.size;return o[0]*i[0]<=e&&o[2]*i[0]>=e&&o[1]*i[1]<=n&&o[3]*i[1]>=n},e.getViewportSize=function(e){var n=e.getViewport(),r=t.size;return[(n[2]-n[0])*r[0],(n[3]-n[1])*r[1]]},e.getViewportCenter=function(t){var n=e.getViewportSize(t);return[.5*n[0],.5*n[1]]},e.displayToNormalizedDisplay=function(e,n,r){return[e/(t.size[0]-1),n/(t.size[1]-1),r]},e.normalizedDisplayToDisplay=function(e,n,r){return[e*(t.size[0]-1),n*(t.size[1]-1),r]},e.get2DContext=function(){return t.canvas.getContext("2d")},e.get3DContext=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{preserveDrawingBuffer:!0,premultipliedAlpha:!1};return t.canvas.getContext("webgl",e)||t.canvas.getContext("experimental-webgl",e)},e.activateTexture=function(n){var r=t.textureResourceIds.get(n);if(void 0!==r)return void t.context.activeTexture(t.context.TEXTURE0+r);var o=e.getTextureUnitManager().allocate();return o<0?void console.error("Hardware does not support the number of textures defined."):(t.textureResourceIds.set(n,o),void t.context.activeTexture(t.context.TEXTURE0+o))},e.deactivateTexture=function(n){var r=t.textureResourceIds.get(n);void 0!==r&&(e.getTextureUnitManager().free(r),delete t.textureResourceIds["delete"](n))},e.getTextureUnitForTexture=function(e){var n=t.textureResourceIds.get(e);return void 0!==n?n:-1},e.getDefaultTextureInternalFormat=function(e,n,r){switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:default:return t.context.RGBA}},e.captureImage=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png";return e.traverseAllPasses(),t.canvas.toDataURL(n)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),t.canvas=document.createElement("canvas"),t.textureResourceIds=new Map,g["default"].extend(e,t),t.myFactory=l["default"].newInstance(),t.shaderCache=d["default"].newInstance(),s.get(e,t,["shaderCache","textureUnitManager"]),s.setGet(e,t,["initialized","context"]),s.setGetArray(e,t,["size"],2),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.vtkOpenGLRenderWindow=i,t.extend=a;var u=n(13),s=o(u),c=n(72),l=r(c),f=n(97),d=r(f),p=n(75),g=r(p),h=n(99),v=r(h),m={shaderCache:null,initialized:!1,context:null,canvas:null,size:[300,300],cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null},y=t.newInstance=s.newInstance(a);t["default"]={newInstance:y,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLViewNodeFactory")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,S,n),l["default"].extend(e,t),i(e,t),e.registerOverride("vtkActor",d["default"].newInstance),e.registerOverride("vtkActor2D",g["default"].newInstance),e.registerOverride("vtkCamera",v["default"].newInstance),e.registerOverride("vtkImageMapper",y["default"].newInstance),e.registerOverride("vtkImageSlice",b["default"].newInstance),e.registerOverride("vtkMapper",w["default"].newInstance),e.registerOverride("vtkRenderWindow",C["default"].newInstance),e.registerOverride("vtkRenderer",M["default"].newInstance),e.registerOverride("vtkTexture",P["default"].newInstance)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.vtkOpenGLViewNodeFactory=i,t.extend=a;var u=n(13),s=o(u),c=n(73),l=r(c),f=n(74),d=r(f),p=n(76),g=r(p),h=n(77),v=r(h),m=n(78),y=r(m),T=n(93),b=r(T),x=n(94),w=r(x),E=n(71),C=r(E),A=n(96),M=r(A),_=n(88),P=r(_),S={},O=t.newInstance=s.newInstance(a);t["default"]={newInstance:O,extend:a}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t.classHierarchy.push("vtkViewNodeFactory"),e.createNode=function(n){if(Object.keys(t.overrides).indexOf(n.getClassName())===-1)return null;var r=t.overrides[n.getClassName()]();return r.setMyFactory(e),r},e.registerOverride=function(e,n){t.overrides[e]=n}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),u.obj(e,t),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var a=n(13),u=r(a),s={overrides:{}},c=t.newInstance=u.newInstance(i);t["default"]={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLActor"),e.build=function(n){n&&(e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes())},e.traverse=function(n){t.renderable&&t.renderable.getVisibility()&&(e.apply(n,!0),t.activeTextures=[],t.children.forEach(function(e){e.apply(n,!0),e.isA("vtkOpenGLTexture")&&"Render"===n&&t.activeTextures.push(e)}),t.children.forEach(function(e){e.apply(n,!1)}),e.apply(n,!1))},e.render=function(n){if(n)t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.preRender();else{t.children.forEach(function(e){e.isA("vtkOpenGLTexture")&&e.deactivate()});var r=0!==t.renderable.getIsOpaque();r||t.context.depthMask(!0)}},e.preRender=function(){var e=0!==t.renderable.getIsOpaque();e?t.context.depthMask(!0):t.context.depthMask(!1)},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),u.mat4.copy(t.MCWCMatrix,t.renderable.getMatrix()),u.mat4.transpose(t.MCWCMatrix,t.MCWCMatrix),t.renderable.getIsIdentity()?u.mat3.identity(t.normalMatrix):(u.mat3.fromMat4(t.normalMatrix,t.MCWCMatrix),u.mat3.invert(t.normalMatrix,t.normalMatrix)),t.keyMatrixTime.modified()),{mcwc:t.MCWCMatrix,normalMatrix:t.normalMatrix}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),f["default"].extend(e,t),t.keyMatrixTime={},c.obj(t.keyMatrixTime),t.normalMatrix=u.mat3.create(),t.MCWCMatrix=u.mat4.create(),c.setGet(e,t,["context"]),c.get(e,t,["activeTextures"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(3),s=n(13),c=o(s),l=n(75),f=r(l),d={context:null,keyMatrixTime:null,normalMatrix:null,MCWCMatrix:null,activeTextures:[]},p=t.newInstance=c.newInstance(a);t["default"]={newInstance:p,extend:a}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t.classHierarchy.push("vtkViewNode"),e.build=function(e){},e.render=function(e){},e.getViewNodeFor=function(n){return t.renderable===n?e:t.children.find(function(e){var t=e.getViewNodeFor(n);return!!t})},e.getFirstAncestorOfType=function(e){return t.parent?t.parent.isA(e)?t.parent:t.parent.getFirstAncestorOfType(e):null},e.traverse=function(n){e.apply(n,!0),t.children.forEach(function(e){e.traverse(n)}),e.apply(n,!1)},e.traverseAllPasses=function(){e.traverse("Build"),e.traverse("Render")},e.apply=function(t,n){switch(t){case"Build":e.build(n);break;case"Render":e.render(n);break;default:console.log("UNKNOWN OPERATION  "+t)}},e.addMissingNode=function(t){t&&e.addMissingNodes([t])},e.addMissingNodes=function(n){if(n&&n.length){t.preparedNodes=t.preparedNodes.concat(n);var r=t.children.map(function(e){return e.getRenderable()}),o=n.filter(function(e){return e&&r.indexOf(e)===-1}).map(function(t){var n=e.createViewNode(t);return n&&(n.setParent(e),n.setRenderable(t)),n});t.children=t.children.concat(o)}},e.prepareNodes=function(){t.preparedNodes=[]},e.removeUnusedNodes=function(){t.children=t.children.filter(function(e){return t.preparedNodes.indexOf(e.getRenderable())!==-1}),e.prepareNodes()},e.createViewNode=function(e){if(!t.myFactory)return console.log("Can not create view nodes without my own factory"),null;var n=t.myFactory.createNode(e);return n&&n.setRenderable(e),n}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),u.obj(e,t),u.event(e,t,"event"),u.setGet(e,t,["parent","renderable","myFactory"]),u.getArray(e,t,["children"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.PASS_TYPES=void 0,t.extend=i;var a=n(13),u=r(a),s=t.PASS_TYPES=["Build","Render"],c={parent:null,renderable:null,myFactory:null,children:[],preparedNodes:[]},l=t.newInstance=u.newInstance(i);t["default"]={newInstance:l,extend:i,PASS_TYPES:s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLActor2D"),e.build=function(n){if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverse=function(n){t.renderable&&t.renderable.getVisibility()&&(e.apply(n,!0),t.activeTextures=[],t.children.forEach(function(e){e.apply(n,!0),e.isA("vtkOpenGLTexture")&&"Render"===n&&t.activeTextures.push(e)}),t.children.forEach(function(e){e.apply(n,!1)}),e.apply(n,!1))},e.render=function(n){if(n)t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.preRender();else{t.children.forEach(function(e){e.isA("vtkOpenGLTexture")&&e.deactivate()});var r=0!==t.renderable.getIsOpaque();r||t.context.depthMask(!0)}},e.preRender=function(){t.context.depthMask(!1)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l["default"].extend(e,t),s.setGet(e,t,["context"]),s.get(e,t,["activeTextures"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(75),l=r(c),f={context:null,activeTextures:[]},d=t.newInstance=s.newInstance(a);t["default"]={newInstance:d,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLCamera"),e.build=function(e){e&&!t.renderable},e.render=function(n){if(n){t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext();var r=e.getFirstAncestorOfType("vtkOpenGLRenderer");e.preRender(r)}},e.preRender=function(e){var n=e.getTiledSizeAndOrigin();t.context.viewport(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize)},e.getKeyMatrices=function(n){if(n!==t.lastRenderer||e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getMTime()>t.keyMatrixTime.getMTime()||e.getMTime()>t.keyMatrixTime.getMTime()||n.getMTime()>t.keyMatrixTime.getMTime()){t.WCVCMatrix=t.renderable.getViewTransformMatrix(),u.mat3.fromMat4(t.normalMatrix,t.WCVCMatrix),u.mat3.invert(t.normalMatrix,t.normalMatrix),u.mat4.transpose(t.WCVCMatrix,t.WCVCMatrix);var r=e.getFirstAncestorOfType("vtkOpenGLRenderer"),o=r.getAspectRatio();t.VCDCMatrix=t.renderable.getProjectionTransformMatrix(o,-1,1),u.mat4.transpose(t.VCDCMatrix,t.VCDCMatrix),t.WCDCMatrix=u.mat4.create(),u.mat4.multiply(t.WCDCMatrix,t.VCDCMatrix,t.WCVCMatrix),t.keyMatrixTime.modified(),t.lastRenderer=n}return{wcvc:t.WCVCMatrix,normalMatrix:t.normalMatrix,vcdc:t.VCDCMatrix,wcdc:t.WCDCMatrix}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),f["default"].extend(e,t),t.keyMatrixTime={},t.normalMatrix=u.mat3.create(),c.obj(t.keyMatrixTime),c.setGet(e,t,["context","keyMatrixTime"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(3),s=n(13),c=o(s),l=n(75),f=r(l),d={context:null,lastRenderer:null,keyMatrixTime:null,normalMatrix:null},p=t.newInstance=c.newInstance(a);t["default"]={newInstance:p,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLImageMapper"),e.build=function(e){e&&!t.renderable},e.render=function(n){if(n){t.openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t.context=t.openGLRenderWindow.getContext(),t.tris.setContext(t.context),t.openGLImageSlice=e.getFirstAncestorOfType("vtkOpenGLImageSlice");var r=t.openGLImageSlice.getRenderable();t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer");var o=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(o.getActiveCamera()),e.renderPiece(o,r)}},e.buildShaders=function(t,n,r){e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.getShaderTemplate=function(e,t,n){e.Vertex=A["default"],e.Fragment=_["default"],e.Geometry=""},e.replaceShaderValues=function(e,n,r){var o=e.Vertex,i=e.Fragment;o=y["default"].substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCDCMatrix;"]).result,o=y["default"].substitute(o,"//VTK::PositionVC::Impl",["  gl_Position = MCDCMatrix * vertexMC;"]).result,o=y["default"].substitute(o,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var a=t.openGLTexture.getComponents();switch(o=y["default"].substitute(o,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,i=y["default"].substitute(i,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform float shift;","uniform float scale;","uniform sampler2D texture1;"]).result,a){case 1:i=y["default"].substitute(i,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r*scale + shift;","gl_FragData[0] = vec4(intensity,intensity,intensity,1.0);"]).result;break;case 2:i=y["default"].substitute(i,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*scale + shift;","gl_FragData[0] = vec4(intensity, intensity, intensity, scale*tcolor.g + shift);"]).result;break;default:i=y["default"].substitute(i,"//VTK::TCoord::Impl","gl_FragData[0] = scale*texture2D(texture1, tcoordVCVSOutput.st) + shift;").result}e.Vertex=o,e.Fragment=i},e.getNeedToRebuildShaders=function(n,r,o){return 0===n.getProgram()||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<o.getMTime()||n.getShaderSourceTime().getMTime()<t.currentInput.getMTime()},e.updateShaders=function(n,r,o){if(n.getVAO().bind(),t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,o)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,o);var a=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==n.getProgram()&&(n.setProgram(a),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());e.setMapperShaderParameters(n,r,o),e.setCameraShaderParameters(n,r,o),e.setPropertyShaderParameters(n,r,o)},e.setMapperShaderParameters=function(e,n,r){e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(e.getCABO().bind(),e.getProgram().isAttributeUsed("vertexMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"vertexMC",e.getCABO().getVertexOffset(),e.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||console.error("Error setting vertexMC in shader VAO.")),e.getProgram().isAttributeUsed("tcoordMC")&&e.getCABO().getTCoordOffset()&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"tcoordMC",e.getCABO().getTCoordOffset(),e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getTCoordComponents(),t.context.FALSE)||console.error("Error setting tcoordMC in shader VAO.")));var o=t.openGLTexture.getTextureUnit();e.getProgram().setUniformi("texture1",o);var i=r.getProperty().getColorWindow(),a=r.getProperty().getColorLevel(),u=t.openGLTexture.getShiftAndScale(),s=u.scale/i,c=(u.shift-a)/i+.5;e.getProgram().setUniformf("shift",c),e.getProgram().setUniformf("scale",s)},e.setCameraShaderParameters=function(e,n,r){var o=e.getProgram(),i=t.openGLCamera.getKeyMatrices(n);o.setUniformMatrix("MCDCMatrix",i.wcdc)},e.setPropertyShaderParameters=function(e,t,n){var r=e.getProgram(),o=n.getProperty(),i=o.getOpacity();r.setUniformf("opacityUniform",i)},e.renderPieceStart=function(n,r){e.updateBufferObjects(n,r),t.lastBoundBO=null},e.renderPieceDraw=function(n,r){var o=t.context;t.openGLTexture.preRender(t.openGLRenderer),t.tris.getCABO().getElementCount()&&(e.updateShaders(t.tris,n,r),o.drawArrays(o.TRIANGLES,0,t.tris.getCABO().getElementCount())),t.openGLTexture.deactivate()},e.renderPieceFinish=function(e,n){t.LastBoundBO&&t.LastBoundBO.getVAO().release()},e.renderPiece=function(n,r){return e.invokeEvent({type:"StartEvent"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:"EndEvent"}),null===t.currentInput?void console.error("No input!"):(e.renderPieceStart(n,r),e.renderPieceDraw(n,r),void e.renderPieceFinish(n,r))},e.computeBounds=function(n,r){return e.getInput()?void(t.bounnds=e.getInput().getBounds()):void d["default"].uninitializeBounds(t.Bounds)},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(n,r){var o=t.currentInput;if(null!==o){var i=o.getMTime()+"A"+o.getPointData().getScalars().getMTime()+"B"+e.getMTime();if(t.VBOBuildString!==i){t.texture.setInputData(o);for(var a=t.renderable.getBounds(),u=new Float32Array(12),s=new Float32Array(8),c=0;c<4;c++)u[3*c]=a[c%2],u[3*c+1]=a[(c>1?1:0)+2],u[3*c+2]=a[4],s[2*c]=c%2?1:0,s[2*c+1]=c>1?1:0;var l=g["default"].newInstance({numberOfComponents:3,values:u});l.setName("points");var f=g["default"].newInstance({numberOfComponents:2,values:s});f.setName("tcoords");var d=new Uint16Array(8);d[0]=3,d[1]=0,d[2]=1,d[3]=3,d[4]=3,d[5]=0,d[6]=3,d[7]=2;var p=g["default"].newInstance({numberOfComponents:1,values:d});t.tris.getCABO().createVBO(p,"polys",E.VTK_REPRESENTATION.SURFACE,{points:l,tcoords:f,cellOffset:0}),t.VBOBuildTime.modified(),t.VBOBuildString=i}}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,P,n),w["default"].extend(e,t),t.tris=l["default"].newInstance(),t.texture=b["default"].newInstance(),t.openGLTexture=v["default"].newInstance(),t.openGLTexture.setRenderable(t.texture),s.setGet(e,t,["context"]),t.VBOBuildTime={},s.obj(t.VBOBuildTime),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.vtkOpenGLImageMapper=i,t.extend=a;var u=n(13),s=o(u),c=n(79),l=r(c),f=n(31),d=r(f),p=n(25),g=r(p),h=n(88),v=r(h),m=n(85),y=r(m),T=n(90),b=r(T),x=n(75),w=r(x),E=n(84),C=n(91),A=r(C),M=n(92),_=r(M),P={context:null,VBOBuildTime:0,VBOBuildString:null,texture:null,openGLTexture:null,tris:null},S=t.newInstance=s.newInstance(a);t["default"]={newInstance:S,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLHelper"),e.setContext=function(e){t.program.setContext(e),t.VAO.setContext(e),t.CABO.setContext(e)},e.releaseGraphicsResources=function(e){t.VAO.releaseGraphicsResources(),t.CABO.releaseGraphicsResources(),t.CABO.setElementCount(0)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,h,n),s.obj(e,t),t.shaderSourceTime={},s.obj(t.shaderSourceTime),t.attributeUpdateTime={},s.obj(t.attributeUpdateTime),s.setGet(e,t,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType"]),t.program=d["default"].newInstance(),t.VAO=g["default"].newInstance(),t.CABO=l["default"].newInstance(),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.vtkOpenGLHelper=i,t.extend=a;var u=n(13),s=o(u),c=n(80),l=r(c),f=n(85),d=r(f),p=n(87),g=r(p),h={program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0},v=t.newInstance=s.newInstance(a);t["default"]={newInstance:v,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLCellArrayBufferObject");var n=new d["default"]({chunkSize:65500,arrayType:"Float32Array"});e.setType(p.OBJECT_TYPE.ARRAY_BUFFER),e.createVBO=function(r,o,i,a){if(!r.getData()||!r.getData().length)return t.elementCount=0,0;t.blockSize=3,t.vertexOffset=0,t.normalOffset=0,t.tCoordOffset=0,t.tCoordComponents=0,t.colorComponents=0,t.colorOffset=0;var u=a.points.getData(),s=null,c=null,l=null,f=a.colors?a.colors.getNumberOfComponents():0,d=a.tcoords?a.tcoords.getNumberOfComponents():0;
a.normals&&(t.normalOffset=4*t.blockSize,t.blockSize+=3,s=a.normals.getData()),a.tcoords&&(t.tCoordOffset=4*t.blockSize,t.tCoordComponents=d,t.blockSize+=d,c=a.tcoords.getData()),a.colors&&(t.colorComponents=a.colors.getNumberOfComponents(),t.colorOffset=4*t.blockSize,t.blockSize+=t.colorComponents,l=a.colors.getData()),t.stride=4*t.blockSize;var h=0,v=0,m=0,y=0,T=0,b=function(e){if(h=3*e,m=e*d,n.push(u[h++]),n.push(u[h++]),n.push(u[h++]),null!==s&&(v=a.haveCellNormals?3*(T+a.cellOffset):3*e,n.push(s[v++]),n.push(s[v++]),n.push(s[v++])),null!==c)for(var t=0;t<d;++t)n.push(c[m++]);if(null!==l){y=a.haveCellScalars?(T+a.cellOffset)*f:e*f;for(var r=0;r<f;++r)n.push(l[y++]/255.5)}},x={anythingToPoints:function(e,t,n){for(var r=0;r<e;++r)b(t[n+r])},linesToWireframe:function(e,t,n){for(var r=0;r<e-1;++r)b(t[n+r]),b(t[n+r+1])},polysToWireframe:function(e,t,n){for(var r=0;r<e;++r)b(t[n+r]),b(t[n+(r+1)%e])},stripsToWireframe:function(e,t,n){for(var r=0;r<e-1;++r)b(t[n+r]),b(t[n+r+1]);for(var o=0;o<e-2;o++)b(t[n+o]),b(t[n+o+2])},polysToSurface:function(e,t,n){if(e<3)console.log("skipping degenerate triangle");else for(var r=0;r<e-2;r++)b(t[n+0]),b(t[n+r+1]),b(t[n+r+2])},stripsToSurface:function(e,t,n){for(var r=0;r<e-2;r++)b(t[n+r]),b(t[n+r+1+r%2]),b(t[n+r+1+(r+1)%2])}},w=null;w=i===g.VTK_REPRESENTATION.POINTS||"verts"===o?x.anythingToPoints:i===g.VTK_REPRESENTATION.WIREFRAME||"lines"===o?x[o+"ToWireframe"]:x[o+"ToSurface"];for(var E=0,C=r.getData(),A=C.length,M=0;M<A;M++)M===E&&(w(C[M],C,E+1),E+=C[M]+1,T++);t.elementCount=n.getNumberOfElements()/t.blockSize;var _=n.getFrozenArray();return e.upload(_,p.OBJECT_TYPE.ARRAY_BUFFER),n.reset(),T},e.setCoordShiftAndScaleMethod=function(e){console.log("coordinate shift and scale not yet implemented")},e.setCoordShift=function(e){console.log("coordinate shift and scale not yet implemented")},e.setCoordScale=function(e){console.log("coordinate shift and scale not yet implemented")}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,h,n),l["default"].extend(e,t),s.setGet(e,t,["elementCount"]),s.get(e,t,["stride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(81),l=r(c),f=n(83),d=r(f),p=n(82),g=n(84),h={elementCount:0,stride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0},v=t.newInstance=s.newInstance(a);t["default"]={newInstance:v,extend:a}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){function n(e){switch(e){case s.OBJECT_TYPE.ELEMENT_ARRAY_BUFFER:return t.context.ELEMENT_ARRAY_BUFFER;case s.OBJECT_TYPE.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in t.context)return t.context.TEXTURE_BUFFER;default:case s.OBJECT_TYPE.ARRAY_BUFFER:return t.context.ARRAY_BUFFER}}t.classHierarchy.push("vtkOpenGLBufferObject");var r=null,o=null,i=!0,a="";e.getType=function(){return r},e.setType=function(e){r=e},e.getHandle=function(){return o},e.isReady=function(){return i===!1},e.generateBuffer=function(e){var i=n(e);return null===o&&(o=t.context.createBuffer(),r=e),n(r)===i},e.upload=function(u,s){var c=e.generateBuffer(s);return c?(t.context.bindBuffer(n(r),o),t.context.bufferData(n(r),u,t.context.STATIC_DRAW),i=!1,!0):(a="Trying to upload array buffer to incompatible buffer.",!1)},e.bind=function(){return!!o&&(t.context.bindBuffer(n(r),o),!0)},e.release=function(){return!!o&&(t.context.bindBuffer(n(r),null),!0)},e.releaseGraphicsResources=function(){null!==o&&(t.context.bindBuffer(n(r),null),t.context.deleteBuffer(o),o=null)},e.getError=function(){return a}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),u.obj(e,t),u.setGet(e,t,["context"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=i;var a=n(13),u=r(a),s=n(82),c=t.STATIC={},l={objectType:s.OBJECT_TYPE.ARRAY_BUFFER,context:null},f=t.newInstance=u.newInstance(i);t["default"]=Object.assign({newInstance:f,extend:i},c)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.OBJECT_TYPE={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2};t["default"]={OBJECT_TYPE:n}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.chunkSize,o=void 0===r?65536:r,i=t.arrayType,a=void 0===i?"Int32Array":i;n(this,e),this.ArrayConstructor=window[a],this.chunkSize=o,this.reset()}return r(e,[{key:"reset",value:function(){this.chunkContainer=[],this.chunkContainer.push(new this.ArrayConstructor(this.chunkSize)),this.lastChunkItemCount=0}},{key:"push",value:function(e){this.lastChunkItemCount===this.chunkSize&&(this.chunkContainer.push(new this.ArrayConstructor(this.chunkSize)),this.lastChunkItemCount=0),this.chunkContainer[this.chunkContainer.length-1][this.lastChunkItemCount]=e,this.lastChunkItemCount+=1}},{key:"getNumberOfElements",value:function(){return(this.chunkContainer.length-1)*this.chunkSize+this.lastChunkItemCount}},{key:"getFrozenArray",value:function(){for(var e=new this.ArrayConstructor(this.getNumberOfElements()),t=0;t<this.chunkContainer.length-1;++t)e.set(this.chunkContainer[t],t*this.chunkSize);var n=this.chunkContainer.length-1;if(this.lastChunkItemCount<this.chunkSize){var r=this.chunkContainer[n].buffer,o=this.lastChunkItemCount,i=new this.ArrayConstructor(r,0,o);e.set(i,n*this.chunkSize)}else e.set(this.chunkContainer[n],n*this.chunkSize);return e}}]),e}();t["default"]=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.VTK_SHADING={FLAT:0,GOURAUD:1,PHONG:2},r=t.VTK_REPRESENTATION={POINTS:0,WIREFRAME:1,SURFACE:2},o=t.VTK_INTERPOLATION={FLAT:0,GOURAUD:1,PHONG:2};t["default"]={VTK_SHADING:n,VTK_REPRESENTATION:r,VTK_INTERPOLATION:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Array.isArray(n)?n.join("\n"):n,i=!1;e.search(t)!==-1&&(i=!0);var a="";r&&(a="g");var u=new RegExp(t,a),s=e.replace(u,o);return{replace:i,result:s}}function a(e,t){t.classHierarchy.push("vtkShaderProgram"),e.compileShader=function(){return t.vertexShader.compile()?t.fragmentShader.compile()?e.attachShader(t.vertexShader)&&e.attachShader(t.fragmentShader)?e.link()?(e.setCompiled(!0),1):(console.log("Links failed: "+t.error),0):(console.log(t.error),0):(console.log(t.fragmentShader.getSource().split("\n").map(function(e,t){return t+": "+e}).join("\n")),console.log(t.fragmentShader.getError()),0):(console.log(t.vertexShader.getSource().split("\n").map(function(e,t){return t+": "+e}).join("\n")),console.log(t.vertexShader.getError()),0)},e.cleanup=function(){"Unknown"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0)},e.bind=function(){return!(!t.linked&&!t.link())&&(t.context.useProgram(t.handle),e.setBound(!0),!0)},e.isBound=function(){return!!t.bound},e.release=function(){t.context.useProgram(null),e.setBound(!1)},e.setContext=function(e){t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.link=function(){if(t.inked)return!0;if(0===t.handle)return t.error="Program has not been initialized, and/or does not have shaders.",!1;t.uniformLocs={},t.context.linkProgram(t.handle);var n=t.context.getProgramParameter(t.handle,t.context.LINK_STATUS);if(!n){var r=t.context.getProgramInfoLog(t.handle);return console.error("Error linking shader "+r),t.handle=0,!1}return e.setLinked(!0),t.attributeLocs={},!0},e.setUniformf=function(n,r){var o=e.findUniform(n);return o===-1?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform1f(o,r),!0)},e.setUniformi=function(n,r){var o=e.findUniform(n);return o===-1?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform1i(o,r),!0)},e.setUniformMatrix=function(n,r){var o=e.findUniform(n);return o===-1?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniformMatrix4fv(o,!1,r),!0)},e.setUniformMatrix3x3=function(n,r){var o=e.findUniform(n);return o===-1?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniformMatrix3fv(o,!1,r),!0)},e.setUniform3f=function(n,r){var o=e.findUniform(n);return o===-1?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform3f(o,r[0],r[1],r[2]),!0)},e.setUniform3fv=function(n,r,o){var i=e.findUniform(n);return i===-1?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform3fv(i,r,o),!0)},e.findUniform=function(e){if(!e||!t.linked)return-1;var n=Object.keys(t.uniformLocs).indexOf(e);return n!==-1?t.uniformLocs[e]:(n=t.context.getUniformLocation(t.handle,e),null===n&&(t.error="Uniform "+e+" not found in current shader program."),t.uniformLocs[e]=n,n)},e.isUniformUsed=function(e){if(!e)return!1;var n=Object.keys(t.uniformLocs).indexOf(e);return n!==-1||(t.linked?(n=t.context.getUniformLocation(t.handle,e),null!==n&&(t.uniformLocs[e]=n,!0)):(console.log("attempt to find uniform when the shader program is not linked"),!1))},e.isAttributeUsed=function(e){if(!e)return!1;var n=Object.keys(t.attributeLocs).indexOf(e);return n!==-1||(t.linked?(n=t.context.getAttribLocation(t.handle,e),n!==-1&&(t.attributeLocs[e]=n,!0)):(console.log("attempt to find uniform when the shader program is not linked"),!1))},e.attachShader=function(n){if(0===n.getHandle())return t.error="Shader object was not initialized, cannot attach it.",!1;if("Unknown"===n.getShaderType())return t.error="Shader object is of type Unknown and cannot be used.",!1;if(0===t.handle){var r=t.context.createProgram();if(0===r)return t.error="Could not create shader program.",!1;t.handle=r,t.linked=!1}return"Vertex"===n.getShaderType()&&(0!==t.vertexShaderHandle&&t.comntext.detachShader(t.handle,t.vertexShaderHandle),t.vertexShaderHandle=n.getHandle()),"Fragment"===n.getShaderType()&&(0!==t.fragmentShaderHandle&&t.context.detachShader(t.handle,t.fragmentShaderHandle),t.fragmentShaderHandle=n.getHandle()),t.context.attachShader(t.handle,n.getHandle()),e.setLinked(!1),!0},e.detachShader=function(e){if(0===e.getHandle())return t.error="shader object was not initialized, cannot attach it.",!1;if("Unknown"===e.getShaderType())return t.error="Shader object is of type Unknown and cannot be used.",!1;switch(0===t.handle&&(t.errror="This shader prorgram has not been initialized yet."),e.getShaderType()){case"Vertex":return t.vertexShaderHandle!==e.getHandle()?(t.error="The supplied shader was not attached to this program.",!1):(t.context.detachShader(t.handle,e.getHandle()),t.vertexShaderHandle=0,t.linked=!1,!0);case"Fragment":return t.fragmentShaderHandle!==e.getHandle()?(t.error="The supplied shader was not attached to this program.",!1):(t.context.detachShader(t.handle,e.getHandle()),t.fragmentShaderHandle=0,t.linked=!1,!0);default:return!1}},e.setContext=function(e){t.context=e,t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),t.attributesLocs={},t.uniformLocs={},t.vertexShader=f["default"].newInstance(),t.vertexShader.setShaderType("Vertex"),t.fragmentShader=f["default"].newInstance(),t.fragmentShader.setShaderType("Fragment"),t.geometryShader=f["default"].newInstance(),t.geometryShader.setShaderType("Geometry"),c.obj(e,t),c.setGet(e,t,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.substitute=i,t.vtkShaderProgram=a,t.extend=u;var s=n(13),c=o(s),l=n(86),f=r(l),d={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null},p=t.newInstance=c.newInstance(u);t["default"]={newInstance:p,extend:u,substitute:i}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t.classHierarchy.push("vtkShader"),e.compile=function(){var e=t.context.VERTEX_SHADER;if(!t.source||!t.source.length||"Unknown"===t.shaderType)return!1;switch(0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0),t.shaderType){case"Fragment":e=t.context.FRAGMENT_SHADER;break;case"Vertex":default:e=t.context.VERTEX_SHADER}t.handle=t.context.createShader(e),t.context.shaderSource(t.handle,t.source),t.context.compileShader(t.handle);var n=t.context.getShaderParameter(t.handle,t.context.COMPILE_STATUS);if(!n){var r=t.context.getShaderInfoLog(t.handle);return console.error("Error compiling shader '"+t.source+"': "+r),t.context.deleteShader(t.handle),t.handle=0,!1}return!0},e.cleanup=function(){"Unknown"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0,t.dirty=!0)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),u.obj(e,t),u.setGet(e,t,["shaderType","source","error","handle","context"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.vtkShader=o,t.extend=i;var a=n(13),u=r(a),s={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null},c=t.newInstance=u.newInstance(i);t["default"]={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){t.classHierarchy.push("vtkOpenGLVertexArrayObject"),e.exposedMethod=function(){},e.initialize=function(){t.extension=t.context.getExtension("OES_vertex_array_object"),!t.forceEmulation&&t.extension?(t.supported=!0,t.handleVAO=t.extension.createVertexArrayOES()):t.supported=!1},e.isReady=function(){return 0!==t.handleVAO||t.supported===!1},e.bind=function(){e.isReady()||e.initialize(),e.isReady()&&t.supported?t.extension.bindVertexArrayOES(t.handleVAO):e.isReady()&&!function(){var e=t.context;Object.keys(t.buffers).map(function(e){return t.buffers[e]}).forEach(function(n){t.context.bindBuffer(e.ARRAY_BUFFER,n.buffer),Object.keys(n.attributes).map(function(e){return n.attributes[e]}).forEach(function(t){for(var n=t.isMatrix?t.size:1,r=0;r<n;++r)e.enableVertexAttribArray(t.index+r),e.vertexAttribPointer(t.index+r,t.size,t.type,t.normalize,t.stride,t.offset+t.stride*r/t.size),t.divisor>0&&e.vertexAttribDivisor(t.index+r,1)})})}()},e.release=function(){e.isReady()&&t.supported?t.extension.bindVertexArrayOES(null):e.isReady()&&!function(){var e=t.context;Object.keys(t.buffers).map(function(e){return t.buffers[e]}).forEach(function(t){Object.keys(t.attributes).map(function(e){return t.attributes[e]}).forEach(function(t){for(var n=t.isMatrix?t.size:1,r=0;r<n;++r)e.enableVertexAttribArray(t.index+r),e.vertexAttribPointer(t.index+r,t.size,t.type,t.normalize,t.stride,t.offset+t.stride*r/t.size),t.divisor>0&&e.vertexAttribDivisor(t.index+r,0),e.disableVertexAttribArray(t.index+r)})})}()},e.shaderProgramChanged=function(){e.release(),t.handleVAO&&t.extension.deleteVertexArrayOES(t.handleVAO),t.handleVAO=0,t.handleProgram=0},e.releaseGraphicsResources=function(){e.shaderProgramChanged(),t.handleVAO&&t.extension.deleteVertexArrayOES(t.handleVAO),t.handleVAO=0,t.supported=!0,t.handleProgram=0},e.addAttributeArray=function(t,n,r,o,i,a,u,s){return e.addAttributeArrayWithDivisor(t,n,r,o,i,a,u,s,0,!1)},e.addAttributeArrayWithDivisor=function(n,r,i,a,u,s,l,f,d,p){if(!n)return!1;if(!n.isBound()||0===r.getHandle()||r.getType()!==c.OBJECT_TYPE.ARRAY_BUFFER)return!1;if(0===t.handleProgram&&(t.handleProgram=n.getHandle()),e.isReady()||e.initialize(),!e.isReady()||t.handleProgram!==n.getHandle())return!1;var g=t.context,h={};if(h.index=g.getAttribLocation(t.handleProgram,i),h.offset=a,h.stride=u,h.type=s,h.size=l,h.normalize=f,h.isMatrix=p,h.divisor=d,h.Index===-1)return!1;if(r.bind(),g.enableVertexAttribArray(h.index),g.vertexAttribPointer(h.index,h.size,h.type,h.normalize,h.stride,h.offset),d>0&&g.vertexAttribDivisor(h.index,1),!t.supported){var v=r.getHandle();Object.keys(t.buffers).indexOf(v)!==-1?(t.buffers[v].attributes[h.index]=h,t.buffers[v].buffer=v):t.buffers[v]={buffer:v,attributes:o({},h.index,h)}}return!0},e.addAttributeMatrixWithDivisor=function(n,r,o,i,a,u,s,c,l){var f=e.addAttributeArrayWithDivisor(n,r,o,i,a,u,s,c,l,!0);if(!f)return f;for(var d=t.context,p=d.getAttribLocation(t.handleProgram,o),g=1;g<s;g++)d.enableVertexAttribArray(p+g),d.vertexAttribPointer(p+g,s,u,c,a,i+a*g/s),l>0&&d.vertexAttribDivisor(p+g,1);return!0},e.removeAttributeArray=function(n){if(!e.isReady()||0===t.handleProgram)return!1;var r=t.context,o=r.getAttribLocation(t.handleProgram,n);return o!==-1&&(r.disableVertexAttribArray(o),t.supported||Object.keys(t.buffers).map(function(e){return t.buffers[e]}).forEach(function(e){delete e.attributes[o]}),!0)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),t.buffers={},s.obj(e,t),s.get(e,t,["supported"]),s.setGet(e,t,["context","forceEmulation"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=r(u),c=n(82),l={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null},f=t.newInstance=s.newInstance(a);t["default"]={newInstance:f,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){var n=this;t.classHierarchy.push("vtkOpenGLTexture"),e.build=function(e){e&&!t.renderable},e.render=function(t){if(t){var n=e.getFirstAncestorOfType("vtkOpenGLRenderer");e.preRender(n)}},e.preRender=function(n){if(t.window=n.getParent(),t.context=t.window.getContext(),t.renderable.getInterpolate()?(t.generateMipmap?e.setMinificationFilter(c.VTK_FILTER.LINEAR_MIPMAP_LINEAR):e.setMinificationFilter(c.VTK_FILTER.LINEAR),e.setMagnificationFilter(c.VTK_FILTER.LINEAR)):(e.setMinificationFilter(c.VTK_FILTER.NEAREST),e.setMagnificationFilter(c.VTK_FILTER.NEAREST)),t.handle)e.activate();else{var r=t.renderable.getInputData(),o=r.getExtent(),i=r.getPointData().getScalars();t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(c.VTK_FILTER.LINEAR_MIPMAP_LINEAR)),e.create2DFromRaw(o[1]-o[0]+1,o[3]-o[2]+1,i.getNumberOfComponents(),i.getDataType(),i.getData()),e.activate(),e.sendParameters()}},e.destroyTexture=function(){e.deactivate(),t.context&&t.handle&&t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.components=0,t.width=0,t.height=0,t.depth=0,e.resetFormatAndType()},e.createTexture=function(){t.handle||(t.handle=t.context.createTexture(),t.target&&(t.context.bindTexture(t.target,t.handle),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t.context.bindTexture(t.target,null)))},e.getTextureUnit=function(){return t.window?t.window.getTextureUnitForTexture(e):-1},e.activate=function(){t.window.activateTexture(e),e.bind()},e.deactivate=function(){t.window&&(t.window.activateTexture(e),e.unBind(),t.window.deactivateTexture(e))},e.releaseGraphicsResources=function(n){n&&t.handle&&(n.makeCurrent(),n.activateTexture(e),e.unBind(),n.deactivateTexture(e),t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.internalFormat=0,t.format=0,t.openGLDataType=0,t.components=0,t.width=0,t.height=0,t.depth=0),t.shaderProgram&&(t.shaderProgram.releaseGraphicsResources(n),t.shaderProgram=null)},e.bind=function(){t.context.bindTexture(t.target,t.handle),t.autoParameters&&e.getMTime()>t.sendParametersTime.getMTime()&&e.sendParameters()},e.unBind=function(){t.target&&t.context.bindTexture(t.target,null)},e.isBound=function(){var e=!1;if(t.context&&t.handle){var n=0;switch(t.target){case t.context.TEXTURE_2D:n=t.context.TEXTURE_BINDING_2D;break;default:console.warn("impossible case")}var r=t.context.getIntegerv(n);e=r===t.handle}return e},e.sendParameters=function(){t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.sendParametersTime.modified()},e.getInternalFormat=function(n,r){return t.internalFormat?t.internalFormat:(t.internalFormat=e.getDefaultInternalFormat(n,r),t.internalFormat||console.debug("Unable to find suitable internal format for T="+n+" NC= "+r),t.internalFormat)},e.getDefaultInternalFormat=function(e,r){var o=0;return(o=t.window.getDefaultTextureInternalFormat(e,r,!1))?o:(o=n.window.getDefaultTextureInternalFormat(e,r,!0),o||(console.debug("Unsupported internal texture type!"),console.debug("Unable to find suitable internal format for T="+e+" NC= "+r)),o)},e.setInternalFormat=function(n){n!==t.context.InternalFormat&&(t.internalFormat=n,e.modified())},e.getFormat=function(n,r){return t.format||(t.format=e.getDefaultFormat(n,r)),t.format},e.getDefaultFormat=function(e,n){switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}},e.resetFormatAndType=function(){t.format=0,t.internalFormat=0,t.openGLDataType=0},e.getDefaultDataType=function(e){switch(e){case l.VTK_DATATYPES.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case l.VTK_DATATYPES.FLOAT:case l.VTK_DATATYPES.VOID:default:return t.context.getExtension("OES_texture_float")?t.context.FLOAT:t.context.UNSIGNED_BYTE}},e.getOpenGLDataType=function(n){return t.openGLDataType||(t.openGLDataType=e.getDefaultDataType(n)),t.openGLDataType},e.getShiftAndScale=function(){var e=0,n=1;switch(t.openGLDataType){case t.context.BYTE:n=127.5,e=n-128;break;case t.context.UNSIGNED_BYTE:n=255,e=0;break;case t.context.SHORT:n=32767.5,e=n-32768;break;case t.context.UNSIGNED_SHORT:n=65536,e=0;break;case t.context.INT:n=2147483647.5,e=n-2147483648;break;case t.context.UNSIGNED_INT:n=4294967295,e=0;break;case t.context.FLOAT:}return{shift:e,scale:n}},e.getOpenGLFilterMode=function(e){switch(e){case c.VTK_FILTER.NEAREST:return t.context.NEAREST;case c.VTK_FILTER.LINEAR:return t.context.LINEAR;case c.VTK_FILTER.NEAREST_MIPMAP_NEAREST:return t.context.NEAREST_MIPMAP_NEAREST;case c.VTK_FILTER.NEAREST_MIPMAP_LINEAR:return t.context.NEAREST_MIPMAP_LINEAR;case c.VTK_FILTER.LINEAR_MIPMAP_NEAREST:return t.context.LINEAR_MIPMAP_NEAREST;case c.VTK_FILTER.LINEAR_MIPMAP_LINEAR:return t.context.LINEAR_MIPMAP_LINEAR;default:return t.context.NEAREST}},e.getOpenGLWrapMode=function(e){switch(e){case c.VTK_WRAP.CLAMP_TO_EDGE:return t.context.CLAMP_TO_EDGE;case c.VTK_WRAP.REPEAT:return t.context.REPEAT;case c.VTK_WRAP.MIRRORED_REPEAT:return t.context.MIRRORED_REPEAT;default:return t.context.CLAMP_TO_EDGE}},e.create2DFromRaw=function(n,r,o,i,a){if(e.getOpenGLDataType(i),e.getInternalFormat(i,o),e.getFormat(i,o),!t.internalFormat||!t.format||!t.openGLDataType)return console.error("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=o,t.width=n,t.height=r,t.depth=1,t.numberOfDimensions=2,t.window.activateTexture(e),e.createTexture(),e.bind();var u=a;if(i!==l.VTK_DATATYPES.FLOAT&&t.openGLDataType===t.context.FLOAT){for(var s=t.width*t.height*t.components,c=new Float32Array(s),f=0;f<s;f++)c[f]=a[f];u=c}if(i!==l.VTK_DATATYPES.UNSIGNED_CHAR&&t.openGLDataType===t.context.UNSIGNED_BYTE){for(var d=t.width*t.height*t.components,p=new Uint8Array(d),g=0;g<d;g++)p[g]=a[g];u=p}return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,u),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0},e.getMaximumTextureSize=function(e){return e&&e.isCurrent()?e.getIntegerv(e.MAX_TEXTURE_SIZE):-1}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),d["default"].extend(e,t),t.sendParametersTime={},s.obj(t.sendParametersTime),s.set(e,t,["format","openGLDataType"]),s.setGet(e,t,["window","context","keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR"]),s.get(e,t,["components"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(89),l=n(26),f=n(75),d=r(f),p={window:null,context:null,handle:0,sendParametersTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:c.VTK_WRAP.CLAMP_TO_EDGE,wrapT:c.VTK_WRAP.CLAMP_TO_EDGE,wrapR:c.VTK_WRAP.CLAMP_TO_EDGE,minificationFilter:c.VTK_FILTER.NEAREST,magnificationFilter:c.VTK_FILTER.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:0,generateMipmap:!1},g=t.newInstance=s.newInstance(a);t["default"]={newInstance:g,extend:a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.VTK_WRAP={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},r=t.VTK_FILTER={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5};t["default"]={VTK_WRAP:n,VTK_FILTER:r}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t.classHierarchy.push("vtkTexture")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),u.obj(e,t),u.algo(e,t,1,0),u.setGet(e,t,["repeat","edgeClamp","interpolate"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var a=n(13),u=r(a),s={repeat:!1,interpolate:!1,edgeClamp:!1},c=t.newInstance=u.newInstance(i,"vtkTexture");t["default"]={newInstance:c,extend:i}},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\nattribute vec4 vertexMC;\n\n// frag position in VC\n//VTK::PositionVC::Dec\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n// extra lighting parameters\n//VTK::Light::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\nvoid main()\n{\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  //VTK::PrimID::Impl\n\n  //VTK::PositionVC::Impl\n\n  //VTK::Light::Impl\n}\n"},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataFS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// Template for the polydata mappers fragment shader\n\nuniform int PrimitiveIDOffset;\n\n// VC position of this fragment\n//VTK::PositionVC::Dec\n\n// optional color passed in from the vertex shader, vertexColor\n//VTK::Color::Dec\n\n// optional surface normal declaration\n//VTK::Normal::Dec\n\n// extra lighting parameters\n//VTK::Light::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// picking support\n//VTK::Picking::Dec\n\n// Depth Peeling Support\n//VTK::DepthPeeling::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// the output of this shader\n//VTK::Output::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\n// handle coincident offsets\n//VTK::Coincident::Dec\n\nvoid main()\n{\n  // VC position of this fragment. This should not branch/return/discard.\n  //VTK::PositionVC::Impl\n\n  // Place any calls that require uniform flow (e.g. dFdx) here.\n  //VTK::UniformFlow::Impl\n\n  // Early depth peeling abort:\n  //VTK::DepthPeeling::PreColor\n\n  // Apple Bug\n  //VTK::PrimID::Impl\n\n  //VTK::Clip::Impl\n\n  //VTK::Color::Impl\n\n  // Generate the normal if we are not passed in one\n  //VTK::Normal::Impl\n\n  //VTK::Light::Impl\n\n  //VTK::TCoord::Impl\n\n  if (gl_FragData[0].a <= 0.0)\n    {\n    discard;\n    }\n\n  //VTK::DepthPeeling::Impl\n\n  //VTK::Picking::Impl\n\n  // handle coincident offsets\n  //VTK::Coincident::Impl\n}\n"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLImageSlice"),e.build=function(n){if(t.renderable&&t.renderable.getVisibility()&&n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.render=function(n){if(t.renderable&&t.renderable.getVisibility())if(n)t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.preRender();else{var r=0!==t.renderable.getIsOpaque();r||t.context.depthMask(!0)}},e.preRender=function(){var e=0!==t.renderable.getIsOpaque();e?t.context.depthMask(!0):t.context.depthMask(!1)},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),u.mat4.copy(t.MCWCMatrix,t.renderable.getMatrix()),u.mat4.transpose(t.MCWCMatrix,t.MCWCMatrix),t.renderable.getIsIdentity()?u.mat3.identity(t.normalMatrix):(u.mat3.fromMat4(t.normalMatrix,t.MCWCMatrix),u.mat3.invert(t.normalMatrix,t.normalMatrix)),t.keyMatrixTime.modified()),{mcwc:t.MCWCMatrix,normalMatrix:t.normalMatrix}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};
Object.assign(t,d,n),f["default"].extend(e,t),t.keyMatrixTime={},c.obj(t.keyMatrixTime),t.normalMatrix=u.mat3.create(),t.MCWCMatrix=u.mat4.create(),c.setGet(e,t,["context"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(3),s=n(13),c=o(s),l=n(75),f=r(l),d={context:null,keyMatrixTime:null,normalMatrix:null,MCWCMatrix:null},p=t.newInstance=c.newInstance(a);t["default"]={newInstance:p,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLPolyDataMapper"),e.build=function(e){e&&!t.renderable},e.render=function(n){if(n){t.openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t.context=t.openGLRenderWindow.getContext();for(var r=_.Start;r<_.End;r++)t.primitives[r].setContext(t.context);t.openGLActor=e.getFirstAncestorOfType("vtkOpenGLActor");var o=t.openGLActor.getRenderable(),i=e.getFirstAncestorOfType("vtkOpenGLRenderer"),a=i.getRenderable();t.openGLCamera=i.getViewNodeFor(a.getActiveCamera()),e.renderPiece(a,o)}},e.buildShaders=function(t,n,r){e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.getShaderTemplate=function(e,t,n){e.Vertex=C["default"],e.Fragment=M["default"],e.Geometry=""},e.replaceShaderColor=function(e,n,r){var o=e.Vertex,i=e.Geometry,a=e.Fragment,u=t.lastLightComplexity.get(t.lastBoundBO.getPrimitiveType()),s=["uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform; // intensity weighted color","uniform vec3 diffuseColorUniform; // intensity weighted color"];u&&(s=s.concat(["uniform vec3 specularColorUniform; // intensity weighted color","uniform float specularPowerUniform;"]));var c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];u&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),u&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),0===t.lastBoundBO.getCABO().getColorComponents()||t.drawingEdges||(s=s.concat(["varying vec4 vertexColorVSOutput;"]),o=h["default"].substitute(o,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,o=h["default"].substitute(o,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,i=h["default"].substitute(i,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,i=h["default"].substitute(i,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result);var l=t.renderable.getScalarMaterialMode();a=0===t.lastBoundBO.getCABO().getColorComponents()||t.drawingEdges?t.renderable.getInterpolateScalarsBeforeMapping()&&t.renderable.getColorCoordinates()&&!t.drawingEdges?l===x.VTK_MATERIALMODE.AMBIENT||l===x.VTK_MATERIALMODE.DEFAULT&&r.getProperty().getAmbient()>r.getProperty().getDiffuse()?h["default"].substitute(a,"//VTK::Color::Impl",c.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:l===x.VTK_MATERIALMODE.DIFFUSE||l===x.VTK_MATERIALMODE.DEFAULT&&r.getProperty().getAmbient()<=r.getProperty().getDiffuse()?h["default"].substitute(a,"//VTK::Color::Impl",c.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:h["default"].substitute(a,"//VTK::Color::Impl",c.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:h["default"].substitute(a,"//VTK::Color::Impl",c).result:l===x.VTK_MATERIALMODE.AMBIENT||l===x.VTK_MATERIALMODE.DEFAULT&&r.getProperty().getAmbient()>r.getProperty().getDiffuse()?h["default"].substitute(a,"//VTK::Color::Impl",c.concat(["  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result:l===x.VTK_MATERIALMODE.DIFFUSE||l===x.VTK_MATERIALMODE.DEFAULT&&r.getProperty().getAmbient()<=r.getProperty().getDiffuse()?h["default"].substitute(a,"//VTK::Color::Impl",c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result:h["default"].substitute(a,"//VTK::Color::Impl",c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result,a=h["default"].substitute(a,"//VTK::Color::Dec",s).result,e.Vertex=o,e.Geometry=i,e.Fragment=a},e.replaceShaderLight=function(e,n,r){var o=e.Fragment,i="",a=t.lastLightComplexity.get(t.lastBoundBO.getPrimitiveType());switch(a){case 0:o=h["default"].substitute(o,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor + diffuseColor, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:o=h["default"].substitute(o,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuse = df * diffuseColor;","  vec3 specular = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor + diffuse + specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:o=h["default"].substitute(o,"//VTK::Light::Dec",["uniform int numberOfLights;","uniform vec3 lightColor[6];","uniform vec3 lightDirectionVC[6]; // normalized","uniform vec3 lightHalfAngleVC[6]; // normalized"]).result,o=h["default"].substitute(o,"//VTK::Light::Impl",["vec3 diffuse = vec3(0,0,0);","  vec3 specular = vec3(0,0,0);","  for (int lightNum = 0; lightNum < numberOfLights; lightNum++)","    {","    float df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC[lightNum]));","    diffuse += ((df"+i+") * lightColor[lightNum]);","    if (dot(normalVCVSOutput, lightDirectionVC[lightNum]) < 0.0)","      {","      float sf = pow( max(0.0, dot(lightHalfAngleVC[lightNum],normalVCVSOutput)), specularPower);","      specular += ((sf"+i+") * lightColor[lightNum]);","      }","    }","  diffuse = diffuse * diffuseColor;","  specular = specular * specularColor;","  gl_FragData[0] = vec4(ambientColor + diffuse + specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 3:o=h["default"].substitute(o,"//VTK::Light::Dec",["uniform int numberOfLights;","uniform vec3 lightColor[6];","uniform vec3 lightDirectionVC[6]; // normalized","uniform vec3 lightHalfAngleVC[6]; // normalized","uniform vec3 lightPositionVC[6];","uniform vec3 lightAttenuation[6];","uniform float lightConeAngle[6];","uniform float lightExponent[6];","uniform int lightPositional[6];"]).result,o=h["default"].substitute(o,"//VTK::Light::Impl",["  vec3 diffuse = vec3(0,0,0);","  vec3 specular = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  for (int lightNum = 0; lightNum < numberOfLights; lightNum++)","    {","    float attenuation = 1.0;","    if (lightPositional[lightNum] == 0)","      {","      vertLightDirectionVC = lightDirectionVC[lightNum];","      }","    else","      {","      vertLightDirectionVC = vertexVC.xyz - lightPositionVC[lightNum];","      float distanceVC = length(vertLightDirectionVC);","      vertLightDirectionVC = normalize(vertLightDirectionVC);","      attenuation = 1.0 /","        (lightAttenuation[lightNum].x","         + lightAttenuation[lightNum].y * distanceVC","         + lightAttenuation[lightNum].z * distanceVC * distanceVC);","      // per OpenGL standard cone angle is 90 or less for a spot light","      if (lightConeAngle[lightNum] <= 90.0)","        {","        float coneDot = dot(vertLightDirectionVC, lightDirectionVC[lightNum]);","        // if inside the cone","        if (coneDot >= cos(radians(lightConeAngle[lightNum])))","          {","          attenuation = attenuation * pow(coneDot, lightExponent[lightNum]);","          }","        else","          {","          attenuation = 0.0;","          }","        }","      }","    float df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuse += ((df"+i+") * lightColor[lightNum]);","    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC[lightNum],normalVCVSOutput)), specularPower);","      specular += ((sf"+i+") * lightColor[lightNum]);","      }","    }","  diffuse = diffuse * diffuseColor;","  specular = specular * specularColor;","  gl_FragData[0] = vec4(ambientColor + diffuse + specular, opacity);","  //VTK::Light::Impl"],!1).result;break;default:console.error("bad light complexity")}e.Fragment=o},e.replaceShaderNormal=function(e,n,r){if(t.lastLightComplexity.get(t.lastBoundBO.getPrimitiveType())>0){var o=e.Vertex,i=e.Geometry,a=e.Fragment;t.lastBoundBO.getCABO().getNormalOffset()?(o=h["default"].substitute(o,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,o=h["default"].substitute(o,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,i=h["default"].substitute(i,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,i=h["default"].substitute(i,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,a=h["default"].substitute(a,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,a=h["default"].substitute(a,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):t.haveCellNormals?(a=h["default"].substitute(a,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,a=h["default"].substitute(a,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):t.lastBoundBO.getPrimitiveType()===_.Lines||r.getProperty().getRepresentation()===b.VTK_REPRESENTATION.WIREFRAME?(a=h["default"].substitute(a,"//VTK::UniformFlow::Impl",["  vec3 fdx = vec3(dFdx(vertexVC.x),dFdx(vertexVC.y),dFdx(vertexVC.z));","  vec3 fdy = vec3(dFdy(vertexVC.x),dFdy(vertexVC.y),dFdy(vertexVC.z));","  //VTK::UniformFlow::Impl"]).result,a=h["default"].substitute(a,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  fdx = normalize(fdx);","  fdy = normalize(fdy);","  if (abs(fdx.x) > 0.0)","    { normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(a=h["default"].substitute(a,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,a=h["default"].substitute(a,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,a=h["default"].substitute(a,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),e.Vertex=o,e.Geometry=i,e.Fragment=a}},e.replaceShaderPositionVC=function(e,n,r){var o=e.Vertex,i=e.Geometry,a=e.Fragment;r.getProperty().getRepresentation()!==b.VTK_REPRESENTATION.POINTS&&t.lastBoundBO.getPrimitiveType()!==_.Points||(o=h["default"].substitute(o,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = "+r.getProperty().getPointSize().toFixed(1)+";"],!1).result),t.lastLightComplexity.get(t.lastBoundBO.getPrimitiveType())>0?(o=h["default"].substitute(o,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,o=h["default"].substitute(o,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCDCMatrix * vertexMC;"]).result,o=h["default"].substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCDCMatrix;","uniform mat4 MCVCMatrix;"]).result,i=h["default"].substitute(i,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,i=h["default"].substitute(i,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,a=h["default"].substitute(a,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,a=h["default"].substitute(a,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(o=h["default"].substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCDCMatrix;"]).result,o=h["default"].substitute(o,"//VTK::PositionVC::Impl",["  gl_Position = MCDCMatrix * vertexMC;"]).result),e.Vertex=o,e.Geometry=i,e.Fragment=a},e.replaceShaderTCoord=function(e,n,r){if(t.lastBoundBO.getCABO().getTCoordOffset()){var o=e.Vertex,i=e.Geometry,a=e.Fragment;if(t.drawingEdges)return;o=h["default"].substitute(o,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var u=t.openGLActor.getActiveTextures(),s=2;switch(u.length>0&&(s=u[0].getComponents()),t.renderable.getColorTextureMap()&&(s=t.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents()),o=h["default"].substitute(o,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,i=h["default"].substitute(i,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,i=h["default"].substitute(i,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,a=h["default"].substitute(a,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,s){case 1:a=h["default"].substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);"]).result;break;case 2:a=h["default"].substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);"]).result;break;default:a=h["default"].substitute(a,"//VTK::TCoord::Impl","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*texture2D(texture1, tcoordVCVSOutput.st);").result}e.Vertex=o,e.Geometry=i,e.Fragment=a}},e.getCoincidentParameters=function(e,n){var r=null,o=n.getProperty();if(t.renderable.getResolveCoincidentTopology()||o.getEdgeVisibility()&&o.getRepresentation()===b.VTK_REPRESENTATION.SURFACE){var i=t.lastBoundBO.getPrimitiveType();i===_.Points||o.getRepresentation()===b.VTK_REPRESENTATION.POINTS?r=t.renderable.getCoincidentTopologyPointOffsetParameter():i===_.Lines||o.getRepresentation()===b.VTK_REPRESENTATION.WIREFRAME?r=t.renderable.getCoincidentTopologyLineOffsetParameters():i!==_.Tris&&i!==_.TriStrips||(r=t.renderable.getCoincidentTopologyPolygonOffsetParameters()),i!==_.TrisEdges&&i!==_.TriStripsEdges||(r=t.renderable.getCoincidentTopologyPolygonOffsetParameters(),r.factor/=2,r.units/=2)}return r},e.replaceShaderCoincidentOffset=function(t,n,r){var o=e.getCoincidentParameters(n,r);if(o&&(0!==o.factor||0!==o.offset)){var i=t.Fragment;i=h["default"].substitute(i,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,0!==o.factor?(i=h["default"].substitute(i,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,i=h["default"].substitute(i,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):i=h["default"].substitute(i,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result,t.Fragment=i}},e.replaceShaderValues=function(t,n,r){e.replaceShaderColor(t,n,r),e.replaceShaderNormal(t,n,r),e.replaceShaderLight(t,n,r),e.replaceShaderTCoord(t,n,r),e.replaceShaderCoincidentOffset(t,n,r),e.replaceShaderPositionVC(t,n,r)},e.getNeedToRebuildShaders=function(n,r,o){var i=0,a=n.getPrimitiveType(),u=!0,s=t.currentInput,c=o.getProperty().getInterpolation()!==b.VTK_SHADING.FLAT?s.getPointData().getNormals():null;null===c&&s.getCellData().getNormals()&&(c=s.getCelData().getNormals());var l=null!==c;return o.getProperty().getRepresentation()!==b.VTK_REPRESENTATION.POINTS&&a!==_.Points||(u=l),o.getProperty().getLighting()&&u&&!function(){i=0;var e=0;r.getLights().forEach(function(t){var n=t.getSwitch();n>0&&(e++,0===i&&(i=1)),1===i&&(e>1||1!==t.getIntensity()||!t.lightTypeIsHeadLight())&&(i=2),i<3&&t.getPositional()&&(i=3)})}(),t.lastLightComplexity.get(a)!==i&&(t.lightComplexityChanged.get(a).modified(),t.lastLightComplexity.set(a,i)),0===n.getProgram()||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<o.getMTime()||n.getShaderSourceTime().getMTime()<t.renderable.getMTime()||n.getShaderSourceTime().getMTime()<t.currentInput.getMTime()||n.getShaderSourceTime().getMTime()<t.lightComplexityChanged.get(a).getMTime()},e.updateShaders=function(n,r,o){if(n.getVAO().bind(),t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,o)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,o);var a=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==n.getProgram()&&(n.setProgram(a),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());e.setMapperShaderParameters(n,r,o),e.setPropertyShaderParameters(n,r,o),e.setCameraShaderParameters(n,r,o),e.setLightingShaderParameters(n,r,o)},e.setMapperShaderParameters=function(e,n,r){e.getProgram().setUniformi("PrimitiveIDOffset",t.primitiveIDOffset),e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(e.getCABO().bind(),e.getProgram().isAttributeUsed("vertexMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"vertexMC",e.getCABO().getVertexOffset(),e.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||console.error("Error setting vertexMC in shader VAO.")),e.getProgram().isAttributeUsed("normalMC")&&e.getCABO().getNormalOffset()&&t.lastLightComplexity.get(e.getPrimitiveType())>0&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"normalMC",e.getCABO().getNormalOffset(),e.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||console.error("Error setting normalMC in shader VAO.")),e.getProgram().isAttributeUsed("tcoordMC")&&e.getCABO().getTCoordOffset()&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"tcoordMC",e.getCABO().getTCoordOffset(),e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getTCoordComponents(),t.context.FALSE)||console.error("Error setting tcoordMC in shader VAO.")),e.getProgram().isAttributeUsed("scalarColor")&&e.getCABO().getColorComponents()&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"scalarColor",e.getCABO().getColorOffset(),e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getColorComponents(),!0)||console.error("Error setting scalarColor in shader VAO."))),t.internalColorTexture&&e.getProgram().isUniformUsed("texture1")&&e.getProgram().setUniformi("texture1",t.internalColorTexture.getTextureUnit());var o=t.openGLActor.getActiveTextures();o.forEach(function(t){var n=t.getTextureUnit(),r="texture"+(n+1);e.getProgram().isUniformUsed(r)&&e.getProgram().setUniformi(r,n)})},e.setLightingShaderParameters=function(e,n,r){if(!(t.lastLightComplexity.get(e.getPrimitiveType())<2)){var o=e.getProgram(),i=0,a=[],u=n.getLights();Object.keys(u).map(function(e){return u[e]}).forEach(function(e){var t=e.getSwitch();if(t>0){var n=e.getDiffuseColor(),r=e.getIntensity();a[i][0]=n[0]*r,a[i][1]=n[1]*r,a[i][2]=n[2]*r,i++}}),o.setUniform3fv("lightColor",i,a),o.setUniformi("numberOfLights",i),t.lastLightComplexity.get(e.getPrimitiveType())<3}},e.setCameraShaderParameters=function(e,n,r){var o=e.getProgram(),i=t.openGLCamera.getKeyMatrices(n),a=n.getActiveCamera();if(r.getIsIdentity())o.setUniformMatrix("MCDCMatrix",i.wcdc),o.isUniformUsed("MCVCMatrix")&&o.setUniformMatrix("MCVCMatrix",i.wcvc),o.isUniformUsed("normalMatrix")&&o.setUniformMatrix3x3("normalMatrix",i.normalMatrix);else{var s=t.openGLActor.getKeyMatrices();if(o.isUniformUsed("normalMatrix")){var c=u.mat3.create();u.mat3.multiply(c,i.normalMatrix,s.normalMatrix),o.setUniformMatrix3x3("normalMatrix",c)}var l=u.mat4.create();u.mat4.multiply(l,i.wcdc,s.mcwc),o.setUniformMatrix("MCDCMatrix",l),o.isUniformUsed("MCVCMatrix")&&(u.mat4.multiply(l,i.wcvc,s.mcwc),o.setUniformMatrix("MCVCMatrix",l))}o.isUniformUsed("cameraParallel")&&o.setUniformi("cameraParallel",a.getParallelProjection())},e.setPropertyShaderParameters=function(e,n,r){var o=e.getProgram(),i=r.getProperty(),a=i.getOpacity(),u=t.drawingEdges?i.getEdgeColor():i.getAmbientColor(),s=i.getAmbient(),c=[u[0]*s,u[1]*s,u[2]*s],l=t.drawingEdges?i.getEdgeColor():i.getDiffuseColor(),f=i.getDiffuse(),d=[l[0]*f,l[1]*f,l[2]*f];if(o.setUniformf("opacityUniform",a),o.setUniform3f("ambientColorUniform",c),o.setUniform3f("diffuseColorUniform",d),!(t.lastLightComplexity.get(e.getPrimitiveType())<1)){var p=i.getSpecularColor(),g=i.getSpecular(),h=[p[0]*g,p[1]*g,p[2]*g];o.setUniform3f("specularColorUniform",h);var v=i.getSpecularPower();o.setUniformf("specularPowerUniform",v)}},e.renderPieceStart=function(n,r){t.primitiveIDOffset=0,t.context.lineWidth(r.getProperty().getLineWidth()),e.updateBufferObjects(n,r),t.renderable.getColorTextureMap()&&t.internalColorTexture.activate(),t.lastBoundBO=null},e.renderPieceDraw=function(n,r){for(var o=r.getProperty().getRepresentation(),i=t.context,a=r.getProperty().getEdgeVisibility()&&o===b.VTK_REPRESENTATION.SURFACE,u=_.Start;u<_.End;u++){var s=t.primitives[u].getCABO();if(s.getElementCount()){t.drawingEdges=a&&(u===_.TrisEdges||u===_.TriStripsEdges),e.updateShaders(t.primitives[u],n,r);var c=e.getOpenGLMode(o,u);i.drawArrays(c,0,s.getElementCount());var l=c===i.POINTS?1:c===i.LINES?2:3;t.primitiveIDOffset+=s.getElementCount()/l}}},e.getOpenGLMode=function(e,n){return e===b.VTK_REPRESENTATION.POINTS||n===_.Points?t.context.POINTS:e===b.VTK_REPRESENTATION.WIREFRAME||n===_.Lines||n===_.TrisEdges||n===_.TriStripsEdges?t.context.LINES:t.context.TRIANGLES},e.renderPieceFinish=function(e,n){t.LastBoundBO&&t.LastBoundBO.getVAO().release(),t.renderable.getColorTextureMap()&&t.internalColorTexture.deactivate()},e.renderPiece=function(n,r){return e.invokeEvent({type:"StartEvent"}),t.currentInput=t.renderable.getInputData(),t.renderable.getStatic()||(t.renderable.update(),t.currentInput=t.renderable.getInputData()),e.invokeEvent({type:"EndEvent"}),null===t.currentInput?void console.error("No input!"):void(t.currentInput.getPoints&&t.currentInput.getPoints().getNumberOfValues()&&(e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)))},e.computeBounds=function(n,r){return e.getInput()?void(t.bounnds=e.getInput().getBounds()):void p["default"].uninitializeBounds(t.Bounds)},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var o=t.renderable.getColorMapColors();t.haveCellScalars=!1;var i=t.renderable.getScalarMode();t.renderable.getScalarVisibility()&&(i!==x.VTK_SCALAR_MODE.USE_CELL_DATA&&i!==x.VTK_SCALAR_MODE.USE_CELL_FIELD_DATA&&i!==x.VTK_SCALAR_MODE.USE_FIELD_DATA&&r.getPointData().getScalars()||i===x.VTK_SCALAR_MODE.USE_POINT_FIELD_DATA||!o||(t.haveCellScalars=!0));var a=n.getProperty().getInterpolation()!==b.VTK_SHADING.FLAT?r.getPointData().getNormals():null;null===a&&r.getCellData().getNormals()&&(t.haveCellNormals=!0,a=r.getCelData().getNormals());var u=n.getProperty().getRepresentation(),s=r.getMTime()+"A"+u+"B"+r.getMTime()+("C"+(a?a.getMTime():1)+"D"+(o?o.getMTime():1))+("E"+n.getProperty().getEdgeVisibility()),c=r.getPointData().getTCoords();if(t.openGLActor.getActiveTextures().length||(c=null),t.renderable.getColorCoordinates()){c=t.renderable.getColorCoordinates(),t.internalColorTexture||(t.internalColorTexture=m["default"].newInstance());var l=t.internalColorTexture;l.setMinificationFilter(w.VTK_FILTER.NEAREST),l.setMagnificationFilter(w.VTK_FILTER.NEAREST),l.setWrapS(w.VTK_WRAP.CLAMP_TO_EDGE),l.setWrapT(w.VTK_WRAP.CLAMP_TO_EDGE),l.setWindow(t.openGLRenderWindow),l.setContext(t.openGLRenderWindow.getContext());var f=t.renderable.getColorTextureMap(),d=f.getExtent(),p=f.getPointData().getScalars();l.create2DFromRaw(d[1]-d[0]+1,d[3]-d[2]+1,p.getNumberOfComponents(),p.getDataType(),p.getData()),l.activate(),l.sendParameters(),l.deactivate()}if(t.VBOBuildString!==s){var g=r.getPoints().getData(),h={points:g,normals:a,tcoords:c,colors:o,cellOffset:0,haveCellScalars:t.haveCellScalars,haveCellNormals:t.haveCellNormals};h.cellOffset+=t.primitives[_.Points].getCABO().createVBO(r.getVerts(),"verts",u,h),h.cellOffset+=t.primitives[_.Lines].getCABO().createVBO(r.getLines(),"lines",u,h),h.cellOffset+=t.primitives[_.Tris].getCABO().createVBO(r.getPolys(),"polys",u,h),h.cellOffset+=t.primitives[_.TriStrips].getCABO().createVBO(r.getStrips(),"strips",u,h),n.getProperty().getEdgeVisibility()?(t.primitives[_.TrisEdges].getCABO().createVBO(r.getPolys(),"polys",b.VTK_REPRESENTATION.WIREFRAME,{points:g,normals:a,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1}),t.primitives[_.TriStripsEdges].getCABO().createVBO(r.getStrips(),"strips",b.VTK_REPRESENTATION.WIREFRAME,{points:g,normals:a,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1})):(t.primitives[_.TrisEdges].releaseGraphicsResources(t.openGLRenderWindow),t.primitives[_.TriStripsEdges].releaseGraphicsResources(t.openGLRenderWindow)),t.VBOBuildTime.modified(),t.VBOBuildString=s}}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,P,n),T["default"].extend(e,t),t.lightComplexityChanged=new Map,t.lastLightComplexity=new Map,t.primitives=[];for(var r=_.Start;r<_.End;r++)t.primitives[r]=f["default"].newInstance(),t.primitives[r].setPrimitiveType(r),t.lightComplexityChanged.set(r,{}),c.obj(t.lightComplexityChanged.get(r)),t.lastLightComplexity.set(r,0);c.setGet(e,t,["context"]),t.VBOBuildTime={},c.obj(t.VBOBuildTime),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.vtkOpenGLPolyDataMapper=i,t.extend=a;var u=n(3),s=n(13),c=o(s),l=n(79),f=r(l),d=n(31),p=r(d),g=n(85),h=r(g),v=n(88),m=r(v),y=n(75),T=r(y),b=n(84),x=n(95),w=n(89),E=n(91),C=r(E),A=n(92),M=r(A),_={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6},P={context:null,VBOBuildTime:0,VBOBuildString:null,lightComplexityChanged:null,lastLightComplexity:null,primitives:null},S=t.newInstance=c.newInstance(a);t["default"]={newInstance:S,extend:a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.VTK_COLOR_MODE={DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},r=t.VTK_SCALAR_MODE={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},o=t.VTK_MATERIALMODE={DEFAULT:0,AMBIENT:1,DIFFUSE:2,AMBIENT_AND_DIFFUSE:3},i=t.VTK_GET_ARRAY={BY_ID:0,BY_NAME:1};t["default"]={VTK_COLOR_MODE:n,VTK_MATERIALMODE:o,VTK_GET_ARRAY:i,VTK_SCALAR_MODE:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkOpenGLRenderer"),e.build=function(n){if(n){if(!t.renderable)return;t.renderable.isActiveCameraCreated()||t.renderable.resetCamera(),e.updateLights(),e.prepareNodes(),e.addMissingNode(t.renderable.getActiveCamera()),e.addMissingNodes(t.renderable.getActors()),e.addMissingNodes(t.renderable.getActors2D()),e.addMissingNodes(t.renderable.getVolumes()),e.removeUnusedNodes()}},e.updateLights=function(){var e=0;return t.renderable.getLights().forEach(function(t){t.getSwitch()>0&&e++}),e||(console.debug("No lights are on, creating one."),t.renderable.createLight()),e},e.render=function(n){n&&(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),e.clear())},e.getAspectRatio=function(){var e=t.parent.getSize(),n=t.renderable.getViewport();return e[0]*(n[2]-n[0])/((n[3]-n[1])*e[1])},e.getTiledSizeAndOrigin=function(){var e=t.renderable.getViewport(),n=[0,0,1,1],r=d["default"].clampValue(e[0]-n[0],0,1),o=d["default"].clampValue(e[1]-n[1],0,1),i=t.parent.normalizedDisplayToDisplay(r,o),a=Math.round(i[0]),u=Math.round(i[1]),s=d["default"].clampValue(e[2]-n[0],0,1),c=d["default"].clampValue(e[3]-n[1],0,1);s>n[2]-n[0]&&(s=n[2]-n[0]),c>n[3]-n[1]&&(c=n[3]-n[1]);var l=t.parent.normalizedDisplayToDisplay(s,c),f=Math.round(l[0])-a,p=Math.round(l[1])-u;return f<0&&(f=0),p<0&&(p=0),{usize:f,vsize:p,lowerLeftU:a,lowerLeftV:u}},e.clear=function(){var e=0,n=t.context;if(!t.renderable.getTransparent()){var r=t.renderable.getBackground();t.context.clearColor(r[0],r[1],r[2],1),e|=n.COLOR_BUFFER_BIT}t.renderable.getPreserveDepthBuffer()||(n.clearDepth(1),e|=n.DEPTH_BUFFER_BIT,n.depthMask(!0)),n.colorMask(!0,!0,!0,!0),n.clear(e),n.enable(n.DEPTH_TEST)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),l["default"].extend(e,t),s.get(e,t,["shaderCache"]),s.setGet(e,t,["context"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.vtkOpenGLRenderer=i,t.extend=a;var u=n(13),s=o(u),c=n(75),l=r(c),f=n(31),d=r(f),p={context:null},g=t.newInstance=s.newInstance(a);t["default"]={newInstance:g,extend:a}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){t.classHierarchy.push("vtkShaderCache"),e.replaceShaderValues=function(e,n,r){t.context.getExtension("OES_standard_derivatives");var o=n;r.length>0&&(o=d["default"].substitute(o,"VSOut","GSOut").result);var i="#version 100\n",a=d["default"].substitute(e,"//VTK::System::Dec",i).result;o=d["default"].substitute(o,"//VTK::System::Dec",[i+"\n#extension GL_OES_standard_derivatives : enable\n","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif"]).result;var u=d["default"].substitute(r,"//VTK::System::Dec",i).result;return{VSSource:a,FSSource:o,GSSource:u}},e.readyShaderProgramArray=function(t,n,r){var o=e.replaceShaderValues(t,n,r),i=e.getShaderProgram(o.VSSource,o.FSSource,o.GSSource);return e.readyShaderProgram(i)},e.readyShaderProgram=function(t){return t&&(t.getCompiled()||t.compileShader())&&e.bindShader(t)?t:null},e.getShaderProgram=function(e,n,r){var o=""+e+n+r,i=(0,s["default"])(o),a=Object.keys(t.shaderPrograms).indexOf(i);if(a===-1){var u=d["default"].newInstance();return u.setContext(t.context),u.getVertexShader().setSource(e),u.getFragmentShader().setSource(n),r&&u.getGeometryShader().setSource(r),u.setMd5Hash(i),t.shaderPrograms[i]=u,u}return t.shaderPrograms[i]},e.releaseGraphicsResources=function(n){e.releaseCurrentShader(),Object.keys(t.shaderPrograms).map(function(e){return t.shaderPrograms[e]}).forEach(function(e){return e.releaseGraphicsResources(n)})},e.releaseGraphicsResources=function(){t.astShaderBound&&(t.lastShaderBound.release(),t.lastShaderBound=null)},e.bindShader=function(e){return t.lastShaderBound===e?1:(t.lastShaderBound&&t.lastShaderBound.release(),
e.bind(),t.lastShaderBound=e,1)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign(t,g,n),t.shaderPrograms={},l.obj(e,t),l.setGet(e,t,p),i(e,t),Object.freeze(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(98),s=o(u),c=n(13),l=r(c),f=n(85),d=o(f),p=["lastShaderBound","context"],g={lastShaderBound:null,shaderPrograms:null,context:null},h=t.newInstance=l.newInstance(a);t["default"]={newInstance:h,extend:a}},function(e,t,n){var r;!function(o){"use strict";function i(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function u(e,t,n,r,o,u){return i(a(i(i(t,e),i(r,u)),o),n)}function s(e,t,n,r,o,i,a){return u(t&n|~t&r,e,t,o,i,a)}function c(e,t,n,r,o,i,a){return u(t&r|n&~r,e,t,o,i,a)}function l(e,t,n,r,o,i,a){return u(t^n^r,e,t,o,i,a)}function f(e,t,n,r,o,i,a){return u(n^(t|~r),e,t,o,i,a)}function d(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n,r,o,a,u,d=1732584193,p=-271733879,g=-1732584194,h=271733878;for(n=0;n<e.length;n+=16)r=d,o=p,a=g,u=h,d=s(d,p,g,h,e[n],7,-680876936),h=s(h,d,p,g,e[n+1],12,-389564586),g=s(g,h,d,p,e[n+2],17,606105819),p=s(p,g,h,d,e[n+3],22,-1044525330),d=s(d,p,g,h,e[n+4],7,-176418897),h=s(h,d,p,g,e[n+5],12,1200080426),g=s(g,h,d,p,e[n+6],17,-1473231341),p=s(p,g,h,d,e[n+7],22,-45705983),d=s(d,p,g,h,e[n+8],7,1770035416),h=s(h,d,p,g,e[n+9],12,-1958414417),g=s(g,h,d,p,e[n+10],17,-42063),p=s(p,g,h,d,e[n+11],22,-1990404162),d=s(d,p,g,h,e[n+12],7,1804603682),h=s(h,d,p,g,e[n+13],12,-40341101),g=s(g,h,d,p,e[n+14],17,-1502002290),p=s(p,g,h,d,e[n+15],22,1236535329),d=c(d,p,g,h,e[n+1],5,-165796510),h=c(h,d,p,g,e[n+6],9,-1069501632),g=c(g,h,d,p,e[n+11],14,643717713),p=c(p,g,h,d,e[n],20,-373897302),d=c(d,p,g,h,e[n+5],5,-701558691),h=c(h,d,p,g,e[n+10],9,38016083),g=c(g,h,d,p,e[n+15],14,-660478335),p=c(p,g,h,d,e[n+4],20,-405537848),d=c(d,p,g,h,e[n+9],5,568446438),h=c(h,d,p,g,e[n+14],9,-1019803690),g=c(g,h,d,p,e[n+3],14,-187363961),p=c(p,g,h,d,e[n+8],20,1163531501),d=c(d,p,g,h,e[n+13],5,-1444681467),h=c(h,d,p,g,e[n+2],9,-51403784),g=c(g,h,d,p,e[n+7],14,1735328473),p=c(p,g,h,d,e[n+12],20,-1926607734),d=l(d,p,g,h,e[n+5],4,-378558),h=l(h,d,p,g,e[n+8],11,-2022574463),g=l(g,h,d,p,e[n+11],16,1839030562),p=l(p,g,h,d,e[n+14],23,-35309556),d=l(d,p,g,h,e[n+1],4,-1530992060),h=l(h,d,p,g,e[n+4],11,1272893353),g=l(g,h,d,p,e[n+7],16,-155497632),p=l(p,g,h,d,e[n+10],23,-1094730640),d=l(d,p,g,h,e[n+13],4,681279174),h=l(h,d,p,g,e[n],11,-358537222),g=l(g,h,d,p,e[n+3],16,-722521979),p=l(p,g,h,d,e[n+6],23,76029189),d=l(d,p,g,h,e[n+9],4,-640364487),h=l(h,d,p,g,e[n+12],11,-421815835),g=l(g,h,d,p,e[n+15],16,530742520),p=l(p,g,h,d,e[n+2],23,-995338651),d=f(d,p,g,h,e[n],6,-198630844),h=f(h,d,p,g,e[n+7],10,1126891415),g=f(g,h,d,p,e[n+14],15,-1416354905),p=f(p,g,h,d,e[n+5],21,-57434055),d=f(d,p,g,h,e[n+12],6,1700485571),h=f(h,d,p,g,e[n+3],10,-1894986606),g=f(g,h,d,p,e[n+10],15,-1051523),p=f(p,g,h,d,e[n+1],21,-2054922799),d=f(d,p,g,h,e[n+8],6,1873313359),h=f(h,d,p,g,e[n+15],10,-30611744),g=f(g,h,d,p,e[n+6],15,-1560198380),p=f(p,g,h,d,e[n+13],21,1309151649),d=f(d,p,g,h,e[n+4],6,-145523070),h=f(h,d,p,g,e[n+11],10,-1120210379),g=f(g,h,d,p,e[n+2],15,718787259),p=f(p,g,h,d,e[n+9],21,-343485551),d=i(d,r),p=i(p,o),g=i(g,a),h=i(h,u);return[d,p,g,h]}function p(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function g(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){return p(d(g(e),8*e.length))}function v(e,t){var n,r,o=g(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=d(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=d(i.concat(g(t)),512+8*t.length),p(d(a.concat(r),640))}function m(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function y(e){return unescape(encodeURIComponent(e))}function T(e){return h(y(e))}function b(e){return m(T(e))}function x(e,t){return v(y(e),y(t))}function w(e,t){return m(x(e,t))}function E(e,t,n){return t?n?x(t,e):w(t,e):n?T(e):b(e)}r=function(){return E}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t.classHierarchy.push("vtkOpenGLTextureUnitManager"),e.deleteTable=function(){t.textureUnits.length&&console.error("some texture units  were not properly released"),t.textureUnits=[],t.numberOfTextureUnits=0},e.setContext=function(n){t.context!==n&&(0!==t.context&&e.deleteTable(),t.context=n,t.context&&(t.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),e.modified())},e.allocate=function(){for(var n=0;n<t.numberOfTextureUnits;n++)if(!e.isAllocated(n))return t.textureUnits[n]=!0,n;return-1},e.allocateUnit=function(n){return e.isAllocated(n)?-1:(t.textureUnits[n]=!0,n)},e.isAllocated=function(e){return!!t.textureUnits.filter(function(t){return t===e}).length},e.free=function(e){var n=t.textureUnits.filter(function(t){return t===e});t.textureUnits.length!==n.length&&(t.textureUnits=n)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),u.obj(e,t),u.get(e,t,["numberOfTextureUnits"]),u.setGet(e,t,["context","keyMatrixTime"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var a=n(13),u=r(a),s={context:null,numberOfTextureUnits:0,textureUnits:0},c=t.newInstance=u.newInstance(i);t["default"]={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return function(){return console.log("vtkRenderer::"+e+" - NOT IMPLEMENTED")}}function a(e,t){t.classHierarchy.push("vtkRenderer"),e.updateCamera=function(){return t.activeCamera||(console.debug("No cameras are on, creating one."),e.getActiveCameraAndResetIfCreated()),t.activeCamera.render(e),!0},e.updateLightsGeometryToFollowCamera=function(){var n=e.getActiveCameraAndResetIfCreated(),r=n.getCameraLightTransformMatrix();t.lights.forEach(function(e){e.lightTypeIsSceneLight()||(e.lightTypeIsHeadLight()?(e.setPosition(n.getPosition()),e.setFocalPoint(n.getFocalPoint())):e.lightTypeIsCameraLight()?e.setTransformMatrix(r):console.error("light has unknown light type",e))})},e.updateLightGeometry=function(){return!t.lightFollowCamera||e.updateLightsGeometryToFollowCamera()},e.allocateTime=i("allocateTime"),e.updateGeometry=i("updateGeometry"),e.getVTKWindow=function(){return t.renderWindow},e.setLayer=function(n){console.debug(e.getClassName(),e,"setting Layer to ",n),t.layer!==n&&(t.layer=n,e.modified()),e.setPreserveColorBuffer(!!n)},e.setActiveCamera=function(n){return t.activeCamera!==n&&(t.activeCamera=n,e.modified(),e.invokeEvent({type:"ActiveCameraEvent",camera:n}),!0)},e.makeCamera=function(){var t=d["default"].newInstance();return e.invokeEvent({type:"CreateCameraEvent",camera:t}),t},e.getActiveCamera=function(){return t.activeCamera||(t.activeCamera=e.makeCamera()),t.activeCamera},e.getActiveCameraAndResetIfCreated=function(){return t.activeCamera||(e.getActiveCamera(),e.resetCamera()),t.activeCamera},e.addActor=e.addViewProp,e.addVolume=e.addViewProp,e.removeActor=function(n){t.actors=t.actors.filter(function(e){return e!==n}),e.removeViewProp(n)},e.removeVolume=function(n){t.volumes=t.volumes.filter(function(e){return e!==n}),e.removeViewProp(n)},e.addLight=function(n){t.lights=[].concat(t.lights,n),e.modified()},e.getActors=function(){return t.actors=[],t.props.forEach(function(e){t.actors=t.actors.concat(e.getActors())}),t.actors},e.getVolumes=function(){return t.volumes=[],t.props.forEach(function(e){t.volumes=t.volumes.concat(e.getVolumes())}),t.volumes},e.removeLight=function(n){t.lights=t.lights.filter(function(e){return e!==n}),e.modified()},e.removeAllLights=function(){t.lights=[]},e.addCuller=i("addCuller"),e.removeCuller=i("removeCuller"),e.setLightCollection=function(n){t.lights=n,e.modified()},e.makeLight=g["default"].newInstance,e.createLight=function(){t.automaticLightCreation&&(t.createdLight&&(e.removeLight(t.createdLight),t.createdLight["delete"](),t.createdLight=null),t.createdLight=e.makeLight(),e.addLight(t.createdLight),t.createdLight.setLightTypeToHeadLight(),t.createdLight.setPosition(e.getActiveCamera().getPosition()),t.createdLight.setFocalPoint(e.getActiveCamera().getFocalPoint()))},e.normalizedDisplayToWorld=function(t,n,r){var o=e.normalizedDisplayToView(t,n,r);return e.viewToWorld(o[0],o[1],o[2])},e.worldToNormalizedDisplay=function(t,n,r){var o=e.worldToView(t,n,r);return e.viewToNormalizedDisplay(o[0],o[1],o[2])},e.viewToWorld=function(e,n,r){if(null===t.activeCamera)return console.error("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var o=t.activeCamera.getCompositeProjectionTransformMatrix(1,0,1);s.mat4.invert(o,o),s.mat4.transpose(o,o);var i=s.vec3.fromValues(e,n,r);return s.vec3.transformMat4(i,i,o),[i[0],i[1],i[2]]},e.worldToView=function(e,n,r){if(null===t.activeCamera)return console.error("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var o=t.activeCamera.getCompositeProjectionTransformMatrix(1,0,1);s.mat4.transpose(o,o);var i=s.vec3.fromValues(e,n,r);return s.vec3.transformMat4(i,i,o),[i[0],i[1],i[2]]},e.computeVisiblePropBounds=function(){var n=[].concat(T.INIT_BOUNDS),r=!0;return e.invokeEvent({type:"ComputeVisiblePropBoundsEvent",renderer:e}),t.props.filter(function(e){return e.getVisibility()&&e.getUseBounds()}).forEach(function(e){var t=e.getBounds();t&&v["default"].areBoundsInitialized(t)&&(r=!1,t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1]),t[2]<n[2]&&(n[2]=t[2]),t[3]>n[3]&&(n[3]=t[3]),t[4]<n[4]&&(n[4]=t[4]),t[5]>n[5]&&(n[5]=t[5]))}),r&&(v["default"].uninitializeBounds(n),console.debug("Can't compute bounds, no 3D props are visible")),n},e.resetCamera=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=n||e.computeVisiblePropBounds(),o=[0,0,0];if(!v["default"].areBoundsInitialized(r))return console.debug("Cannot reset camera!"),!1;var i=null;if(!e.getActiveCamera())return console.error("Trying to reset non-existant camera"),!1;i=t.activeCamera.getViewPlaneNormal(),t.activeCamera.setViewAngle(30),o[0]=(r[0]+r[1])/2,o[1]=(r[2]+r[3])/2,o[2]=(r[4]+r[5])/2;var a=r[1]-r[0],u=r[3]-r[2],s=r[5]-r[4];a*=a,u*=u,s*=s;var c=a+u+s;c=0===c?1:c,c=.5*Math.sqrt(c);var l=v["default"].radiansFromDegrees(t.activeCamera.getViewAngle()),f=c,d=c/Math.sin(.5*l),p=t.activeCamera.getViewUp();return Math.abs(v["default"].dot(p,i))>.999&&(console.warn("Resetting view-up since view plane normal is parallel"),t.activeCamera.setViewUp(-p[2],p[0],p[1])),t.activeCamera.setFocalPoint(o[0],o[1],o[2]),t.activeCamera.setPosition(o[0]+d*i[0],o[1]+d*i[1],o[2]+d*i[2]),e.resetCameraClippingRange(r),t.activeCamera.setParallelScale(f),e.invokeEvent({type:"ResetCameraEvent",renderer:e}),!0},e.resetCameraClippingRange=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=n||e.computeVisiblePropBounds();if(!v["default"].areBoundsInitialized(r))return console.debug("Cannot reset camera clipping range!"),!1;if(e.getActiveCameraAndResetIfCreated(),!t.activeCamera)return console.error("Trying to reset clipping range of non-existant camera"),!1;var o=null,i=null;o=t.activeCamera.getViewPlaneNormal(),i=t.activeCamera.getPosition();for(var a=-o[0],u=-o[1],s=-o[2],c=-(a*i[0]+u*i[1]+s*i[2]),l=[a*r[0]+u*r[2]+s*r[4]+c,1e-18],f=0;f<2;f++)for(var d=0;d<2;d++)for(var p=0;p<2;p++){var g=a*r[p]+u*r[2+d]+s*r[4+f]+c;l[0]=g<l[0]?g:l[0],l[1]=g>l[1]?g:l[1]}var h=0;if(t.activeCamera.getParallelProjection())h=.1*t.activeCamera.getParallelScale();else{var m=v["default"].radiansFromDegrees(t.activeCamera.getViewAngle());h=.2*Math.tan(m/2)*l[1]}return l[1]-l[0]<h&&(h=h-l[1]+l[0],l[1]+=h/2,l[0]-=h/2),l[0]<0&&(l[0]=0),l[0]=.99*l[0]-(l[1]-l[0])*t.clippingRangeExpansion,l[1]=1.01*l[1]+(l[1]-l[0])*t.clippingRangeExpansion,l[0]=l[0]>=l[1]?.01*l[1]:l[0],t.nearClippingPlaneTolerance||(t.nearClippingPlaneTolerance=.01),l[0]<t.nearClippingPlaneTolerance*l[1]&&(l[0]=t.nearClippingPlaneTolerance*l[1]),t.activeCamera.setClippingRange(l[0],l[1]),e.invokeEvent({type:"ResetCameraClippingRangeEvent",renderer:e}),!1},e.setRenderWindow=function(e){e!==t.renderWindow&&(t.vtkWindow=e,t.renderWindow=e)},e.visibleActorCount=function(){return t.props.filter(function(e){return e.getVisibility()}).length},e.visibleVolumeCount=e.visibleActorCount,e.getMTime=function(){return Math.max(t.mtime,t.activeCamera?t.activeCamera.getMTime():0,t.createdLight?t.createdLight.getMTime():0)},e.pickProp=i("pickProp"),e.pickRender=i("PickRender"),e.pickGeometry=i("PickGeometry"),e.getTransparent=function(){return!!t.preserveColorBuffer},e.getTiledAspectRatio=i("GetTiledAspectRatio"),e.isActiveCameraCreated=function(){return!!t.activeCamera}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,b,n),y["default"].extend(e,t,n),l.get(e,t,["renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),l.setGet(e,t,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","useShadows","pass"]),l.getArray(e,t,["actors","volumes","lights"]),l.setGetArray(e,t,["background"],3),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=u;var s=n(3),c=n(13),l=o(c),f=n(101),d=r(f),p=n(102),g=r(p),h=n(31),v=r(h),m=n(103),y=r(m),T=n(16),b={pickedProp:null,activeCamera:null,ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,createdLight:null,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:1,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:v["default"].createUninitializedBouds(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,pass:0},x=t.newInstance=l.newInstance(u,"vtkRenderer");t["default"]={newInstance:x,extend:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkCamera");var n=u.mat4.create(),r=u.mat4.create();e.orthogonalizeViewUp=function(){var n=e.getViewTransformMatrix();t.viewUp[0]=n[4],t.viewUp[1]=n[5],t.viewUp[2]=n[6],e.modified()},e.setPosition=function(n,r,o){n===t.position[0]&&r===t.position[1]&&o===t.position[2]||(t.position[0]=n,t.position[1]=r,t.position[2]=o,e.computeDistance(),e.modified())},e.setFocalPoint=function(n,r,o){n===t.focalPoint[0]&&r===t.focalPoint[1]&&o===t.focalPoint[2]||(t.focalPoint[0]=n,t.focalPoint[1]=r,t.focalPoint[2]=o,e.computeDistance(),e.modified())},e.setDistance=function(e){},e.getDistance=function(){},e.computeDistance=function(){var n=t.focalPoint[0]-t.position[0],r=t.focalPoint[1]-t.position[1],o=t.focalPoint[2]-t.position[2];if(t.distance=Math.sqrt(n*n+r*r+o*o),t.distance<1e-20){t.distance=1e-20,console.debug("Distance is set to minimum.");var i=t.DirectionOfProjection;t.focalPoint[0]=t.position[0]+i[0]*t.distance,t.focalPoint[1]=t.position[1]+i[1]*t.distance,t.focalPoint[2]=t.position[2]+i[2]*t.distance}t.directionOfProjection[0]=n/t.distance,t.directionOfProjection[1]=r/t.distance,t.directionOfProjection[2]=o/t.distance,e.computeViewPlaneNormal()},e.computeViewPlaneNormal=function(){t.viewPlaneNormal[0]=-t.directionOfProjection[0],t.viewPlaneNormal[1]=-t.directionOfProjection[1],t.viewPlaneNormal[2]=-t.directionOfProjection[2]},e.dolly=function(n){if(!(n<=0)){var r=t.distance/n;e.setPosition(t.focalPoint[0]-r*t.directionOfProjection[0],t.focalPoint[1]-r*t.directionOfProjection[1],t.focalPoint[2]-r*t.directionOfProjection[2])}},e.setRoll=function(e){},e.getRoll=function(){},e.roll=function(n){var r=t.position,o=t.focalPoint,i=t.viewUp,a=u.vec4.fromValues(i[0],i[1],i[2],0),s=u.mat4.create(),c=u.vec3.fromValues(o[0]-r[0],o[1]-r[1],o[2]-r[2]);u.mat4.rotate(s,s,f["default"].radiansFromDegrees(n),c),u.vec4.transformMat4(a,a,s),t.viewUp[0]=a[0],t.viewUp[1]=a[1],t.viewUp[2]=a[2],e.modified()},e.azimuth=function(n){var r=u.vec3.create(),o=t.focalPoint,i=u.mat4.create();u.mat4.identity(i),u.mat4.translate(i,i,u.vec3.fromValues(o[0],o[1],o[2])),u.mat4.rotate(i,i,f["default"].radiansFromDegrees(n),u.vec3.fromValues(t.viewUp[0],t.viewUp[1],t.viewUp[2])),u.mat4.translate(i,i,u.vec3.fromValues(-o[0],-o[1],-o[2])),u.vec3.transformMat4(r,u.vec3.fromValues(t.position[0],t.position[1],t.position[2]),i),e.setPosition(r[0],r[1],r[2])},e.yaw=function(e){},e.elevation=function(n){var r=u.vec3.create(),o=t.focalPoint,i=e.getViewTransformMatrix(),a=[-i[0],-i[1],-i[2]],s=u.mat4.create();u.mat4.identity(s),u.mat4.translate(s,s,u.vec3.fromValues(o[0],o[1],o[2])),u.mat4.rotate(s,s,f["default"].radiansFromDegrees(n),u.vec3.fromValues(a[0],a[1],a[2])),u.mat4.translate(s,s,u.vec3.fromValues(-o[0],-o[1],-o[2])),u.vec3.transformMat4(r,u.vec3.fromValues(t.position[0],t.position[1],t.position[2]),s),e.setPosition(r[0],r[1],r[2])},e.pitch=function(e){},e.zoom=function(n){n<=0||(t.parallelProjection?t.parallelScale/=n:t.viewAngle/=n,e.modified())},e.setThickness=function(e){},e.setWindowCenter=function(e,t){},e.setObliqueAngles=function(e,t){},e.applyTransform=function(e){},e.getViewTransformMatrix=function(){var e=t.position,r=t.focalPoint,o=t.viewUp,i=u.mat4.lookAt(n,u.vec3.fromValues(e[0],e[1],e[2]),u.vec3.fromValues(r[0],r[1],r[2]),u.vec3.fromValues(o[0],o[1],o[2]));return u.mat4.transpose(i,i),i},e.getViewTransformObject=function(){},e.getProjectionTransformMatrix=function(e,n,o){u.mat4.identity(r);var i=t.clippingRange[1]-t.clippingRange[0],a=[t.clippingRange[0]+(n+1)*i/2,t.clippingRange[0]+(o+1)*i/2];if(t.parallelProjection){var s=t.parallelScale*e,c=t.parallelScale,l=(t.windowCenter[0]-1)*s,d=(t.windowCenter[0]+1)*s,p=(t.windowCenter[1]-1)*c,g=(t.windowCenter[1]+1)*c;u.mat4.ortho(r,l,d,p,g,n,o)}else{if(t.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var h=t.viewAngle;t.useHorizontalViewAngle===!0&&(h=t.viewAngle/e),u.mat4.perspective(r,f["default"].radiansFromDegrees(h),e,a[0],a[1])}return u.mat4.transpose(r,r),r},e.getProjectionTransformObject=function(e,t,n){},e.getCompositeProjectionTransformMatrix=function(t,n,r){var o=e.getViewTransformMatrix(),i=e.getProjectionTransformMatrix(t,n,r);return u.mat4.multiply(i,o,i),i},e.setUserViewTransform=function(e){},e.setUserTransform=function(e){},e.render=function(e){},e.getViewingRaysMTime=function(){},e.viewingRaysModified=function(){},e.getFrustumPlanes=function(e){},e.getOrientation=function(){},e.getOrientationWXYZ=function(){},e.getCameraLightTransformMatrix=function(){},e.updateViewport=function(){},e.shallowCopy=function(e){},e.deepCopy=function(e){},e.setScissorRect=function(e){},e.getScissorRect=function(){}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),c.obj(e,t),c.get(e,t,["thickness","userViewTransform","userTransform"]),c.setGet(e,t,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","focalDisk","useOffAxisProjection","freezeFocalPoint","useScissor"]),c.getArray(e,t,["directionOfProjection","windowCenter","viewPlaneNormal","position","focalPoint"]),c.setGetArray(e,t,["clippingRange"],2),c.setGetArray(e,t,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight"],3),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.DEFAULT_VALUES=void 0,t.extend=a;var u=n(3),s=n(13),c=o(s),l=n(31),f=r(l),d=t.DEFAULT_VALUES={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],thickness:1e3,windowCenter:[0,0],viewPlaneNormal:[0,0,1],focalDisk:1,useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],userViewTransform:null,userTransform:null,freezeFocalPoint:!1,useScissor:!1},p=t.newInstance=c.newInstance(a,"vtkCamera");t["default"]={newInstance:p,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkLight"),e.getTransformedPosition=function(){return t.transformMatrix?[]:[].concat(t.position)},e.getTransformedFocalPoint=function(){return t.transformMatrix?[]:[].concat(t.focalPoint)},e.setDirectionAngle=function(t,n){var r=l["default"].radiansFromDegrees(t),o=l["default"].radiansFromDegrees(n);e.setPosition(Math.cos(r)*Math.sin(o),Math.sin(r),Math.cos(r)*Math.cos(o)),e.setFocalPoint(0,0,0),e.setPositional(0)},e.setLightTypeToHeadLight=function(){e.setLightType("HeadLight")},e.setLightTypeToCameraLight=function(){e.setLightType("CameraLight")},e.setLightTypeToSceneLight=function(){e.setTransformMatrix(null),e.setLightType("SceneLight")},e.lightTypeIsHeadLight=function(){return"HeadLight"===t.lightType},e.lightTypeIsSceneLight=function(){return"SceneLight"===t.lightType},e.lightTypeIsCameraLight=function(){return"CameraLight"===t.lightType}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),s.obj(e,t),s.setGet(e,t,["intensity","switch","positional","exponent","coneAngle","transformMatrix","lightType","shadowAttenuation"]),s.setGetArray(e,t,["ambientColor","diffuseColor","specularColor","position","focalPoint","attenuationValues"],3),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.LIGHT_TYPES=void 0,t.vtkLight=i,t.extend=a;var u=n(13),s=o(u),c=n(31),l=r(c),f=t.LIGHT_TYPES=["HeadLight","CameraLight","SceneLight"],d={"switch":!0,intensity:1,ambientColor:[0,0,0],diffuseColor:[1,1,1],specularColor:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1},p=t.newInstance=s.newInstance(a,"vtkLight");t["default"]={newInstance:p,extend:a,LIGHT_TYPES:f}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return function(){return console.log("vtkViewport::"+e+" - NOT IMPLEMENTED")}}function i(e,t){t.classHierarchy.push("vtkViewport"),e.getViewProps=function(){return t.props},e.hasViewProp=function(e){return!!t.props.filter(function(t){return t===e}).length},e.addViewProp=function(n){n&&!e.hasViewProp(n)&&(t.props=t.props.concat(n))},e.removeViewProp=function(e){var n=t.props.filter(function(t){return t===e});t.props.length!==n.length&&(t.props=n)},e.removeAllViewProps=function(){t.props=[]},e.addActor2D=e.addViewProp,e.removeActor2D=function(t){e.removeViewProp(t)},e.getActors2D=function(){return t.actors2D=[],t.props.forEach(function(e){t.actors2D=t.actors2D.concat(e.getActors2D())}),t.actors2D},e.displayToView=function(){return console.error("call displayToView on your view instead")},e.viewToDisplay=function(){return console.error("callviewtodisplay on your view instead")},e.getSize=function(){return console.error("call getSize on your View instead")},e.normalizedDisplayToView=function(t,n,r){var o=e.normalizedDisplayToNormalizedViewport(t,n,r);return e.normalizedViewportToView(o[0],o[1],o[2])},e.normalizedDisplayToNormalizedViewport=function(e,n,r){var o=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[(e-t.viewport[0])/o[0],(n-t.viewport[1])/o[1],r]},e.normalizedViewportToView=function(e,t,n){return[2*e-1,2*t-1,2*n-1]},e.viewToNormalizedDisplay=function(t,n,r){var o=e.viewToNormalizedViewport(t,n,r);return e.normalizedViewportToNormalizedDisplay(o[0],o[1],o[2])},e.normalizedViewportToNormalizedDisplay=function(e,n,r){var o=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[(e-t.viewport[0])/o[0],(n-t.viewport[1])/o[1],r]},e.viewToNormalizedViewport=function(e,t,n){return[.5*(e+1),.5*(t+1),.5*(n+1)]},e.PickPropFrom=o("PickPropFrom")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),s.obj(e,t),s.event(e,t,"event"),s.setGetArray(e,t,["viewport"],4),s.setGetArray(e,t,["background","background2"],3),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=r(u),c={vtkWindow:null,background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]},l=t.newInstance=s.newInstance(a,"vtkViewport");t["default"]={newInstance:l,extend:a}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t.classHierarchy.push("vtkRenderWindow"),e.addRenderer=function(n){e.hasRenderer(n)||(n.setRenderWindow(e),t.renderers.push(n),e.modified())},e.removeRenderer=function(n){t.renderers=t.renderers.filter(function(e){return e!==n}),e.modified()},e.hasRenderer=function(e){return t.renderers.indexOf(e)!==-1},e.addView=function(n){e.hasView(n)||(n.setRenderable(e),t.views.push(n),e.modified())},e.removeView=function(n){t.views=t.views.filter(function(e){return e!==n}),e.modified()},e.hasView=function(e){return t.views.indexOf(e)!==-1},e.render=function(){t.views.forEach(function(e){return e.traverseAllPasses()})},e.captureImages=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png";return e.render(),t.views.map(function(e){return e.captureImage?e.captureImage(n):void 0}).filter(function(e){return!!e})}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),u.obj(e,t),u.setGet(e,t,["interactor","numberOfLayers","views"]),u.get(e,t,["neverRendered"]),u.getArray(e,t,["renderers"]),u.event(e,t,"completion"),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.DEFAULT_VALUES=void 0,t.vtkRenderWindow=o,t.extend=i;var a=n(13),u=r(a),s=t.DEFAULT_VALUES={renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1},c=t.newInstance=u.newInstance(i,"vtkRenderWindow");t["default"]={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){t.classHierarchy.push("vtkRenderWindowInteractor"),e.start=function(){(t.initialized||(e.initialize(),t.initialized))&&e.startEventLoop()},e.setRenderWindow=function(e){console.error("you want to call setView(view) instead of setRenderWindow on a vtk.js  interactor")},e.setInteractorStyle=function(n){t.interactorStyle!==n&&(null!=t.interactorStyle&&t.interactorStyle.setInteractor(null),t.interactorStyle=n,null!=t.interactorStyle&&t.interactorStyle.getInteractor()!==e&&t.interactorStyle.setInteractor(e))},e.initialize=function(){t.initialized=!0,e.enable(),e.render()},e.enable=function(){return e.setEnabled(!0)},e.disable=function(){return e.setEnabled(!1)},e.startEventLoop=function(){return console.log("empty event loop")},e.setEventPosition=function(e,n,r,o){t.pointerIndex=o,t.lastEventPositions[o]=t.eventPositions[o],t.eventPositions[o]={x:e,y:n,z:r}},e.getEventPosition=function(e){return t.eventPositions[e]},e.getLastEventPosition=function(e){return t.lastEventPositions[e]},e.bindEvents=function(n,r){t.canvas=n,n.addEventListener("mousedown",e.handleMouseDown),r.querySelector("body").addEventListener("keypress",e.handleKeyPress),n.addEventListener("mouseup",e.handleMouseUp),n.addEventListener("mousemove",e.handleMouseMove),n.addEventListener("touchstart",e.handleTouchStart,!1),n.addEventListener("touchend",e.handleTouchEnd,!1),n.addEventListener("touchcancel",e.handleTouchEnd,!1),n.addEventListener("touchmove",e.handleTouchMove,!1)},e.unbindEvents=function(t,n){t.removeEventListener("mousedown",e.handleMouseDown),n.querySelector("body").removeEventListener("keypress",e.handleKeyPress),t.removeEventListener("mouseup",e.handleMouseUp),t.removeEventListener("mousemove",e.handleMouseMove),t.removeEventListener("touchstart",e.handleTouchStart),t.removeEventListener("touchend",e.handleTouchEnd),t.removeEventListener("touchcancel",e.handleTouchEnd),t.removeEventListener("touchmove",e.handleTouchMove)},e.handleKeyPress=function(n){e.setEventPosition(n.clientX,t.canvas.clientHeight-n.clientY+1,0,0),t.controlKey=n.ctrlKey,t.altKey=n.altKey,t.shiftKey=n.shiftKey,t.keyCode=String.fromCharCode(n.charCode),e.charEvent()},e.handleMouseDown=function(n){switch(e.setEventPosition(n.clientX,t.canvas.clientHeight-n.clientY+1,0,0),t.controlKey=n.ctrlKey,t.altKey=n.altKey,t.shiftKey=n.shiftKey,n.which){case 1:e.leftButtonPressEvent()}},e.handleMouseMove=function(n){e.setEventPosition(n.clientX,t.canvas.clientHeight-n.clientY+1,0,0),e.mouseMoveEvent()},e.handleMouseUp=function(n){switch(e.setEventPosition(n.clientX,t.canvas.clientHeight-n.clientY+1,0,0),n.which){case 1:e.leftButtonReleaseEvent()}},e.handleTouchStart=function(n){n.stopPropagation(),n.preventDefault(),console.log("touch down");for(var r=n.changedTouches,o=0;o<r.length;o++){var i=r[o];e.setEventPosition(i.clientX,t.canvas.clientHeight-i.clientY+1,0,i.identifier),e.setPointerIndex(i.identifier),e.startTouchEvent()}},e.handleTouchMove=function(n){n.stopPropagation(),n.preventDefault();for(var r=n.changedTouches,o=0;o<r.length;o++){var i=r[o];e.setEventPosition(i.clientX,t.canvas.clientHeight-i.clientY+1,0,i.identifier),e.setPointerIndex(i.identifier),e.mouseMoveEvent()}},e.handleTouchEnd=function(n){n.stopPropagation(),n.preventDefault();for(var r=n.changedTouches,o=0;o<r.length;o++){var i=r[o];e.setEventPosition(i.clientX,t.canvas.clientHeight-i.clientY+1,0,i.identifier),e.setPointerIndex(i.identifier),e.endTouchEvent()}},e.findPokedRenderer=function(e,n){var r=t.view.getRenderable().getRenderers(),o=null,i=null,a=null;return r.forEach(function(r){t.view.isInViewport(e,n,r)&&r.getInteractive()&&(a=r),null===o&&r.getInteractive()&&(o=r),null===i&&t.view.isInViewport(e,n,r)&&(i=r)}),null===a&&(a=o),null===a&&(a=i),null==a&&(a=r[0]),a},e.render=function(){t.view&&t.enabled&&t.enableRender&&t.view.traverseAllPasses(),e.invokeRenderEvent()},p.forEach(function(n){var r=n.charAt(0).toLowerCase()+n.slice(1);e[r+"Event"]=function(){t.enabled&&e["invoke"+n]({type:n})}}),e.mouseMoveEvent=function(){t.enabled&&(t.recognizeGestures&&t.pointersDownCount>1?e.recognizeGesture("MouseMove"):e.invokeMouseMove({type:"MouseMove"}))},e.recognizeGesture=function(n){if(!(t.pointersDownCount>2)){if("LeftButtonPress"===n)return Object.keys(t.pointersDown).forEach(function(e){t.startingEventPositions[e]=t.eventPositions[e]}),void(t.currentGesture="Start");if("LeftButtonRelease"===n)return"Pinch"===t.currentGesture&&e.endPinchEvent(),"Rotate"===t.currentGesture&&e.endRotateEvent(),
"Pan"===t.currentGesture&&e.endPanEvent(),void(t.currentGesture="Start");var r=0,o=[],i=[];if(Object.keys(t.pointersDown).forEach(function(e){o[r]=t.eventPositions[e],i[r]=t.startingEventPositions[e],r++}),"MouseMove"===n){var a=Math.sqrt((i[0].x-i[1].x)*(i[0].x-i[1].x)+(i[0].y-i[1].y)*(i[0].y-i[1].y)),u=Math.sqrt((o[0].x-o[1].x)*(o[0].x-o[1].x)+(o[0].y-o[1].y)*(o[0].y-o[1].y)),s=l["default"].degreesFromRadians(Math.atan2(i[1].y-i[0].y,i[1].x-i[0].x)),c=l["default"].degreesFromRadians(Math.atan2(o[1].y-o[0].y,o[1].x-o[0].x)),f=c-s;c=c+180>=360?c-180:c+180,s=s+180>=360?s-180:s+180,Math.abs(c-s)<Math.abs(f)&&(f=c-s);var d=[];if(d[0]=(o[0].x-i[0].x+o[1].x-i[1].x)/2,d[1]=(o[0].y-i[0].y+o[1].y-i[1].y)/2,"Start"===t.currentGesture){var p=.01*Math.sqrt(t.canvas.clientWidth*t.canvas.clientWidth+t.canvas.clientHeight*t.canvas.clientHeight);p<15&&(p=15);var g=Math.abs(u-a),h=3.1415926*u*Math.abs(f)/360,v=Math.sqrt(d[0]*d[0]+d[1]*d[1]);g>p&&g>h&&g>v?(t.currentGesture="Pinch",t.scale=1,e.startPinchEvent()):h>p&&h>v?(t.currentGesture="Rotate",t.rotation=0,e.startRotateEvent()):v>p&&(t.currentGesture="Pan",t.translation[0]=0,t.translation[1]=0,e.startPanEvent())}"Rotate"===t.currentGesture&&(e.setRotation(f),e.rotateEvent()),"Pinch"===t.currentGesture&&(e.setScale(u/a),e.pinchEvent()),"Pan"===t.currentGesture&&(e.setTranslation(d),e.panEvent())}}},e.setScale=function(n){t.lastScale=t.scale,t.scale!==n&&(t.scale=n,e.modified())},e.setRotation=function(n){t.lastRotation=t.rotation,t.rotation!==n&&(t.rotation=n,e.modified())},e.setTranslation=function(n){t.lastTranslation=t.translation,t.translation!==n&&(t.translation=n,e.modified())},e.startTouchEvent=function(){if(t.enabled)return t.recognizeGestures&&(t.pointersDown[t.pointerIndex]||(t.pointersDown[t.pointerIndex]=1,t.pointersDownCount++),t.pointersDownCount>1)?(2===t.pointersDownCount&&e.invokeLeftButtonRelease({type:"LeftButtonRelease"}),void e.recognizeGesture("LeftButtonPress")):void e.invokeLeftButtonPress({type:"LeftButtonPress"})},e.endTouchEvent=function(){t.enabled&&(t.recognizeGestures?t.pointersDown[t.pointerIndex]&&(t.pointersDownCount>1&&e.recognizeGesture("LeftButtonRelease"),delete t.pointersDown[t.pointerIndex],t.startingEventPositions[t.pointerIndex]&&delete t.startingEventPositions[t.pointerIndex],t.eventPositions[t.pointerIndex]&&delete t.eventPositions[t.pointerIndex],t.lastEventPositions[t.pointerIndex]&&delete t.lastEventPositions[t.pointerIndex],t.pointersDownCount--,e.invokeLeftButtonRelease({type:"LeftButtonRelease"})):e.invokeLeftButtonRelease({type:"LeftButtonRelease"}))}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),t.eventPositions={},t.lastEventPositions={},t.pointersDown={},t.startingEventPositions={},s.obj(e,t),s.event(e,t,"RenderEvent"),p.forEach(function(n){return s.event(e,t,n)}),s.get(e,t,["initialized","enabled","enableRender","scale","lastScale","rotation","lastRotation"]),s.setGet(e,t,["pointerIndex","lightFollowCamera","enabled","shiftKey","controlKey","altKey","keyCode","view","recognizeGestures"]),s.getArray(e,t,["translation","lastTranslation"]),i(e,t),e.setInteractorStyle(d["default"].newInstance())}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var u=n(13),s=o(u),c=n(31),l=r(c),f=n(67),d=r(f),p=["Enter","Leave","MouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","MouseWheelForward","MouseWheelBackward","Expose","Configure","Timer","KeyPress","KeyRelease","Char","Delete","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Tap","LongTap","Swipe"],g={eventPositions:null,lastEventPositions:null,startingEventPositions:null,pointersDown:null,pointersDownCount:0,pointerIndex:0,renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,lightFollowCamera:!0,desiredUpdateRate:10,stillUpdateRate:.5,shiftKey:!1,altKey:!1,controlKey:!1,keyCode:0,canvas:null,view:null,recognizeGestures:!0,currentGesture:"Start",scale:1,lastScale:1,translation:[],lastTranslation:[],rotation:0,lastRotation:0},h=t.newInstance=s.newInstance(a,"vtkRenderWindowInteractor");t["default"]=Object.assign({newInstance:h,extend:a})}]);